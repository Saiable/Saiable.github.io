<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>思科CCNA网络基础入门 | 吕小布の博客</title><meta name="keywords" content="吕小布;博客;生活记录"><meta name="author" content="Sai"><meta name="copyright" content="Sai"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="教程来源：https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1Qb411G7bD?p&#x3D;1 第五集，能看到电脑操作：https:&#x2F;&#x2F;ke.qq.com&#x2F;course&#x2F;172514?taid&#x3D;1017443392856546 1.计算机网络1.1.网络是什么 端系统  中间系统（NA）   将地理位置不同的多台计算机， 通过通信线路连接起来， 在网络操作系统中，网络管理软件及网络通信协">
<meta property="og:type" content="article">
<meta property="og:title" content="思科CCNA网络基础入门">
<meta property="og:url" content="https://mindcons.cn/2022/08/09/md/network/%E6%80%9D%E7%A7%91CCNA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="吕小布の博客">
<meta property="og:description" content="教程来源：https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1Qb411G7bD?p&#x3D;1 第五集，能看到电脑操作：https:&#x2F;&#x2F;ke.qq.com&#x2F;course&#x2F;172514?taid&#x3D;1017443392856546 1.计算机网络1.1.网络是什么 端系统  中间系统（NA）   将地理位置不同的多台计算机， 通过通信线路连接起来， 在网络操作系统中，网络管理软件及网络通信协">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://bu.dusays.com/2023/02/10/63e583843360e.webp">
<meta property="article:published_time" content="2022-08-09T01:03:02.000Z">
<meta property="article:modified_time" content="2023-11-14T23:27:26.301Z">
<meta property="article:author" content="Sai">
<meta property="article:tag" content="吕小布;博客;生活记录">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://bu.dusays.com/2023/02/10/63e583843360e.webp"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://mindcons.cn/2022/08/09/md/network/%E6%80%9D%E7%A7%91CCNA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"61301LMFP2","apiKey":"a7627d15f4af23df7fbc3e2922471858","indexName":"mindcons","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":350},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Sai","link":"链接: ","source":"来源: 吕小布の博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '思科CCNA网络基础入门',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-11-15 07:27:26'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/custom/css/custom.min.css"><meta name="generator" content="Hexo 6.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://bu.dusays.com/2023/02/10/63e583843360e.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">175</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">36</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fa-sharp fa-solid fa-photo-film"></i><span> 相册</span></a></li><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fas fa-video"></i><span> 番剧</span></a></li><li><a class="site-page child" href="/booklist/"><i class="fa-fw fa-solid fa-book"></i><span> 书单</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/sponsorWall/"><i class="fa-fw fas fa-money-check-alt"></i><span> 赞助墙</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">吕小布の博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fa-sharp fa-solid fa-photo-film"></i><span> 相册</span></a></li><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fas fa-video"></i><span> 番剧</span></a></li><li><a class="site-page child" href="/booklist/"><i class="fa-fw fa-solid fa-book"></i><span> 书单</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/sponsorWall/"><i class="fa-fw fas fa-money-check-alt"></i><span> 赞助墙</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">思科CCNA网络基础入门</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-09T01:03:02.000Z" title="发表于 2022-08-09 09:03:02">2022-08-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-11-14T23:27:26.301Z" title="更新于 2023-11-15 07:27:26">2023-11-15</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="思科CCNA网络基础入门"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>教程来源：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Qb411G7bD?p=1">https://www.bilibili.com/video/BV1Qb411G7bD?p=1</a></p>
<p>第五集，能看到电脑操作：<a target="_blank" rel="noopener" href="https://ke.qq.com/course/172514?taid=1017443392856546">https://ke.qq.com/course/172514?taid=1017443392856546</a></p>
<h2 id="1-计算机网络"><a href="#1-计算机网络" class="headerlink" title="1.计算机网络"></a>1.计算机网络</h2><h3 id="1-1-网络是什么"><a href="#1-1-网络是什么" class="headerlink" title="1.1.网络是什么"></a>1.1.网络是什么</h3><ul>
<li><p>端系统</p>
</li>
<li><p>中间系统（NA）</p>
</li>
</ul>
<p>将地理位置不同的多台计算机，</p>
<p>通过通信线路连接起来，</p>
<p>在网络操作系统中，网络管理软件及网络通信协议的管理和协调下，</p>
<p>实现资源共享和信息传递的计算机系统。</p>
<h3 id="1-2-网络架构"><a href="#1-2-网络架构" class="headerlink" title="1.2.网络架构"></a>1.2.网络架构</h3><h4 id="1-2-1-RS-Router-Switch-架构"><a href="#1-2-1-RS-Router-Switch-架构" class="headerlink" title="1.2.1.RS(Router Switch)架构"></a>1.2.1.RS(Router Switch)架构</h4><p>描述的是中间系统的架构</p>
<ul>
<li><p>PC端</p>
</li>
<li><p>交换机</p>
<ul>
<li>Cisco-2900</li>
<li>很多接口</li>
<li>交换机组建的网络，是局域网</li>
</ul>
</li>
<li><p>防火墙（硬件）</p>
<ul>
<li>火绒（软件）</li>
<li>深信服（软件）</li>
</ul>
</li>
<li><p>路由器</p>
<ul>
<li>Cisco-3640</li>
<li>路由器接口没有交换机的多</li>
<li>路由器有开关，而交换机没有</li>
<li>得办宽带，通过路由器把网线连出去</li>
</ul>
</li>
</ul>
<p>交换机、路由器的最终目的，是实现通信</p>
<p>端系统是会变化的：PC、手机、IP网络电话</p>
<p>中间系统也是会变化的：WIFI网络</p>
<h3 id="1-3-网络的类型"><a href="#1-3-网络的类型" class="headerlink" title="1.3.网络的类型"></a>1.3.网络的类型</h3><p>路由器和交换机能实现什么样的网络？</p>
<ul>
<li><h2 id="局域网（LAN）：一组终端设备和由共同的组织管理的用户-所有的用户，都接在一台交换机下，局域网就形成了-局域网游戏、通信"><a href="#局域网（LAN）：一组终端设备和由共同的组织管理的用户-所有的用户，都接在一台交换机下，局域网就形成了-局域网游戏、通信" class="headerlink" title="局域网（LAN）：一组终端设备和由共同的组织管理的用户- 所有的用户，都接在一台交换机下，局域网就形成了- 局域网游戏、通信"></a>局域网（LAN）：一组终端设备和由共同的组织管理的用户<br>- 所有的用户，都接在一台交换机下，局域网就形成了<br>- 局域网游戏、通信</h2></li>
<li>广域网（WAN）：连接分布于不同地理位置的LAN<ul>
<li>分布于不同地理位置的局域网</li>
<li>广域网实质上，就是N多不同的局域网，拼接而成</li>
<li>路由器，是可以把一个局域网的数据，发到另外一个局域网的设备</li>
</ul>
</li>
<li>局域网、广域网和Internet之间的关系<ul>
<li>路由器出口，连接到哪里？<ul>
<li>宽带找谁买的？运营商（ISP）</li>
<li>ISP物理层面，可以简单理解为一节一节的路由器</li>
<li>ISP的某个路由器，再连接到远程的局域网</li>
<li>最终实现本地和远程通信</li>
</ul>
</li>
<li>不同ISP的局域网（电信、联通、移动）<ul>
<li>Internet就是，不同ISP的局域网，之间的通信</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>终端与对端</p>
<ul>
<li>在PC上做的任何事情，都有相应的人，要给你提供服务<ul>
<li>CS模型</li>
</ul>
</li>
<li>凭什么找到对应的服务<ul>
<li>下一节</li>
</ul>
</li>
</ul>
<h2 id="2-OSI-TCP分层"><a href="#2-OSI-TCP分层" class="headerlink" title="2.OSI-TCP分层"></a>2.OSI-TCP分层</h2><p>凭什么找到对应的服务</p>
<p>应用程序有很多，路由器交换机的厂商有很多，电脑品牌都有很多</p>
<p>中间的这些数据，是如何精确的，传到想要的对端上的?</p>
<p>OSI分层模型来解释，源是怎样通过不同的应用程序，通过不同的中间系统，到不同的目的端</p>
<h3 id="2-1-OSI分层"><a href="#2-1-OSI分层" class="headerlink" title="2.1.OSI分层"></a>2.1.OSI分层</h3><ul>
<li>20世纪70年代后期，ISO创建OSI参考模型，希望<strong>不同供应商的网络</strong>能够相互协同工作</li>
<li>OSI：开放互联系统（open system interconnection）</li>
<li>ISO：国际标准化组织（International Organization for Standardization）</li>
</ul>
<h4 id="2-1-1-为什么要分层"><a href="#2-1-1-为什么要分层" class="headerlink" title="2.1.1.为什么要分层"></a>2.1.1.为什么要分层</h4><p>分层的优点：</p>
<p>1.促进标准化工作，允许各个供应商进行开发</p>
<p>2.各层间相互独立，把网络操作分成低复杂性单元</p>
<p>3.灵活性好，某一层变化不会影响到别层，设计者可专心设计和开发模块功能</p>
<p>类比于快递系统</p>
<h3 id="2-2-OSI-amp-TCP-x2F-IP"><a href="#2-2-OSI-amp-TCP-x2F-IP" class="headerlink" title="2.2.OSI&amp;TCP&#x2F;IP"></a>2.2.OSI&amp;TCP&#x2F;IP</h3><table>
<thead>
<tr>
<th align="center">OSI参考模型</th>
<th align="center">TCP&#x2F;IP协议</th>
</tr>
</thead>
<tbody><tr>
<td align="center">应用层</td>
<td align="center">应用层</td>
</tr>
<tr>
<td align="center">表示层</td>
<td align="center">应用层</td>
</tr>
<tr>
<td align="center">会话层</td>
<td align="center">应用层</td>
</tr>
<tr>
<td align="center">传输层</td>
<td align="center">传输层</td>
</tr>
<tr>
<td align="center">网络层</td>
<td align="center">网络互联层</td>
</tr>
<tr>
<td align="center">链路层</td>
<td align="center">网络接口层</td>
</tr>
<tr>
<td align="center">物理层</td>
<td align="center">网络（链路）接口层</td>
</tr>
</tbody></table>
<p>常用的是TCP&#x2F;IP</p>
<h4 id="2-2-1-物理层"><a href="#2-2-1-物理层" class="headerlink" title="2.2.1.物理层"></a>2.2.1.物理层</h4><p>部署一个网络，先有第一层</p>
<ul>
<li><p>物理层的主要作用，是产生并检测电压发送，和接收带有数据的电气信号</p>
</li>
<li><p>物理层是不提供数据的纠错服务的，但是在物理层上，能对数据的传输速度作一定的控制，并能检测数据的出错率</p>
</li>
<li><p>在物理层传输电器信号的载体我们称之为，位流或比特流</p>
</li>
</ul>
<p>物理层部署的就是网线，就是<strong>接线</strong></p>
<p>物理层里面走的是数字信号，即比特流</p>
<p>物理层设备</p>
<ul>
<li>屏蔽双绞线（STP）</li>
<li>非屏蔽双绞线（UTP）</li>
<li>集线器<ul>
<li>让比特流信号质检，能够相互交通</li>
</ul>
</li>
<li>转化器</li>
<li>中继器<ul>
<li>还原&#x2F;放大比特流信号的</li>
</ul>
</li>
</ul>
<p>猫（调制解调器）不是上网设备，是用来转信号的，数模转换，将数字信号转换为模拟信号，才可以通网</p>
<p>除了网线，还有光纤、无线，都属于物理层接线设备</p>
<h4 id="2-2-2-数据链路层"><a href="#2-2-2-数据链路层" class="headerlink" title="2.2.2.数据链路层"></a>2.2.2.数据链路层</h4><ul>
<li>数据链路层决定数据通讯的机制，差错检测</li>
<li>提供对网络层的服务</li>
<li>合成传输的帧数据</li>
</ul>
<p>主要对应的是网卡上的Mac地址，类比于车牌号</p>
<p>只有设备上，有Mac地址，才能证明该设备是一个网络设备</p>
<p>数据链路层设备</p>
<ul>
<li><p>交换机</p>
<ul>
<li>依赖Mac地址来管理、连接所有的硬件设备</li>
</ul>
</li>
<li><p>网桥</p>
</li>
<li><p>网卡</p>
</li>
</ul>
<p><strong>Mac地址</strong></p>
<p>Mac地址的结构</p>
<p>由48位二进制数组成，通常表示为12个16进制数</p>
<p>前24位是标准组织（IEEE）制定的，后24位是厂家自己制定的节点标识符，例如：00-IC-25-91-65-48</p>
<h4 id="2-2-3-网络层"><a href="#2-2-3-网络层" class="headerlink" title="2.2.3.网络层"></a>2.2.3.网络层</h4><p>因为Mac地址都是唯一的，想要找到对方，就没有什么计算方法</p>
<p>范围一旦扩大，难度就增加了</p>
<p>所以，网络的分层，在有了网线，有了接口Mac，承认它是一个网络设备的基础之上，为了能够把数据在全球范围，又快又准的找到对方，就增加了IP的概念</p>
<ul>
<li>为网络设备提供逻辑地址<ul>
<li>不再是看得见，摸得着的东西了</li>
<li>IP是用逻辑算法编译出来的地址</li>
<li>既然是逻辑算法编译，就可以通过逻辑算法来选路，找一个最快的路径，这就是为什么我们现在上网这么快</li>
<li>这样的地址，叫做因特网地址，也叫做公网IP？？</li>
<li>Mac地址对应的网络，叫做以太网，IP地址对应的网络，叫做因特网</li>
</ul>
</li>
<li>负责数据从源端发送到目的端</li>
<li>负责数据传输的寻址和转发</li>
</ul>
<p>网络层设备</p>
<ul>
<li>路由器<ul>
<li>依靠IP地址进行逻辑选路最优最快的算法， 把数据传递到目的端，这就是IP存在的意义</li>
</ul>
</li>
<li>为什么交换机不能上网？<ul>
<li>因为交换机不识别IP，而路由器能</li>
</ul>
</li>
</ul>
<p>一二三层，满足的是中间系统，接下来就是端系统的分层，都是属于逻辑层</p>
<h4 id="2-2-4-传输层"><a href="#2-2-4-传输层" class="headerlink" title="2.2.4.传输层"></a>2.2.4.传输层</h4><p>为了端系统上面的应用程序，一旦想要向网络中转发数据，就需要用到传输层为它传输</p>
<p>也就是说，传输层是专门为应用层提供，端到端的服务的</p>
<p>所以，有应用层，才有传输层，如果应用层不存在，传输层也就不存在</p>
<p>先了解下一小节的应用层</p>
<p>传输层到底为应用层，提供了什么样的服务</p>
<ul>
<li>传输层负责建立端到端的连接，负责数据在端到端之间的传输</li>
<li>传输层通过端口号区分上层服务</li>
<li>TCP（传输控制协议）<ul>
<li>面向连接</li>
<li>可靠传输<ul>
<li>丢包重传</li>
</ul>
</li>
<li>流控及窗口机制</li>
<li>使用TCP的应用<ul>
<li>Web浏览器、电子邮件</li>
<li>文件传输程序</li>
</ul>
</li>
</ul>
</li>
<li>UDP（用户数据报协议）<ul>
<li>无连接</li>
<li>不可靠传输</li>
<li>尽力而为的传输</li>
<li>使用UDP的应用<ul>
<li>域名系统（DNS）、视频流</li>
<li>IP语音（VoIP）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-2-5-应用层"><a href="#2-2-5-应用层" class="headerlink" title="2.2.5.应用层"></a>2.2.5.应用层</h4><ul>
<li>应用层的作用主要是为应用软件，提供接口，从而使得<strong>应用程序</strong>能够使用网络服务</li>
<li>http,ftp,telnet,dns,smtp…</li>
<li>常见端口号，类比于110、112公共的电话号码<ul>
<li>每一个端口号，都是对应一个应用程序</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">应用程序</th>
<th align="center">默认端口号</th>
</tr>
</thead>
<tbody><tr>
<td align="center">HTTP</td>
<td align="center">80</td>
</tr>
<tr>
<td align="center">FTP</td>
<td align="center">21</td>
</tr>
<tr>
<td align="center">Telnet</td>
<td align="center">23</td>
</tr>
<tr>
<td align="center">SMTP</td>
<td align="center">25</td>
</tr>
<tr>
<td align="center">DNS</td>
<td align="center">53</td>
</tr>
<tr>
<td align="center">TFTP</td>
<td align="center">69</td>
</tr>
<tr>
<td align="center">SNMP</td>
<td align="center">161</td>
</tr>
<tr>
<td align="center">RIP</td>
<td align="center">520</td>
</tr>
</tbody></table>
<ul>
<li>一个应用程序，就对应于一个服务端口<ul>
<li>端口号就是区分应用程序的</li>
<li>应用层提供端口号，传输层按照提供的服务端口，去找到对端的服务程序</li>
<li>这是端到端之间的关系</li>
</ul>
</li>
</ul>
<h3 id="2-3-借助OSI模型来理解数据传输过程"><a href="#2-3-借助OSI模型来理解数据传输过程" class="headerlink" title="2.3.借助OSI模型来理解数据传输过程"></a>2.3.借助OSI模型来理解数据传输过程</h3><p>核心：<strong>封装&amp;解封装</strong></p>
<p>pc通过qq产生了数据，这样的数据被称为应用层数据，只有pc才能明白，这是什么东西，而同样能理解应用层数据的，是对端的服务器。</p>
<p>现在数据要向外传输，应用层就提供了端口号（qq的端口是4000，4000就代表了qq这个应用程序的编号）</p>
<p>应用程序一旦产生，传输层就要提供端到端的服务，传输层与应用层，由于分层不同，传输层要传输应用层数据，不可能直接发到对端的应用层，而只能是传到对端的传输层</p>
<p>为了保证传输层能够传递（通信），在发数据之前，传输层协议，会在数据流之前进行打包（类比于寄快递前打包裹），以阐明用的是TCP还是UDP（假设传输层，使用的是UDP为QQ进行服务）</p>
<p>现在在外面，看不到QQ的数据了，能看到的就只是UDP的包而已</p>
<p>现在要向外传，不知道里面是什么了，对端也不好辨别里面的内容，所以把应用层提供的端口号，放在传输层的报头里</p>
<p>此时UDP报头写着4000端口号，就意味着UDP里面的，是QQ</p>
<p>现在传输层掌握的信息是，我要找对端服务端口号是4000的，但是，只掌握这些信息，能够传嘛？</p>
<p>明显是不够的</p>
<p>就要借助传输层的底层，网络层。网络层提供的是IP地址，也就意味着，要利用提供的IP地址，去寻找对端服务所在的IP地址，到底在哪里</p>
<p>同理，要利用IP去传输的话，包就不能这么传了，IP也要对数据进行一层封装，于是又在数据前面盖了一个报头（IP的部分）</p>
<p>同理，现在在外面，看不到UDP报头里的信息了，能看到的就只是IP的包而已，</p>
<p>为了对数据进行辨别，所以在IP里面有一个叫协议号的东西，用来表明，未来拆掉IP，里面放的是什么传输协议，什么内容（UDP在IP里对应的协议号，是17，这些都是定死的）</p>
<p>此时IP报头写着17的协议号，就意味着拆掉IP后，没有惊喜，里面就是UDP</p>
<p>IP还要有什么呢？要有源IP和目的IP</p>
<p>通过源IP和目的IP，按照IP的逻辑寻址，最快的找到服务所在的IP的那一点，就OK了</p>
<p>至此，IP就已经是一个数据包的形态了，能够向外进行转发了，只要PC能够发到路由器，一跳一跳的，就能找到对方</p>
<p>然而这个数据包，最终是要从物理接口发出，IP只是物理接口的逻辑地址，物理接口上还有一个Mac地址</p>
<p>所以我们的硬件接口要对数据包进行最后一层封装，以太网封装</p>
<p>同理，要加上type（类型位），现在在4层报头中，2层叫类型位，3层叫协议号，4层叫端口号，虽然表示的内容不一样，但是本质上类似，都是表示拆掉之后，我封装的那个东西是什么</p>
<p>除此之外，还有什么信息呢？还有源Mac地址和目的Mac地址，现在数据的封装才算完整。</p>
<p>数据包从PC端发出，第一个承接的，是交换机，交换机是一个二层设备，只可以识别Mac地址</p>
<p>交换机按照源Mac和目的Mac，在局域网进行短距离的传输，传递给路由器</p>
<p>路由器是一个三层设备，在看完源Mac和目的Mac没问题之后，还要按照三层IP的报文去分析，从而进行转发，因为路由器是按照源IP和目的IP去转发的</p>
<p>数据对于路由器而言，被二层挡住了，路由器要看到三层封装的数据，必须要解封装，拆掉之后要看到IP的部分，要看目的IP到底是谁，到底要进行怎样的转发</p>
<p>而路由器往外发的时候，又会封装一个新的以太网，继续去发送</p>
<p>最后到了服务器</p>
<p>服务器是一个七层的，以太网、IP、UDP识别完依次拆掉之后，最后看端口号4000提供的服务的，我也有，是QQ的</p>
<p>服务器的应用程序，对数据进行处理之后，再返回过去，重复上述的全部过程</p>
<p>所以，从应用层到物理层，从上到下，是一个加封装的过程，反之</p>
<p>整个数据的传输过程，就是加封装、解封装重复的过程，只不过中间系统的层数没那么多而已</p>
<p>这也就解释了，为什么厂商不同，应用程序不同，最后还能够传递网络精确匹配？</p>
<p>因为中间的这堆设备，包括源、目的两端，在处理数据的时候，都是按照数据包头进行处理的，只要识别包头就可以了，不用管应用层内部传的是什么内容，类比快递，只要识别地址就够了，不用管里面寄的是什么东西</p>
<ul>
<li>封装时一些专有名词</li>
</ul>
<p>原始的应用层数据，称为payload（负载）</p>
<p>每个协议的小块，称为报头</p>
<p>被传输层UDP封在了里面，单独的，每一层的协议，像UDP报头的那一小块，称为Head，原来的payload称为数据，数据+报头加在一起，称为报文，UDP那一段的报文，称为segment（段）</p>
<p>IP的报头，与UDP和应用层的部分，IP报头是HEAD，UDP和应用层的部分，又变成了数据，IP的整个报头加数据，称为Packet（数据包）</p>
<p>以太网，又把后面所有的东西封装在一起，对于以太网头部来说，IP部分又变成了数据，以太网头部加数据，称为Frame（帧）</p>
<p>都是一个东西，只不过是封装的层数不一样，交换机转发的是帧，路由器转发的以及网络上传输的是数据包，至于分段、负载都是每个应用层的端去处理的</p>
<p>网工玩的主要是网络层，入门的就是第一件事，就是分配一个合理的IP地址</p>
<h2 id="3-IP地址及子网掩码划分"><a href="#3-IP地址及子网掩码划分" class="headerlink" title="3.IP地址及子网掩码划分"></a>3.IP地址及子网掩码划分</h2><h3 id="3-1-十进制VS二进制数"><a href="#3-1-十进制VS二进制数" class="headerlink" title="3.1.十进制VS二进制数"></a>3.1.十进制VS二进制数</h3><ul>
<li>十进制数由0到9表示</li>
<li>二进制数由一连串的1和0表示</li>
</ul>
<table>
<thead>
<tr>
<th align="center">十进制</th>
<th align="center">二进制</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">10</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">11</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">100</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">101</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">110</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">111</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">1000</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">1001</td>
</tr>
<tr>
<td align="center">10</td>
<td align="center">1010</td>
</tr>
<tr>
<td align="center">11</td>
<td align="center">1011</td>
</tr>
<tr>
<td align="center">12</td>
<td align="center">1100</td>
</tr>
<tr>
<td align="center">13</td>
<td align="center">1101</td>
</tr>
<tr>
<td align="center">14</td>
<td align="center">1110</td>
</tr>
<tr>
<td align="center">15</td>
<td align="center">1111</td>
</tr>
<tr>
<td align="center">16</td>
<td align="center">10000</td>
</tr>
<tr>
<td align="center">17</td>
<td align="center">10001</td>
</tr>
<tr>
<td align="center">18</td>
<td align="center">10010</td>
</tr>
<tr>
<td align="center">19</td>
<td align="center">10011</td>
</tr>
</tbody></table>
<p>IP地址是三个点分，四个小节</p>
<p>每个小节都是8个比特，十进制的每个小节的大小，是取决于二进制每个小节的大小</p>
<p>由于位数的限制，所以每个小节的最大值是八个一，换算成十进制，是255</p>
<p>所以IP地址的范围是0.0.0.0~255.255.255.255，对于学习IP来说，不需要把32位所有的二进制，全换算成十进制，只需要搞清楚每个小节的换算就可以了</p>
<p>下表，表示每个比特，值为一时代表的十进制数</p>
<table>
<thead>
<tr>
<th align="center">128</th>
<th align="center">64</th>
<th align="center">32</th>
<th align="center">16</th>
<th align="center">8</th>
<th align="center">4</th>
<th align="center">2</th>
<th align="center">1</th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">&#x3D;</td>
<td align="center">128</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">&#x3D;</td>
<td align="center">192</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">&#x3D;</td>
<td align="center">224</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">&#x3D;</td>
<td align="center">240</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">&#x3D;</td>
<td align="center">248</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">&#x3D;</td>
<td align="center">252</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">&#x3D;</td>
<td align="center">254</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">&#x3D;</td>
<td align="center">255</td>
</tr>
</tbody></table>
<h3 id="3-2-地址分类"><a href="#3-2-地址分类" class="headerlink" title="3.2.地址分类"></a>3.2.地址分类</h3><table>
<thead>
<tr>
<th>分类</th>
<th>起始</th>
<th>结束</th>
</tr>
</thead>
<tbody><tr>
<td>A类</td>
<td>1.0.0.1</td>
<td>126.255.255.254</td>
</tr>
<tr>
<td>B类</td>
<td>128.0.0.1</td>
<td>191.255.255.254</td>
</tr>
<tr>
<td>C类</td>
<td>192.0.0.1</td>
<td>223.255.255.254</td>
</tr>
<tr>
<td>D类</td>
<td>224.0.0.1</td>
<td>239.255.255.254</td>
</tr>
<tr>
<td>E类</td>
<td>240.0.0.1</td>
<td>255.255.255.254</td>
</tr>
</tbody></table>
<p>127的地址段，分给了操作系统，作为环回地址了</p>
<p>在pc中，可以从内存中，虚拟出一个ip地址，环回接口就可以理解为这个内存接口</p>
<p>如果能ping通127.0.0.0，证明网卡是好的</p>
<p>127非要分类，算A类</p>
<p><strong>用途</strong></p>
<p><img src="https://img-blog.csdnimg.cn/0588028a90054060aa22c4e4d7d020ee.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAU2FpYWJsZQ==,size_18,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p>实际使用的，只有A、B、C三类</p>
<p>每一个不同分类的ip地址，区别在于系统默认的子网掩码，是不一样的</p>
<h3 id="3-3-子网掩码"><a href="#3-3-子网掩码" class="headerlink" title="3.3.子网掩码"></a>3.3.子网掩码</h3><table>
<thead>
<tr>
<th>分类</th>
<th>范围</th>
<th>默认掩码</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>A类</td>
<td>1.0.0.1~126.255.255.254</td>
<td>255.0.0.0</td>
<td>&#x3D;&#x3D;&#x2F;8</td>
</tr>
<tr>
<td>B类</td>
<td>128.0.0.1~191.255.255.254</td>
<td>255.255.0.0</td>
<td>&#x3D;&#x3D;&#x2F;16</td>
</tr>
<tr>
<td>C类</td>
<td>192.0.0.1~223.255.255.254</td>
<td>255.255.255.0</td>
<td>&#x3D;&#x3D;&#x2F;24</td>
</tr>
</tbody></table>
<p><strong>子网掩码的作用</strong></p>
<p>将一个ip地址，规划为两个部分</p>
<p>如一个常见的ip地址，192.168.1.1</p>
<p>这是一个C类地址，默认的子网掩码是255.255.255.0</p>
<p>255对应的是1，被1盖住的部分，称之为网络位：192.168.1</p>
<p>没有被盖住的部分，称为主机位：1</p>
<p>子网掩码要求必须是连续的，不存在11111110  11111111这样的</p>
<p><strong>地址数量</strong></p>
<table>
<thead>
<tr>
<th>分类</th>
<th>可容纳主机数量</th>
</tr>
</thead>
<tbody><tr>
<td>A类</td>
<td>2^24-2 &#x3D; 16777214</td>
</tr>
<tr>
<td>B类</td>
<td>2^16-2 &#x3D; 65534</td>
</tr>
<tr>
<td>C类</td>
<td>2^8-2 &#x3D; 254</td>
</tr>
</tbody></table>
<p>按照不同的分类，部署不同的网络</p>
<p><strong>网络地址（Network）</strong>：也可以称作网络号，唯一指定了每个网络。同一个网络地址中，每个计算机都共享相同的网络地址，并用它作为自己的IP地址的一部分，它定义了IP地址所属的网段。</p>
<p><strong>结点地址（主机地址 Host）</strong>：也可以称作主机地址，是在一个网络中用来标识每台计算机的，它也是唯一的标识符。相对于网络而言，它是用来独立标志指定计算机的。</p>
<p>192.168.1.0这个地址，代表了这个网络下的所有地址，是不能够被分配的，在路由的时候要用到</p>
<p>192.168.1.255这个地址，称为广播地址，你往这个地址发一个信息，这个网络内的所有地址，都可以收到，也不能够被分配给主机</p>
<p><strong>特殊的IP地址</strong>：0.0.0.0代表所有的网络地址</p>
<h3 id="3-4-VLSM"><a href="#3-4-VLSM" class="headerlink" title="3.4.VLSM"></a>3.4.VLSM</h3><p>变长子网掩码（Variable-Length Subnet Masks VLSM）的出现是打破传统的以类（class）为标准的地址划分法，是为了缓解IP地址紧缺而产生的</p>
<p>作用：节约IP地址空间</p>
<p>注意：使用VLSM时，所采用的路由协议必须能够支持它，这些路由协议包括RIPv2,OSPF ,EIGRP和BGP（有类&#x2F;无类）</p>
<p>VLSM划分子网的简单方法：</p>
<p>举例：某公司现有一C类网段192.160.1.0&#x2F;24，目前有以下几个部分：销售部&#x2F;59台，技术部&#x2F;27台，业务部&#x2F;121台，会计部&#x2F;10台。需求：将一个C类网段合理分配给如下几个部门，保证地址合理分配</p>
<p>192.168.1.0</p>
<p>255.255.255.0000 0000</p>
<p>255.255.255.1000 0000   2^7 &#x3D; 128 个主机</p>
<p>划分两个子网：</p>
<p>192.168.1.0  1-126 127</p>
<p>192.168.1.128  129-254 255</p>
<p>255.255.255.1100 0000  2^6 &#x3D; 64个主机</p>
<p>划分四个子网：</p>
<p>192.168.1.0  1-62  63</p>
<p>192.168.1.64  65-126  127</p>
<p>192.168.1.128  129-190  191</p>
<p>192.168.1.192  193-254  255</p>
<p>…….</p>
<p>255.255.255.1111 1100</p>
<p>4个主机，2个可用，所以有效的子网掩码范围到&#x2F;30</p>
<p>上面的C类地址的规划</p>
<p>B类地址的子网规划：</p>
<p>1和0在哪个小节发生碰撞，就在哪个小节计算，不要放一起</p>
<p>172.16.0.0&#x2F;20</p>
<p>255.255.1111 0000.0</p>
<p>这里只看第三段，16个网络，16个主机（有多少个1就有多少个子网，有多少个0就有多少个主机）</p>
<p>172.16.0.0 ~ 172.16.15.255</p>
<p>172.16.16.0 ~ </p>
<p>172.16.32.0</p>
<p>对于一个C类地址，192.168.1.0&#x2F;25</p>
<p>255.255.255.    1          000 0000</p>
<p>​    网络位        子网          主机位</p>
<p>所以在规划一个地址的时候，要清楚这个地址，默认它是属于哪一类，弄清楚它的网络位</p>
<p>然后，再把多出来的定义为子网位，</p>
<p>看子网位有多少个1，然后算2的几次方就可以了</p>
<p>最后是主机位</p>
<p>以上是IP地址的规划</p>
<p>回到案例：某公司现有一C类网段192.160.1.0&#x2F;24，目前有以下几个部分：销售部&#x2F;59台，技术部&#x2F;27台，业务部&#x2F;121台，会计部&#x2F;10台。需求：将一个C类网段合理分配给如下几个部门，保证地址合理分配</p>
<p>这里先考虑的是主机数量，2^6&#x3D;64刚好比59大，</p>
<p>意味着子网掩码是255.255.255.1100 0000</p>
<p>我们可以分出4个网络段来：</p>
<p>192.168.1.0</p>
<p>192.168.1.64</p>
<p>192.168.1.128</p>
<p>192.168.1.192</p>
<p>在这里面，随便给销售部分配一个子网掩码就可以了</p>
<p>但是，一般我们规划的时候，规划数量最多的121台</p>
<p>2^7&#x3D;128刚好比121大，意味着子网掩码是255.255.255.1  000  0000，可以分出2个网络段来：</p>
<p>192.168.1.0</p>
<p>192.158.1.128</p>
<p>随便给业务部分配一个，</p>
<p>业务部    </p>
<p>IP地址：192.168.1.0 ~ 127  </p>
<p>子网掩码：255.255.255.128</p>
<p>第二多的59台，</p>
<p>子网就是刚开始的4个段：</p>
<p>192.168.1.0</p>
<p>192.168.1.64</p>
<p>192.168.1.128</p>
<p>192.168.1.192</p>
<p>这里注意的是，前两个段，第一次划分的时候，已经没了</p>
<p>现在剩下的，只有</p>
<p>192.168.1.128</p>
<p>192.168.1.192</p>
<p>销售部分配是这样的</p>
<p>IP地址：92.168.1.128 ~ 191</p>
<p>子网掩码：255.255.255.192</p>
<p>以此类推。</p>
<h3 id="3-5-CIDR"><a href="#3-5-CIDR" class="headerlink" title="3.5.CIDR"></a>3.5.CIDR</h3><p>与VLSM相反，是把子网变短</p>
<p>192.168.0.0</p>
<p>255.255.255.0 –&gt; 255.255.0.0</p>
<p>相当于把网络汇总了，在路由中用到</p>
<h3 id="3-6-私有IP地址"><a href="#3-6-私有IP地址" class="headerlink" title="3.6.私有IP地址"></a>3.6.私有IP地址</h3><p>1.A类地址中：10.0.0.0到10.255.255.255</p>
<p>2.B类地址中：172.16.0.0到172.32.255.255</p>
<p>3.C类地址中：192.168.0.0到192.168.255.255</p>
<p>注：私有IP一般用于公司内部，私有地址可以相同，这会涉及到后面要讲的–NAT</p>
<h2 id="4-基础命令集汇总"><a href="#4-基础命令集汇总" class="headerlink" title="4.基础命令集汇总"></a>4.基础命令集汇总</h2><p>软件：</p>
<ul>
<li>packet tracer</li>
<li>gns3</li>
</ul>
<h3 id="4-1-以太网技术的线缆标准"><a href="#4-1-以太网技术的线缆标准" class="headerlink" title="4.1.以太网技术的线缆标准"></a>4.1.以太网技术的线缆标准</h3><p>T-568A&#x3D;绿白-绿-橙白-蓝-蓝白-橙-棕白-棕</p>
<p>T-568B&#x3D;橙白-橙-绿白-蓝-蓝白-绿-棕白-棕</p>
<p>标准网线：不同设备用直通线，即两头都是568A或者都是568B</p>
<p>交叉网线：同等设备用交叉线，即一头为568A，一头为568B</p>
<blockquote>
<p>因为要做信号对冲，所以反过来</p>
</blockquote>
<p>全反线：一般用于配置线缆，两端线序刚好相反</p>
<p><img src="https://img-blog.csdnimg.cn/e8162310f25948cd96dc7472464b5e22.png" alt="在这里插入图片描述"></p>
<p>在模拟器中，左下角找到connectiosn–Copper Cross-Over，虚线代表交叉线</p>
<p><img src="https://img-blog.csdnimg.cn/faef9254501c4f8bb0e9e845ec227110.png" alt="在这里插入图片描述"></p>
<p>如果是pc的话，要用笔记本连接console线，一台一台的去配置</p>
<p>点击左边路由器，进入cli界面，一开始界面上输入no，否则就要进行各种的配置</p>
<p><img src="https://img-blog.csdnimg.cn/5166330a109c4bd188983f5ea17d46c2.png" alt="在这里插入图片描述"></p>
<h3 id="4-2-基础命令集汇总"><a href="#4-2-基础命令集汇总" class="headerlink" title="4.2.基础命令集汇总"></a>4.2.基础命令集汇总</h3><p><img src="https://img-blog.csdnimg.cn/29be968ae72e4aa8991ca2c7d9c71a87.png" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/2312e4d5c17341bcbc00d968f68eedc1.png" alt="在这里插入图片描述"></p>
<h4 id="4-2-1-基础命令集"><a href="#4-2-1-基础命令集" class="headerlink" title="4.2.1.基础命令集"></a>4.2.1.基础命令集</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&gt;enable</span><br><span class="line"></span><br><span class="line">#configure terminal</span><br><span class="line"></span><br><span class="line">// 进入接口才可以配置Ip(快速以太网口)</span><br><span class="line">// f0/0 f0/1 f0/2 表示一个插槽上，有好几个接口</span><br><span class="line">// f0/0 f1/0 表示有好几个插槽</span><br><span class="line">(config)#interface fastEthernet 0/0</span><br><span class="line"></span><br><span class="line">//接口模式</span><br><span class="line">//配置IP，IP + 子网掩码</span><br><span class="line">(config-if)#ip address 192.168.1.1 255.255.255.0</span><br><span class="line">// 同步设置不关闭，把接口打开</span><br><span class="line">(config-if)#no shutdown</span><br><span class="line"></span><br><span class="line">// 退出命令</span><br><span class="line">// 回到上一级</span><br><span class="line">exit</span><br><span class="line">// 直接回到特权模式</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">// 查询命令</span><br><span class="line">// show 命令</span><br><span class="line">// running-config 保存在ram中，关机就没了</span><br><span class="line">#show running-config</span><br><span class="line">// 不查询所有，只查ip</span><br><span class="line">#show ip interface brief</span><br><span class="line"></span><br><span class="line">// 配置主机名，便于辨识</span><br><span class="line">(config)#hostname r1</span><br><span class="line">// 设置进入特权模式的密码</span><br><span class="line">(config)#enable password 111111</span><br><span class="line"></span><br><span class="line">// 删除操作</span><br><span class="line">// 一般情况下，当初在哪个模式下，怎么输的，在前面加 no 就可以</span><br><span class="line">// 如果是有自己决定的参数，删除时可以不加</span><br><span class="line">no </span><br><span class="line"></span><br><span class="line">// 类似于 enable password，但是可以避免别人 show run 查询密文密码 </span><br><span class="line">(config)#enable secret 111111</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-2-3常见模式"><a href="#4-2-3常见模式" class="headerlink" title="4.2.3常见模式"></a>4.2.3常见模式</h4><p><img src="https://img-blog.csdnimg.cn/2011fa94c1e34b49b3013afd1489792e.png"></p>
<h4 id="4-2-4-命令语法检查"><a href="#4-2-4-命令语法检查" class="headerlink" title="4.2.4.命令语法检查"></a>4.2.4.命令语法检查</h4><p><img src="https://img-blog.csdnimg.cn/d11fc32605f74f1288872e68159053d2.png" alt="在这里插入图片描述"></p>
<h4 id="4-2-5-快捷键"><a href="#4-2-5-快捷键" class="headerlink" title="4.2.5.快捷键"></a>4.2.5.快捷键</h4><p><img src="https://img-blog.csdnimg.cn/7d21d8be0ef4416d924e10815f1a808f.png" alt="在这里插入图片描述"></p>
<h4 id="4-2-6-工程三招"><a href="#4-2-6-工程三招" class="headerlink" title="4.2.6.工程三招"></a>4.2.6.工程三招</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 关闭域名解析（防止特权模式下，测试时敲错命令查询），如果真敲错了，可以用ctrl+shift+6中断</span><br><span class="line">(config)#no ip dommain lookup</span><br><span class="line">// 测试完之后，一定要再打开</span><br><span class="line">(config)#ip dommain lookup</span><br><span class="line"></span><br><span class="line">// 全局模式下，进入控制台</span><br><span class="line">(config)#line console 0</span><br><span class="line">// log当前显示信息同步，实际配置时，各种配置需要等一会才会同步生效的</span><br><span class="line">// 这样可以让，延迟显示的信息，和自己敲的命令，不会混在一起</span><br><span class="line">(config-line)#logging synchronous </span><br><span class="line">// 关闭会话超时，防止一段时间不操作自动退出</span><br><span class="line">(config-line)#no exec-timeout </span><br></pre></td></tr></table></figure>



<h2 id="5-静态路由协议"><a href="#5-静态路由协议" class="headerlink" title="5.静态路由协议"></a>5.静态路由协议</h2><h3 id="5-1-接线：R1-f0-x2F-0-–-R2-f0-x2F-0"><a href="#5-1-接线：R1-f0-x2F-0-–-R2-f0-x2F-0" class="headerlink" title="5.1.接线：R1 f0&#x2F;0  – R2 f0&#x2F;0"></a>5.1.接线：R1 f0&#x2F;0  – R2 f0&#x2F;0</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Router&gt;enable </span><br><span class="line">Router#conf ter</span><br><span class="line">Enter configuration commands, one per line.  End with CNTL/Z.</span><br><span class="line">Router(config)#int f0/0</span><br><span class="line">Router(config-if)#ip add 192.168.1.1 255.255.255.0</span><br><span class="line">Router(config-if)#exit</span><br><span class="line">Router(config)#hostname r1</span><br><span class="line">r1(config-if)#no sh</span><br><span class="line">r1(config-if)#</span><br><span class="line">%LINK-5-CHANGED: Interface FastEthernet0/0, changed state to up</span><br></pre></td></tr></table></figure>

<p>链路协议开启</p>
<p>f0&#x2F;0上的ip协议被开启</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// 查询路由表</span><br><span class="line">r1#show ip route</span><br><span class="line">或者</span><br><span class="line">r1(config-if)#do show ip route</span><br><span class="line">Codes: C - connected, S - static, I - IGRP, R - RIP, M - mobile, B - BGP</span><br><span class="line">       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area</span><br><span class="line">       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2</span><br><span class="line">       E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP</span><br><span class="line">       i - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, ia - IS-IS inter area</span><br><span class="line">       * - candidate default, U - per-user static route, o - ODR</span><br><span class="line">       P - periodic downloaded static route</span><br><span class="line"></span><br><span class="line">Gateway of last resort is not set</span><br><span class="line"></span><br><span class="line">C    192.168.1.0/24 is directly connected, FastEthernet0/0</span><br><span class="line"></span><br><span class="line">// C 表示直连</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>R2的f0&#x2F;0必须要是1.0网络的，</p>
<p>至于R2配置的到底是不是f0&#x2F;0，得看你接线的时候，接的是哪一个</p>
<p>配置R2 f0&#x2F;0</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">r2&gt;enable</span><br><span class="line">r2#conf ter</span><br><span class="line">Enter configuration commands, one per line.  End with CNTL/Z.</span><br><span class="line">r2(config)#int f0/0</span><br><span class="line">r2(config-if)#ip add 192.168.1.2 255.255.255.0</span><br><span class="line">// 配置完一定要打开</span><br><span class="line">r2(config-if)#no sh</span><br><span class="line"></span><br><span class="line">r2(config-if)#</span><br><span class="line">%LINK-5-CHANGED: Interface FastEthernet0/0, changed state to up</span><br><span class="line"></span><br><span class="line">%LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet0/0, changed state to up</span><br><span class="line"></span><br><span class="line">// 在全局模式下，想要执行特权模式下的show，可以不用exit，直接加do</span><br><span class="line">r2(config-if)#do ping 192.168.1.1</span><br><span class="line"></span><br><span class="line">Type escape sequence to abort.</span><br><span class="line">Sending 5, 100-byte ICMP Echos to 192.168.1.1, timeout is 2 seconds:</span><br><span class="line">.!!!!</span><br><span class="line">Success rate is 80 percent (4/5), round-trip min/avg/max = 0/0/0 ms</span><br><span class="line">// 感叹号表示通了，至于第一个为什么没通，涉及到ARP，下一节讲</span><br></pre></td></tr></table></figure>

<p>可以看到，左边的线变绿了，表示线路连通</p>
<p><img src="https://img-blog.csdnimg.cn/28b32fe1a7e94c65b047ebbc96da5e01.png" alt="在这里插入图片描述"></p>
<h3 id="5-2-接线：R2-f0-x2F-1-–-R3-f0-x2F-0"><a href="#5-2-接线：R2-f0-x2F-1-–-R3-f0-x2F-0" class="headerlink" title="5.2.接线：R2 f0&#x2F;1  – R3 f0&#x2F;0"></a>5.2.接线：R2 f0&#x2F;1  – R3 f0&#x2F;0</h3><p>问：R2 的 f0&#x2F;1接口，需要配什么样的ip地址呢？可不可以配 1.0 的网络呢</p>
<p>不能，如果你还配1.0的网路，那就是两个局域网，连成了一个更大的局域网了</p>
<p>而路由器是连接两个不同的ip地址段的，所以路由的每个接口，涉及的一定是不同的ip地址段</p>
<p>如果你要连接相同的ip地址段，就没有必要用路由器了</p>
<p>所以，路由器有一个特性：隔离广播域，隔离掉每个地址段</p>
<p>答：只要不是1.0网络，都可以配</p>
<p>配置R2 f0&#x2F;1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">r2&gt;en</span><br><span class="line">r2#conf ter</span><br><span class="line">Enter configuration commands, one per line.  End with CNTL/Z.</span><br><span class="line">r2(config)#int f0/1</span><br><span class="line">r2(config-if)#ip add 192.168.2.1 255.255.255.0</span><br><span class="line">r2(config-if)#no sh</span><br><span class="line"></span><br><span class="line">r2(config-if)#</span><br><span class="line">%LINK-5-CHANGED: Interface FastEthernet0/1, changed state to up</span><br></pre></td></tr></table></figure>

<p>查看R2的路由表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">r2(config-if)#do show ip route</span><br><span class="line">Codes: C - connected, S - static, I - IGRP, R - RIP, M - mobile, B - BGP</span><br><span class="line">       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area</span><br><span class="line">       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2</span><br><span class="line">       E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP</span><br><span class="line">       i - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, ia - IS-IS inter area</span><br><span class="line">       * - candidate default, U - per-user static route, o - ODR</span><br><span class="line">       P - periodic downloaded static route</span><br><span class="line"></span><br><span class="line">Gateway of last resort is not set</span><br><span class="line"></span><br><span class="line">C    192.168.1.0/24 is directly connected, FastEthernet0/0</span><br><span class="line">C    192.168.2.0/24 is directly connected, FastEthernet0/1</span><br></pre></td></tr></table></figure>

<p>R2有1.0和2.0两个网络，显示可能会有3~5分钟延迟，可以先去配R3 f0&#x2F;0，再回来查看R2的路由表</p>
<p>配置R3 f0&#x2F;0</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Router&gt;</span><br><span class="line">Router&gt;en</span><br><span class="line">Router#conf ter</span><br><span class="line">Enter configuration commands, one per line.  End with CNTL/Z.</span><br><span class="line">Router(config)#hostname r3</span><br><span class="line">r3(config)#int f0/0</span><br><span class="line">r3(config-if)#ip add 192.168.2.2 255.255.255.0</span><br><span class="line">r3(config-if)#no sh</span><br><span class="line"></span><br><span class="line">r3(config-if)#</span><br><span class="line">%LINK-5-CHANGED: Interface FastEthernet0/0, changed state to up</span><br><span class="line"></span><br><span class="line">%LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet0/0, changed state to up</span><br></pre></td></tr></table></figure>

<p>查看R3的路由表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">r3(config-if)#do show ip route</span><br><span class="line">Codes: C - connected, S - static, I - IGRP, R - RIP, M - mobile, B - BGP</span><br><span class="line">       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area</span><br><span class="line">       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2</span><br><span class="line">       E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP</span><br><span class="line">       i - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, ia - IS-IS inter area</span><br><span class="line">       * - candidate default, U - per-user static route, o - ODR</span><br><span class="line">       P - periodic downloaded static route</span><br><span class="line"></span><br><span class="line">Gateway of last resort is not set</span><br><span class="line"></span><br><span class="line">C    192.168.2.0/24 is directly connected, FastEthernet0/0</span><br></pre></td></tr></table></figure>

<p>R3 只有一个直连的2.0网络</p>
<h3 id="5-3-连通情况与未连通情况"><a href="#5-3-连通情况与未连通情况" class="headerlink" title="5.3.连通情况与未连通情况"></a>5.3.连通情况与未连通情况</h3><ul>
<li><p>现在的连通情况是</p>
<p>R1 f0&#x2F;0 和 R2 f0&#x2F;0是通的</p>
<p>R3 f0&#x2F;0 和 R2 f0&#x2F;1是通的</p>
</li>
<li><p>未连通情况是：</p>
<p>R1 f0&#x2F;0 和 R2 f0&#x2F;1是不通的</p>
<p>R3 f0&#x2F;0 和 R2 f0&#x2F;0是不通的</p>
</li>
</ul>
<p>路由器转发数据的过程：</p>
<p>ping发包遵循的ICMP协议，是一个三层包，没有传输层和应用层，是靠源IP和目的IP进行转发的</p>
<p>我们用R1的1.0网络，去pingR2的2.0网络：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">r1(config-if)#do ping 192.168.2.1</span><br><span class="line"></span><br><span class="line">Type escape sequence to abort.</span><br><span class="line">Sending 5, 100-byte ICMP Echos to 192.168.2.1, timeout is 2 seconds:</span><br><span class="line">.....</span><br><span class="line">Success rate is 0 percent (0/5)</span><br></pre></td></tr></table></figure>

<p>ping动作发生时，路由器会根据数据包里面，IP头部的目的IP，去查询自己的路由表，看看有没有到达目的IP的路由</p>
<p>现在ping的是2.1，R1 路由表没有2.0的网络</p>
<p>R1路由表：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C    192.168.1.0/24 is directly connected, FastEthernet0/0</span><br></pre></td></tr></table></figure>

<p>R1需要2.0的网络，干嘛呢？</p>
<p>去确认出口在哪里</p>
<p>1.0的网络路由表，告诉了路由器是直连，1.0网络从f0&#x2F;0这个口，向外发包</p>
<p>所以，此时R1没有2.0网络，无法确认数据从哪个接口发出去</p>
<p>所以，没有路由的情况下，发不出去数据包</p>
<p>这三台设备，要想实现互相通信，都要有彼此的路由条目信息</p>
<p>要在R1上面，用静态路由的办法，给R1写上2.0的路由</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r1(config)#ip route 192.168.2.0 255.255.255.0</span><br></pre></td></tr></table></figure>

<p>最后还要加上下一跳，也是一个ip地址，这里表示的R1到R3，经过R2时的入接口，应该是R2的f0&#x2F;0，也就是192.168.1.2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r1(config)#ip route 192.168.2.0 255.255.255.0 192.168.1.2</span><br></pre></td></tr></table></figure>

<p>再看一下路由表：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C    192.168.1.0/24 is directly connected, FastEthernet0/0</span><br><span class="line">S    192.168.2.0/24 [1/0] via 192.168.1.2</span><br></pre></td></tr></table></figure>

<p><code>S</code>表示静态</p>
<p>但是，下面这条路由，没有出接口，意味着没有源IP</p>
<p>下一跳这种设置，会造成递归查询，</p>
<p>路由器会查询，是不是有1.2的路由表，有的，</p>
<p>最后数据从f0&#x2F;0的接口出去</p>
<p>我们在R1 ping一下2.1的网络：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">r1(config)#do ping 192.168.2.1</span><br><span class="line"></span><br><span class="line">Type escape sequence to abort.</span><br><span class="line">Sending 5, 100-byte ICMP Echos to 192.168.2.1, timeout is 2 seconds:</span><br><span class="line">!!!!!</span><br><span class="line">Success rate is 100 percent (5/5), round-trip min/avg/max = 0/0/1 ms</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>一去一回才叫通，此时R2是有1.0的路由表，所以能返回给R1</p>
<p>而如你去Ping R3的话，数据包可以到R3，但是R3不能返回来，因为R3没有配1.0的路由</p>
<p>相应的，R3设置一下1.0的路由：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">r3(config)#ip route 192.168.1.0 255.255.255.0 192.168.2.1</span><br><span class="line">r3(config)#do show ip route</span><br><span class="line">S    192.168.1.0/24 [1/0] via 192.168.2.1</span><br><span class="line">C    192.168.2.0/24 is directly connected, FastEthernet0/0</span><br></pre></td></tr></table></figure>

<p>此时，R1是可以ping通2.2的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">r1(config)#do ping 192.168.2.2</span><br><span class="line"></span><br><span class="line">Type escape sequence to abort.</span><br><span class="line">Sending 5, 100-byte ICMP Echos to 192.168.2.2, timeout is 2 seconds:</span><br><span class="line">.!!!!</span><br><span class="line">Success rate is 80 percent (4/5), round-trip min/avg/max = 0/0/0 ms</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如下设置，匹配的是单独的主机：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r1(config)#ip route 192.168.2.1 255.255.255.255</span><br></pre></td></tr></table></figure>

<p>静态路由的第二种写法，先删除之前的配置：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r1(config)#no ip route 192.168.2.0 255.255.255.0 192.168.1.2</span><br></pre></td></tr></table></figure>

<p>配置的时候，不写下一跳，直接设置出接口：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">r1(config)#ip route 192.168.2.0 255.255.255.0 f0/0</span><br><span class="line">r1(config)#do show ip route</span><br><span class="line">C    192.168.1.0/24 is directly connected, FastEthernet0/0</span><br><span class="line">S    192.168.2.0/24 is directly connected, FastEthernet0/0</span><br></pre></td></tr></table></figure>

<p>这两种写法，有什么区别呢，还得涉及到下一节ARP的知识</p>
<p>第三种写法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r1(config)#ip route 192.168.2.0 255.255.255.0 f0/0 192.168.1.2</span><br></pre></td></tr></table></figure>

<p>这种写法，写上出接口的同时，又写上了下一跳，在GNS3里可以，但在packet tracer提示无效输入</p>
<p>静态路由缺点就是繁琐，优点就是省开销</p>
<p>不适用大型的网络，但应用还是很多</p>
<p>第四种写法，表示全网络，也不设置掩码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r1(config)#ip route 0.0.0.0 0.0.0.0 f0/0 192.168.1.2</span><br></pre></td></tr></table></figure>

<p>该设置表示，我要通过192.168.1.2，去往所有的网络（你能去哪，我就去哪）</p>
<p>这种写法，只适用于末梢网络（只有一条路可以出去的网络），只适合在最左边的设置</p>
<p><img src="/image-20211024201124447.png" alt="image-20211024201124447"></p>
<p>如果不再末梢设置，而中间设置：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0.0.0.0/0 via 192.168.1.2</span><br><span class="line">              192.168.2.2</span><br><span class="line">              192.168.3.2</span><br></pre></td></tr></table></figure>

<p>在中间的路由表里，会出现三个并列的下一跳，这叫负载均衡</p>
<p>一旦匹配走第二个路由的时候，1.2&#x2F;2.2&#x2F;3.2都会发一个包</p>
<p>有可能你找的目的地址，只在1.2后面，而2.2、3.2都没通，会导致网络不稳定</p>
<p>并且，路由表有一个相对掩码最长匹配规则：</p>
<p>优先级：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">12.1.1.1/32</span><br><span class="line">12.1.1.0/24</span><br><span class="line">12.0.0.0/8</span><br><span class="line">0.0.0.0/0</span><br></pre></td></tr></table></figure>

<p>路由表是在没有匹配的情况下，才会匹配0.0.0.0&#x2F;0</p>
<p>应用场景：公司网关的路由器，通过运营商到所有网络</p>
<h2 id="6-ARP协议"><a href="#6-ARP协议" class="headerlink" title="6.ARP协议"></a>6.ARP协议</h2><p>上一节留的坑：</p>
<p>1.为什么ping的时候，第一下会是一个点（表示不通）？</p>
<p>2.为什么设置静态路由的地方，把下一跳设置，换成出接口，会和ARP有关系？</p>
<h3 id="6-1-什么是ARP协议"><a href="#6-1-什么是ARP协议" class="headerlink" title="6.1.什么是ARP协议"></a>6.1.什么是ARP协议</h3><p>ARP：Address Resolution Protocol，地址解析协议</p>
<p>ARP的作用：将已知的IP地址解析为Mac地址</p>
<p><img src="https://img-blog.csdnimg.cn/69d5652c01804d18a5dd853100fb5933.png" alt="在这里插入图片描述"></p>
<p>ARP在请求的时候，是广播请求，单播响应</p>
<p>一开始的时候，是没有Mac地址，所以一开始是不会通的</p>
<p>广播的IP是255.255.255.255，那么广播的Mac地址是什么呢？是FF-FF-FF-FF…，所有都是F</p>
<p>这里使用GNS3软件</p>
<p>新建文件，重新配置下：</p>
<p>R1:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">outer&gt;</span><br><span class="line">Router&gt;enable</span><br><span class="line">Router#config ter</span><br><span class="line">Enter configuration commands, one per line.  End with CNTL/Z.</span><br><span class="line">Router(config)#int f0/0</span><br><span class="line">Router(config-if)#ip add 192.168.1.1 255.255.255.0</span><br><span class="line">Router(config-if)#no sh</span><br><span class="line">%LINK-5-CHANGED: Interface FastEthernet0/0, changed state to up</span><br></pre></td></tr></table></figure>

<p>R2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Router(config-if)#ip add 192.168.1.2 255.255.255.0</span><br></pre></td></tr></table></figure>

<p>R1向R2发包，ping 192.168.1.2，返回一个点，4个叹号 </p>
<p>使用GNS3自带的抓包工具，可以看到ARP包：</p>
<p><img src="https://img-blog.csdnimg.cn/f0f1b0b911fc471aaf4ab35a65f477fa.png" alt="在这里插入图片描述"></p>
<p>在f0&#x2F;0口，抓了8个ICMP包和2个ARP包（2层）</p>
<p>点开ARP包：</p>
<p><img src="https://img-blog.csdnimg.cn/fbe90de04079497b9a33f08396ac3063.png" alt="在这里插入图片描述"></p>
<p>可以看到它目的Mac，全是ff</p>
<p>其他的一些信息：</p>
<p><img src="https://img-blog.csdnimg.cn/0f7c9317776c4dd6b7d2bbc663600125.png" alt="在这里插入图片描述"></p>
<p>目的Mac是我们想要求的，所以是空的</p>
<p>以上是请求的ARP包。</p>
<p>接下来看1.2的ARP包是如何回复的：</p>
<p><img src="https://img-blog.csdnimg.cn/eeba9834b9f946bebb2bb5e18a12322e.png" alt="在这里插入图片描述"></p>
<p>回复中，由于是单播回复，目的Mac就是1.1的Mac</p>
<p>那1.2在回复的时候，是如何得知1.1的Mac呢？</p>
<p>因为1.1一开始发的ARP是广播请求，当1.2发现1.1中，请求的目标是自己的时候，它会把1.1发的ARP包中的源Mac和源IP给学习（记录）下来</p>
<p>而网段内的其他路由器，发现请求的不是自己，就直接忽略了</p>
<p>所以，是1.2先有的1.1的Mac和IP，1.2也就可以给1.1单播回复一个ARP的响应</p>
<p>类比：在50人教室大喊，谁是张三？张三听到了，回复：我是张三！</p>
<p>下面是1.2单播回复的ARP响应：</p>
<p><img src="https://img-blog.csdnimg.cn/0be871ceb8ec4c69a96eca456a62408d.png" alt="在这里插入图片描述"></p>
<p>所以，第一次ping会有一个点，因为那个时候在发ARP</p>
<p>特权模式下，查看ARP映射表：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show arp</span><br></pre></td></tr></table></figure>

<p>以上是同一个ip地址段进行广播，</p>
<p>如果请求的目的ip，不在同一网段下，该怎么办呢？</p>
<p>事实上ARP请求的，并不是对方的Mac，而是下一跳的Mac：</p>
<p><img src="https://img-blog.csdnimg.cn/846c7ad13b044e31879ceaec6f9555e8.png" alt="在这里插入图片描述"></p>
<p>这里我们ping 2.1和2.2，ping通后再查看arp映射表：</p>
<p><img src="https://img-blog.csdnimg.cn/a8795f3487e84e60a127324ed15a0131.png" alt="在这里插入图片描述"></p>
<p>发现只有1.2的</p>
<p>PC也是，它也是只解析网关的</p>
<p>事实上，以太网的头部，每经过一个网段（路由器），都会重写源Mac</p>
<p>另外一个问题：代理ARP</p>
<p>当我们的路由没有下一跳的时候，就会触发代理ARP</p>
<p>更改一下路由表：</p>
<p><img src="https://img-blog.csdnimg.cn/c7581d8642654356be6b1e96c9bfc3dc.png" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/4e99e70a460048158926d73b5481759d.png" alt="在这里插入图片描述"></p>
<p>查看路由表，只有出接口，没有下一跳</p>
<p>此时，我们再都ping一下，之后查看arp映射表：</p>
<p><img src="https://img-blog.csdnimg.cn/0b314dff94db4b6fbe331482609910f1.png" alt="在这里插入图片描述"></p>
<p>这种情况，就是代理arp（思科路由器都是默认开启的）</p>
<p>关闭掉代理arp后，再ping是不通的</p>
<p><img src="https://img-blog.csdnimg.cn/227b2ac2c2354b4a95a9c696a03b0d53.png" alt="在这里插入图片描述"></p>
<p>代理arp可以会有多个，原则是后到优先</p>
<p>所以只写出接口的话，会依赖代理ARP，同时会写大量的arp映射，并且存在次优选路的问题</p>
<h3 id="6-2ARP攻击（欺骗）"><a href="#6-2ARP攻击（欺骗）" class="headerlink" title="6.2ARP攻击（欺骗）"></a>6.2ARP攻击（欺骗）</h3><p>由于是广播，所以如果假冒是你请求的ip地址，再去访问你一次，就算你之前访问过了真的ip地址，由于后到优先的原则，你就会把Mac重新记录</p>
<p>而下一次你再访问的时候，就不是通过网关访问Internet，而是直接把数据发到了攻击者的电脑上</p>
<p>虽然arp是一个二层，实际信息并不会泄露太严重，但一个直观的感受，就是你的网断了</p>
<p>有一种arp病毒，会仿造各种ip地址，局域网中不定期就会出现ip冲突，网就上不去了</p>
<p>解决办法：网关绑定Mac</p>
<p><img src="https://img-blog.csdnimg.cn/ea37fbd6b8f34850aab932c9ced2eaeb.png" alt="在这里插入图片描述"></p>
<p>所以IPV6中，取消了arp机制</p>
<h2 id="7-RIP协议"><a href="#7-RIP协议" class="headerlink" title="7.RIP协议"></a>7.RIP协议</h2></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://github.com/Saiable">Sai</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://mindcons.cn/2022/08/09/md/network/%E6%80%9D%E7%A7%91CCNA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/">https://mindcons.cn/2022/08/09/md/network/思科CCNA网络基础入门/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://mindcons.cn" target="_blank">吕小布の博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://bu.dusays.com/2023/02/10/63e583843360e.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://bu.dusays.com/2023/02/10/63e580229ee01.webp" target="_blank"><img class="post-qr-code-img" src="https://bu.dusays.com/2023/02/10/63e580229ee01.webp" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://bu.dusays.com/2023/02/09/63e48775d4f42.webp" target="_blank"><img class="post-qr-code-img" src="https://bu.dusays.com/2023/02/09/63e48775d4f42.webp" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/08/09/md/bigdata/hadoop_%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"><img class="prev-cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">hadoop_问题记录</div></div></a></div><div class="next-post pull-right"><a href="/2022/08/09/md/network/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0%E3%80%8A%E5%9B%BE%E8%A7%A3HTTP%E3%80%8B/"><img class="next-cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">阅读笔记《图解HTTP》</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://bu.dusays.com/2023/02/10/63e583843360e.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Sai</div><div class="author-info__description">天可补,海可填,南山可移。日月既往,不可复追。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">175</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">36</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Saiable"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://bu.dusays.com/2023/02/10/63e57e822f198.webp" target="_blank" title="QQ"><i class="fa-brands fa-qq"></i></a><a class="social-icon" href="https://bu.dusays.com/2023/02/10/63e57f8ac9fae.webp" target="_blank" title="WeChat"><i class="fa-brands fa-weixin"></i></a><a class="social-icon" href="https://github.com/Saiable" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:mindcons@foxmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">日月既往,不可复追。</div></div><div class="xpand" style="height:200px;"><canvas class="illo" width="800" height="800" style="max-width: 200px; max-height: 200px; touch-action: none; width: 640px; height: 640px;"></canvas></div><script src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/twopeople1.js"></script><script src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/zdog.dist.js"></script><script id="rendered-js" src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/twopeople.js"></script><style>.card-widget.card-announcement {
margin: 0;
align-items: center;
justify-content: center;
text-align: center;
}
canvas {
display: block;
margin: 0 auto;
cursor: move;
}</style><div class="card-widget tzy-right-widget" id="card-wechat"><div id="flip-wrapper"><div id="flip-content"><div class="face"></div><div class="back face"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C"><span class="toc-number">1.</span> <span class="toc-text">1.计算机网络</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E7%BD%91%E7%BB%9C%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.1.</span> <span class="toc-text">1.1.网络是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84"><span class="toc-number">1.2.</span> <span class="toc-text">1.2.网络架构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-1-RS-Router-Switch-%E6%9E%B6%E6%9E%84"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.2.1.RS(Router Switch)架构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E7%BD%91%E7%BB%9C%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.</span> <span class="toc-text">1.3.网络的类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%80%E5%9F%9F%E7%BD%91%EF%BC%88LAN%EF%BC%89%EF%BC%9A%E4%B8%80%E7%BB%84%E7%BB%88%E7%AB%AF%E8%AE%BE%E5%A4%87%E5%92%8C%E7%94%B1%E5%85%B1%E5%90%8C%E7%9A%84%E7%BB%84%E7%BB%87%E7%AE%A1%E7%90%86%E7%9A%84%E7%94%A8%E6%88%B7-%E6%89%80%E6%9C%89%E7%9A%84%E7%94%A8%E6%88%B7%EF%BC%8C%E9%83%BD%E6%8E%A5%E5%9C%A8%E4%B8%80%E5%8F%B0%E4%BA%A4%E6%8D%A2%E6%9C%BA%E4%B8%8B%EF%BC%8C%E5%B1%80%E5%9F%9F%E7%BD%91%E5%B0%B1%E5%BD%A2%E6%88%90%E4%BA%86-%E5%B1%80%E5%9F%9F%E7%BD%91%E6%B8%B8%E6%88%8F%E3%80%81%E9%80%9A%E4%BF%A1"><span class="toc-number">2.</span> <span class="toc-text">局域网（LAN）：一组终端设备和由共同的组织管理的用户- 所有的用户，都接在一台交换机下，局域网就形成了- 局域网游戏、通信</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-OSI-TCP%E5%88%86%E5%B1%82"><span class="toc-number">3.</span> <span class="toc-text">2.OSI-TCP分层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-OSI%E5%88%86%E5%B1%82"><span class="toc-number">3.1.</span> <span class="toc-text">2.1.OSI分层</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-1-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%88%86%E5%B1%82"><span class="toc-number">3.1.1.</span> <span class="toc-text">2.1.1.为什么要分层</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-OSI-amp-TCP-x2F-IP"><span class="toc-number">3.2.</span> <span class="toc-text">2.2.OSI&amp;TCP&#x2F;IP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">3.2.1.</span> <span class="toc-text">2.2.1.物理层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">3.2.2.</span> <span class="toc-text">2.2.2.数据链路层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">3.2.3.</span> <span class="toc-text">2.2.3.网络层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="toc-number">3.2.4.</span> <span class="toc-text">2.2.4.传输层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">3.2.5.</span> <span class="toc-text">2.2.5.应用层</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E5%80%9F%E5%8A%A9OSI%E6%A8%A1%E5%9E%8B%E6%9D%A5%E7%90%86%E8%A7%A3%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E8%BF%87%E7%A8%8B"><span class="toc-number">3.3.</span> <span class="toc-text">2.3.借助OSI模型来理解数据传输过程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-IP%E5%9C%B0%E5%9D%80%E5%8F%8A%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%E5%88%92%E5%88%86"><span class="toc-number">4.</span> <span class="toc-text">3.IP地址及子网掩码划分</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%8D%81%E8%BF%9B%E5%88%B6VS%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%95%B0"><span class="toc-number">4.1.</span> <span class="toc-text">3.1.十进制VS二进制数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%9C%B0%E5%9D%80%E5%88%86%E7%B1%BB"><span class="toc-number">4.2.</span> <span class="toc-text">3.2.地址分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81"><span class="toc-number">4.3.</span> <span class="toc-text">3.3.子网掩码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-VLSM"><span class="toc-number">4.4.</span> <span class="toc-text">3.4.VLSM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-CIDR"><span class="toc-number">4.5.</span> <span class="toc-text">3.5.CIDR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E7%A7%81%E6%9C%89IP%E5%9C%B0%E5%9D%80"><span class="toc-number">4.6.</span> <span class="toc-text">3.6.私有IP地址</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4%E9%9B%86%E6%B1%87%E6%80%BB"><span class="toc-number">5.</span> <span class="toc-text">4.基础命令集汇总</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%8A%80%E6%9C%AF%E7%9A%84%E7%BA%BF%E7%BC%86%E6%A0%87%E5%87%86"><span class="toc-number">5.1.</span> <span class="toc-text">4.1.以太网技术的线缆标准</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4%E9%9B%86%E6%B1%87%E6%80%BB"><span class="toc-number">5.2.</span> <span class="toc-text">4.2.基础命令集汇总</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-1-%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4%E9%9B%86"><span class="toc-number">5.2.1.</span> <span class="toc-text">4.2.1.基础命令集</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-3%E5%B8%B8%E8%A7%81%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.2.2.</span> <span class="toc-text">4.2.3常见模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-4-%E5%91%BD%E4%BB%A4%E8%AF%AD%E6%B3%95%E6%A3%80%E6%9F%A5"><span class="toc-number">5.2.3.</span> <span class="toc-text">4.2.4.命令语法检查</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-5-%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-number">5.2.4.</span> <span class="toc-text">4.2.5.快捷键</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-6-%E5%B7%A5%E7%A8%8B%E4%B8%89%E6%8B%9B"><span class="toc-number">5.2.5.</span> <span class="toc-text">4.2.6.工程三招</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.</span> <span class="toc-text">5.静态路由协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E6%8E%A5%E7%BA%BF%EF%BC%9AR1-f0-x2F-0-%E2%80%93-R2-f0-x2F-0"><span class="toc-number">6.1.</span> <span class="toc-text">5.1.接线：R1 f0&#x2F;0  – R2 f0&#x2F;0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E6%8E%A5%E7%BA%BF%EF%BC%9AR2-f0-x2F-1-%E2%80%93-R3-f0-x2F-0"><span class="toc-number">6.2.</span> <span class="toc-text">5.2.接线：R2 f0&#x2F;1  – R3 f0&#x2F;0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E8%BF%9E%E9%80%9A%E6%83%85%E5%86%B5%E4%B8%8E%E6%9C%AA%E8%BF%9E%E9%80%9A%E6%83%85%E5%86%B5"><span class="toc-number">6.3.</span> <span class="toc-text">5.3.连通情况与未连通情况</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-ARP%E5%8D%8F%E8%AE%AE"><span class="toc-number">7.</span> <span class="toc-text">6.ARP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E4%BB%80%E4%B9%88%E6%98%AFARP%E5%8D%8F%E8%AE%AE"><span class="toc-number">7.1.</span> <span class="toc-text">6.1.什么是ARP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2ARP%E6%94%BB%E5%87%BB%EF%BC%88%E6%AC%BA%E9%AA%97%EF%BC%89"><span class="toc-number">7.2.</span> <span class="toc-text">6.2ARP攻击（欺骗）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-RIP%E5%8D%8F%E8%AE%AE"><span class="toc-number">8.</span> <span class="toc-text">7.RIP协议</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/13/md/linux/%E8%BF%90%E7%BB%B4/Neovim/neovim%E5%AE%9E%E6%93%8D/" title="Neovim 实操">Neovim 实操</a><time datetime="2023-11-12T23:58:07.758Z" title="发表于 2023-11-13 07:58:07">2023-11-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/13/md/linux/%E8%BF%90%E7%BB%B4/Neovim/Neovim%20IDE%20%E6%90%AD%E5%BB%BA%E7%B3%BB%E5%88%97/" title="Neovim IDE 搭建系列">Neovim IDE 搭建系列</a><time datetime="2023-11-12T23:58:07.755Z" title="发表于 2023-11-13 07:58:07">2023-11-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/13/md/tools/git/git%E5%9F%BA%E7%A1%80%E5%8F%8A%E5%8D%8F%E5%90%8C%E5%BC%80%E5%8F%91/" title="无题"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2023/11/13/md/tools/git/git%E5%9F%BA%E7%A1%80%E5%8F%8A%E5%8D%8F%E5%90%8C%E5%BC%80%E5%8F%91/" title="无题">无题</a><time datetime="2023-11-12T23:58:06.892Z" title="发表于 2023-11-13 07:58:06">2023-11-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/13/md/data/%E6%A0%87%E6%B3%A8/ppocrlabel/" title="ppocrlabel安装及使用">ppocrlabel安装及使用</a><time datetime="2023-11-12T23:58:03.543Z" title="发表于 2023-11-13 07:58:03">2023-11-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/13/md/data/%E6%A0%87%E6%B3%A8/labelStudio%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/" title="labelStudio安装及使用">labelStudio安装及使用</a><time datetime="2023-11-12T23:58:03.540Z" title="发表于 2023-11-13 07:58:03">2023-11-13</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://bu.dusays.com/2023/02/10/63e57cef87293.webp')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 <i id="heartbeat" class="fa fas fa-heartbeat"></i> Sai</div><a href="https://icp.gov.moe/?keyword=20230203" target="_blank">萌ICP备20230203号</a><div class="footer_custom_text"><p><a target="_blank" href="https://hexo.io/"><img src="https://bu.dusays.com/2023/02/09/63e488a78b827.webp" title="博客框架为Hexo"></a>&nbsp;<a target="_blank" href="https://butterfly.js.org/"><img src="https://bu.dusays.com/2023/02/10/63e57f321880a.webp" title="主题采用butterfly"></a></p></div></div><link rel="stylesheet" href="/custom/css/heartbeat.min.css" ></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="fa-solid fa-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="fa-solid fa-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="fa-solid fa-arrow-rotate-right"></i></div><div class="rightMenu-item" id="menu-home"><i class="fa-solid fa-house"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" href="/archives/"><i class="fa-solid fa-archive"></i><span>文章归档</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="fa-solid fa-folder-open"></i><span>文章分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="fa-solid fa-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuNormal"><div class="rightMenu-item" id="menu-translate"><i class="fa-solid fa-earth-asia"></i><span>繁简切换</span></div><div class="rightMenu-item" id="menu-darkmode"><i class="fa-solid fa-moon"></i><span>切换模式</span></div><div class="rightMenu-item" id="menu-print"><i class="fa-solid fa-print fa-fw"></i><span>打印页面</span></div></div></div><div id="rightmenu-mask"></div><div id="myscoll"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.mindcons.cn/',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.mindcons.cn/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><canvas id="universe"></canvas><script defer src="/custom/js/universe.js"></script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/custom/js/rightMenu.js"></script><script defer data-pjax src="/custom/js/cat.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script>window.$crisp = [];
window.CRISP_WEBSITE_ID = "717070d8-e449-4d60-b9b6-c1421478f42c";
(function () {
  d = document;
  s = d.createElement("script");
  s.src = "https://client.crisp.chat/l.js";
  s.async = 1;
  d.getElementsByTagName("head")[0].appendChild(s);
})();
$crisp.push(["safe", true])

if (true) {
  $crisp.push(["do", "chat:hide"])
  $crisp.push(["on", "chat:closed", function() {
    $crisp.push(["do", "chat:hide"])
  }])
  var chatBtnFn = () => {
    var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      $crisp.push(["do", "chat:show"])
      $crisp.push(["do", "chat:open"])

    });
  }
  chatBtnFn()
} else {
  if (true) {
    function chatBtnHide () {
      $crisp.push(["do", "chat:hide"])
    }
    function chatBtnShow () {
      $crisp.push(["do", "chat:show"])
    }
  }
}</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>