<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>JavaScript从基础到进阶 | 吕小布の博客</title><meta name="keywords" content="javascript"><meta name="author" content="Sai"><meta name="copyright" content="Sai"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="了解前端与准备前端发展史：全面拥抱大前端时代web1.0时代：静态网页 1989年，在欧洲粒子物理实验室Tim Berners—Lee（伯纳斯·李）提出：个人计算机上访问大量的科研文献，并建议在文档中链接其他文档&#x3D;&gt;“WEB原型” 1994年，万维网(W3C) 成立，网景推出了第一版Navigator浏览器, HTML也发布了第二代版本，TIM的好基友也设计了CSS…所以我们把19">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript从基础到进阶">
<meta property="og:url" content="https://mindcons.cn/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/index.html">
<meta property="og:site_name" content="吕小布の博客">
<meta property="og:description" content="了解前端与准备前端发展史：全面拥抱大前端时代web1.0时代：静态网页 1989年，在欧洲粒子物理实验室Tim Berners—Lee（伯纳斯·李）提出：个人计算机上访问大量的科研文献，并建议在文档中链接其他文档&#x3D;&gt;“WEB原型” 1994年，万维网(W3C) 成立，网景推出了第一版Navigator浏览器, HTML也发布了第二代版本，TIM的好基友也设计了CSS…所以我们把19">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://bu.dusays.com/2023/02/10/63e583843360e.webp">
<meta property="article:published_time" content="2022-09-16T01:58:44.000Z">
<meta property="article:modified_time" content="2024-04-08T23:09:46.684Z">
<meta property="article:author" content="Sai">
<meta property="article:tag" content="javascript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://bu.dusays.com/2023/02/10/63e583843360e.webp"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://mindcons.cn/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"61301LMFP2","apiKey":"a7627d15f4af23df7fbc3e2922471858","indexName":"mindcons","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":350},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: Sai","link":"链接: ","source":"来源: 吕小布の博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaScript从基础到进阶',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-04-09 07:09:46'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/custom/css/custom.min.css"><meta name="generator" content="Hexo 6.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://bu.dusays.com/2023/02/10/63e583843360e.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">181</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">61</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">44</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fa-sharp fa-solid fa-photo-film"></i><span> 相册</span></a></li><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fas fa-video"></i><span> 番剧</span></a></li><li><a class="site-page child" href="/booklist/"><i class="fa-fw fa-solid fa-book"></i><span> 书单</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/sponsorWall/"><i class="fa-fw fas fa-money-check-alt"></i><span> 赞助墙</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">吕小布の博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fa-sharp fa-solid fa-photo-film"></i><span> 相册</span></a></li><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fas fa-video"></i><span> 番剧</span></a></li><li><a class="site-page child" href="/booklist/"><i class="fa-fw fa-solid fa-book"></i><span> 书单</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/sponsorWall/"><i class="fa-fw fas fa-money-check-alt"></i><span> 赞助墙</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaScript从基础到进阶</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-16T01:58:44.000Z" title="发表于 2022-09-16 09:58:44">2022-09-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-04-08T23:09:46.684Z" title="更新于 2024-04-09 07:09:46">2024-04-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/javascript/">javascript</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JavaScript从基础到进阶"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="了解前端与准备"><a href="#了解前端与准备" class="headerlink" title="了解前端与准备"></a>了解前端与准备</h1><h2 id="前端发展史：全面拥抱大前端时代"><a href="#前端发展史：全面拥抱大前端时代" class="headerlink" title="前端发展史：全面拥抱大前端时代"></a>前端发展史：全面拥抱大前端时代</h2><h3 id="web1-0时代：静态网页"><a href="#web1-0时代：静态网页" class="headerlink" title="web1.0时代：静态网页"></a><code>web1.0</code>时代：静态网页</h3><ul>
<li>1989年，在欧洲粒子物理实验室<code>Tim Berners—Lee</code>（伯纳斯·李）提出：个人计算机上访问大量的科研文献，并建议在文档中链接其他文档&#x3D;&gt;“<strong>WEB原型</strong>”</li>
<li>1994年，万维网(<code>W3C</code>) 成立，网景推出了第一版<code>Navigator</code>浏览器, <code>HTML</code>也发布了第二代版本，<code>TIM</code>的好基友也设计了<code>CSS</code>…所以我们把1994年称为“<strong>前端历史的起点</strong>”<ul>
<li><code>H5C3</code>去官网看：<a target="_blank" rel="noopener" href="https://www.w3.org/2002/03/tutorials.html">Tutorials and Courses - W3C</a></li>
</ul>
</li>
<li>1995年，网景工程师<code>Brendan Eich</code>花 了10天时间设计了<code>JavaScript</code>语言, 1996年微软发布了<code>JScript</code> (和<code>JS</code>有一些差异)，同时拉开了<code>Navigator和Internet Explorer</code> 浏览器大战的序幕(到2002年<code>IE</code>完胜，占据全世界96%的市场份额)。<ul>
<li>后期浏览器兼容性问题的起源</li>
</ul>
</li>
<li>为了让各大浏览器统一编程规范，1997年6月<code>ECMA</code> (欧洲计算机制造联合会)以<code>JavaScript</code>语言为基础制定了<code>ECMAScript</code>标准规范<code>ECMA-262</code>，从此浏览器厂商都是按照这个规范来开发自己的浏览器产品。</li>
<li>1999年12月<code>ES3</code>发布，到2011年6月<code>ES5</code>发 布(2007年 的<code>ES4</code>夭折:改动太大)，<code>ES3</code>占据了10年历程， 也是<code>JS</code>语言的基础。2015年6月<code>ES6</code>发布 (但是由于之后规定每年发布一个新的版本，所以后改名<code>ES2015</code>: <code>let、 const、 Arrow function、 Class、 Module、Promise、Iterator、 Generator、 Set、 Map、 async、 Symbol、 Proxy</code>…. )，2016年6月对2015版本增强的2016版本发布，此后相继有<code>ES2017</code>、<code>ES2018</code>…</li>
<li>同样<code>HTML</code>也在2014年10月发布了第五代版本，2011年<code>CSS</code>也发布了第三代版本，此时前端基础的技术栈就稳固下来。</li>
</ul>
<h3 id="web2-0时代：动态网页的崛起"><a href="#web2-0时代：动态网页的崛起" class="headerlink" title="web2.0时代：动态网页的崛起"></a><code>web2.0</code>时代：动态网页的崛起</h3><p>1995年之前，<code>JS</code>只用来做一些简单的<code>DOM</code>修改，<code>WEB</code> 页面都是静态的(显示静态文本和图片)，为了让<code>WEB</code>页面更具备活力(例如:动态展示数据)，1995年<code>PHP</code>诞生， 1996年<code>JSP</code>诞生，1996 年<code>ASP</code>诞生，2002年<code>ASP.NET</code>诞生…这些服务器端页面技术实现了<code>WEB</code>页面的动态化，从此<code>WEB2.0</code>时代到来。</p>
<h4 id="服务端渲染"><a href="#服务端渲染" class="headerlink" title="服务端渲染"></a>服务端渲染</h4><ul>
<li><p>服务器接收到请求后</p>
<ul>
<li>1.找到需要访问的资源文件</li>
<li>2.从数据库中基于<code>SQL</code>语句，查询出需要的数据</li>
</ul>
</li>
<li><p>数据库存放的是数据</p>
</li>
<li><p>服务器渲染:把页面代码和数据结合在一起，生成有结构样式和数据的页面，把渲染完成的页面返回给客户端浏览器</p>
</li>
<li><p>前端开发：(网页制作)</p>
<ul>
<li>写页面和样式</li>
</ul>
</li>
<li><p>后台开发:</p>
<ul>
<li>1.会写数据绑定的代码</li>
<li>2.操作数据库</li>
<li>3.操作服务器</li>
<li>4.数据结构和算法</li>
<li>5.服务器分布式(缓存和并发)</li>
<li>..</li>
</ul>
</li>
<li><p>弊端</p>
<ul>
<li>1.服务器承受压力过大</li>
<li>2.同步非异步刷新<ul>
<li>页面中某一个数据想要更改，只能重新刷新整个页面(全局刷新)</li>
</ul>
</li>
<li>3.不利于团队协作开发<ul>
<li>后台开发的任务量过大(网页制作任务量少) ，代码过于臃肿，两种角色很难实现同时任务开发</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="AJAX时代"><a href="#AJAX时代" class="headerlink" title="AJAX时代"></a><code>AJAX</code>时代</h3><blockquote>
<p>详见《Ajax&amp;Axios》</p>
</blockquote>
<p>[ <code>AJAX</code>时代: 前后端分离的雏形，异步渲染大显神通]</p>
<p>在Web最初发展的阶段，前端页面要想获取后台信息需要刷新整个页面，这是很糟糕的用户体验。<code>Google</code>分 别在<code>2004</code>年和<code>2005</code>年先后发布了两款重量级的Web产品: <code>Gmail</code>和<code>Google Map</code>。<br>这两款<code>Web</code>产品都大量使用了<code>AJAX</code>技术，不需要刷新页面就可以使得前端与服务器进行网络通信，所以<code>AJAX</code>是一项革命性的技术，颠覆了用户体验。</p>
<p>到2013年&#x2F;2014年，随着移动端<code>H5</code>的崛起，高性能的WEB体验是重中之重，国内大部分项目都已经改为“前后端分离”模式，这也奠定了前端开发二分天下的局面。导致到后期，跨域策略请求方案(<code>JSONP、 IFRAME、 CORS、DOMAIN、POXY、SCOKET</code>… )以及FETCH等 新通信方案不断的崛起。</p>
<h4 id="客户端渲染"><a href="#客户端渲染" class="headerlink" title="客户端渲染"></a>客户端渲染</h4><ul>
<li>服务器一般有多个<ul>
<li><code>WEB</code>服务器：<ul>
<li>接受客户端请求，把找到的静态资源文件返回给客户端</li>
</ul>
</li>
<li>数据服务器：<ul>
<li>客户端基于<code>AJAX ( JSONP、CROSS、 WEBPACK PROXY... )</code>或者<code>FETCH</code>，向数据服务器发送请求</li>
<li>数据服务器操作数据库并向客户端返回数据</li>
<li>客户端获取数据后，基于模板字符串等手段，把数据拼成需要展示的结构，放到容器中</li>
</ul>
</li>
<li>资源服务器<ul>
<li>一般放图片资源</li>
</ul>
</li>
</ul>
</li>
<li>前端工程师<ul>
<li>1.写页面<code>H5/CSS3</code></li>
<li>2.写人机交互<code>js</code>及框架插件</li>
<li>3.数据请求和绑定<code>ajax</code>….</li>
<li>4.操作系统<code>linux</code></li>
</ul>
</li>
<li>后台<ul>
<li>1.业务逻辑处理</li>
<li>2.数据处理(数据库)</li>
<li>3.数据结构和算法(服务器负载均衡)</li>
<li>4.操作系统</li>
</ul>
</li>
</ul>
<h3 id="App"><a href="#App" class="headerlink" title="App"></a><code>App</code></h3><h4 id="原生APP-Native-App"><a href="#原生APP-Native-App" class="headerlink" title="原生APP ( Native App )"></a>原生<code>APP</code> ( <code>Native App</code> )</h4><p><code>object-c / java-native /swift</code></p>
<p>优势:</p>
<ul>
<li>1.性能好</li>
<li>2.功能强大(可以调用手机软件硬件)</li>
</ul>
<p>弊端:</p>
<ul>
<li>1.不能跨平台，成本大</li>
<li>2.不能同步</li>
</ul>
<h4 id="Web-App-H5页面"><a href="#Web-App-H5页面" class="headerlink" title="Web App ( H5页面)"></a>Web App ( H5页面)</h4><p>响应式布局开发</p>
<blockquote>
<p>浏览器</p>
<blockquote>
<p>网址</p>
<blockquote>
<p><code>HTML5</code>页面</p>
<ul>
<li>优势<ul>
<li>1.跨平台</li>
<li>2.及时更新</li>
</ul>
</li>
<li>弊端:<ul>
<li>1.性能相对不好</li>
<li>2.功能没有那么强大</li>
</ul>
</li>
</ul>
</blockquote>
</blockquote>
</blockquote>
<h4 id="Hybrid混合APP开发（99-99999-）"><a href="#Hybrid混合APP开发（99-99999-）" class="headerlink" title="Hybrid混合APP开发（99.99999%）"></a><code>Hybrid</code>混合<code>APP</code>开发（99.99999%）</h4><blockquote>
<p><code>Native App</code>壳子（安卓&#x2F;<code>IOS</code>写壳子）</p>
<blockquote>
<p><code>webview</code> (<code>webkit</code>内核)</p>
<p>通过<code>JSBridge</code>，可以调用壳子的方法</p>
<blockquote>
<p><code>H5</code></p>
<p>壳子都不用原生（安卓&#x2F;<code>IOS</code>）写了</p>
<ul>
<li><code>React-Native</code></li>
<li><code>Flutter</code><ul>
<li><code>Dart</code>语言</li>
</ul>
</li>
<li><code>uni-app</code><ul>
<li>一套代码，啥平台都有</li>
</ul>
</li>
</ul>
</blockquote>
</blockquote>
</blockquote>
<h4 id="NODE崛起"><a href="#NODE崛起" class="headerlink" title="NODE崛起"></a><code>NODE</code>崛起</h4><p>[ <code>NODE</code>崛起:<code> JS</code>成为最热门全栈开发技术] I</p>
<p>2009年，<code>Ryan</code>利 用<code>Chrome</code>的<code>V8</code>引擎打造了基于事件循环的异步I&#x2F;0框架-<code>Node.js</code>诞生。</p>
<p><code>NODE</code>特点：基于事件循环的异步I&#x2F;0框架，能够提高1&#x2F;0吞吐量;单线程运行，能够避免了多线程变量同步的问题；使得<code>JS</code>可以编写后台代码，前后端编程语言统一。<br>2010年1月，<code>NPM</code>作为<code>Node. js</code>的包管理系统首次发布。前<code>NPM</code> 具有40万左右的模块，是世界上最大的包模块管理系统。</p>
<h4 id="前端未来发展预估"><a href="#前端未来发展预估" class="headerlink" title="前端未来发展预估"></a>前端未来发展预估</h4><ul>
<li>A：小程序是企业产品的重要组成部分</li>
<li>B： <code>IOS</code>和安卓开发逐步被淘汰</li>
<li>C： <code>VR/AI</code>最终转为B端(<code>JS</code>，尤其是<code>webGL</code>、<code>canvas</code>、<code>three. js</code>等是<code>3D</code>虚拟交互的主要实现技术)</li>
<li>D：<code>H5</code>游戏&#x2F;小游戏的热度会提高(白鹭<code>JS</code>引擎)</li>
<li>E：<code>NODE.JS</code>还会迎来下一个高潮</li>
<li>…</li>
</ul>
<p>大前端时代已经到来!</p>
<h3 id="当下前端开发的技术体系"><a href="#当下前端开发的技术体系" class="headerlink" title="当下前端开发的技术体系"></a>当下前端开发的技术体系</h3><h4 id="第一阶段-HTML-5-CSS-3"><a href="#第一阶段-HTML-5-CSS-3" class="headerlink" title="第一阶段: HTML (5) + CSS (3) "></a>第一阶段: <code>HTML (5) + CSS (3) </code></h4><p>技术要点：<code>HTML5</code>、<code>CSS3</code>、响应式布局(<code>rem/flex/@media</code>等)、<code>Hybrid</code>混合<code>APP</code>开发、微信二次开发、小程序开发、<code>ReactNative</code>开发、<code>Flutter</code>、<code>uni-app</code>…<br>特殊说明:	</p>
<ul>
<li><code>Hybrid</code>、微信开发、小程序开发、<code>React Native</code>开发等，这些都需要有<code>JS</code>和框架编程的基础;	</li>
<li><code>H5</code>不仅仅是标签，还需要掌握常用的<code>API</code>以及<code>video</code>和<code>audio</code>等,例如：<code>locaIstorage</code>、<code>webscoket</code>、<code>getCurrentPosition</code>等;</li>
</ul>
<p>书籍：</p>
<ul>
<li><p>《<code>HTML5</code>》秘籍</p>
</li>
<li><p>《<code>CSS</code>权威指南》</p>
</li>
<li><p>《图解<code>CSS3</code>》</p>
</li>
<li><p>《<code>React Native</code>》入门与实战</p>
</li>
<li><p>…</p>
</li>
</ul>
<h4 id="第二阶段-JS包括ES6核心原理"><a href="#第二阶段-JS包括ES6核心原理" class="headerlink" title="第二阶段: JS包括ES6核心原理"></a>第二阶段: JS包括ES6核心原理</h4><p>JS堆栈内存、闭包作用域、浏览器词法解析(v8渲染机制原理)、面向对象和THIS处理(主要是独立封装组件和插件，研究常用类库的源码) ;</p>
<p>ES6基础语法(包括class 类的继承封装和多态)、ES6中 的Promise (及Promise A+规范)、Generator生 成器函数等深入用法;</p>
<p>同步异步编程(包括运行机制和微任务、宏任务，以及实战应用)</p>
<p>常用的编程思想和设计模式:函数的防抖和节流、柯理化函数、惰性函数、单例设计模式、发布订阅模式、Promise设计模式等</p>
<p>DOM性能优化(重排和重绘的优化)、DOM事件</p>
<p>前端编程常规算法:去重、冒泡排序、插入排序、快速排序、递归等</p>
<p>书籍：</p>
<ul>
<li>《JavaScript权威指南》</li>
<li>《你不知道的JavaScript》</li>
<li>《JavaScript高级程序设计》</li>
<li>《ES6标准入门》</li>
</ul>
<h4 id="第三阶段-AJAX和HTTP"><a href="#第三阶段-AJAX和HTTP" class="headerlink" title="第三阶段: AJAX和HTTP"></a>第三阶段: AJAX和HTTP</h4><p>技术要点: ajax原理、ajax异步解决方案(promise)、axios; (包括自己封装promise版ajax库)、fetch及封装处理、jquery中的ajax操作和库的封装等</p>
<p>跨域解决方案及实现原理: jsonp、 cors、 webpack proxy (scoket.io)、document. domain、window. name+ iframe、postMessage 等</p>
<p>HTTP报文(常用的响应请求头实战应用技巧)、HTTP (TCP) 传输流程(包括三次握手四次挥手及TCP底层协议)、HTTP1和HTTP2的 区别、HTTP和HTTPS的区别等</p>
<p>特殊说明: HTTP是目前优秀公司重点考察的知识点，因为传统前端代码优化，性能上提高较小，HTTP相关优化手段是性能提高的重要方法(例如: 304缓 存、DNS缓存、减少HTTP传输次数和大小、HTTPS的加密等)，这块是一个重点!</p>
<p>书籍：</p>
<ul>
<li>《图解HTTP》</li>
<li>…</li>
</ul>
<h4 id="第四阶段-框架开发"><a href="#第四阶段-框架开发" class="headerlink" title="第四阶段:框架开发"></a>第四阶段:框架开发</h4><p>技术要点:目前市场上的项目大部分都是框架开发的，所以框架学习非常的重要，目前主流框架是vue、react、 angular， angular现在 用的越来越少（国内），一般都是老项目使用这个技术在维护(angular1. 0版本居多)</p>
<p>vue全家桶: vue (MWVM实 现的原理以及一些语法实现的原理)、vue- router (HASH路由实现的原理)、vuex (掌握原理)、axios、 vue-cli (需要能够修改脚手架的webpack配置项)、iview&#x2F;vux&#x2F;vue element等常用框架的使用等</p>
<p>react全家桶: create-react-app (能够修改webpack的配置项)、react (掌握虚拟DOM渲染原理，掌握DOM-DIFF原理，掌握INDEX索引对比机制，掌握MVC实现的原理)、react-dom&#x2F;react-native、 react-router、 react-redux&#x2F;dva&#x2F;mobx (掌握原理， 自己可以基于原生JS写一套类似的插件、发现里面的一些不足点)、antd (最好可以自己封装一些基础的组件)等</p>
<p>书籍：</p>
<ul>
<li>《React学习手册》</li>
<li>《深入浅出React Redux》</li>
<li>…</li>
</ul>
<h4 id="第五阶段-辅助技能"><a href="#第五阶段-辅助技能" class="headerlink" title="第五阶段:辅助技能"></a>第五阶段:辅助技能</h4><p>技术要点</p>
<p>Webpack:掌握常用的脚手架使用和修改，会一些基础的webpack搭建</p>
<p>Git: 熟练掌握团队协作开发中代码版本管控技项，熟悉常用的操作命令</p>
<p>Node:掌握基础的API、掌握express&#x2F;koa&#x2F;egg等框架、可以编写伪API,可以基于node做跨域处理等，有精力的同学可以研究一下数据库操作等（使用Sequelize ORM框架）</p>
<p>Canvas:一些公司要求会可视化，需要掌握canvas&#x2F;webGI&#x2F;d3等,这个对于数学结构、算法等有一定的要求;这方面不好的，可以先掌握一些基础的操作,掌握echarts的用法等;</p>
<p>书籍：</p>
<ul>
<li>《了不起的Node.js》</li>
<li>《HTML5游戏开发案例教程》</li>
<li>《精通Git》</li>
<li>《Linux基础学习篇》</li>
</ul>
<h2 id="推荐的学习方式"><a href="#推荐的学习方式" class="headerlink" title="推荐的学习方式"></a>推荐的学习方式</h2><ul>
<li>温故而知新,可以为师矣:笔记+复习</li>
<li>知其然而知其所以然:深挖底层原理</li>
<li>学而不思则罔 ,思而不学则殆</li>
<li>实战很重要:薪资和你敲过的代码成正比</li>
<li>多读书:致其知、 诚其意、正其心、修其身，然后家齐 ,国治,而后天下平</li>
<li>学习，学前端，什么比较重要呢？是编程（思想）比较重要？基础知识比较重要？还是原理比较重要？还是实战比较重要？都重要。确实也是都重要，但是自己不要把它们区分开，因为都是相辅相成的。只有你的基础知识扎实，你才能够玩得懂源码（原理）；只有基础知识扎实，原理玩透了，你慢慢才能养成编程思想；编程思想再不断去练习，你才能够去做出案例。这是一个相辅相成的过程，只有案例做多了，你才有组件、插件封装的思想，才能够有写底层、写核心，给别人用的这样一个能力；在练习这个能力的时候，又是不断的在巩固基础知识和深入理解的过程。</li>
<li>那么什么样才是基础知识扎实呢？<ul>
<li>笔记+复习，每天抽出两到三小时</li>
<li>随便给两个点，都可以在三句话之内，不牵强的 说出它们之间的关联（要有整个知识脉络的体系）</li>
</ul>
</li>
</ul>
<h2 id="前端开发需要掌握的IDE"><a href="#前端开发需要掌握的IDE" class="headerlink" title="前端开发需要掌握的IDE"></a>前端开发需要掌握的IDE</h2><p>VSCODE</p>
<p>常用插件</p>
<ul>
<li>汉化（看个人）</li>
<li>代码格式化：Beautify（shift + alt + F）</li>
<li>Live Server</li>
</ul>
<p>常见设置</p>
<ul>
<li>File &gt; preference &gt; Settigngs<ul>
<li>Word Wrap</li>
</ul>
</li>
</ul>
<p>常用快捷键</p>
<ul>
<li>感叹号!，生成HTML骨架</li>
<li>EMMET语法</li>
<li>格式化代码：shift + alt + F</li>
</ul>
<h2 id="笔记工具"><a href="#笔记工具" class="headerlink" title="笔记工具"></a>笔记工具</h2><p>markdown格式，使用typora免费版</p>
<h2 id="浏览器内核和控制台"><a href="#浏览器内核和控制台" class="headerlink" title="浏览器内核和控制台"></a>浏览器内核和控制台</h2><h3 id="常用浏览器"><a href="#常用浏览器" class="headerlink" title="常用浏览器"></a>常用浏览器</h3><ul>
<li><p>webkit内核(V8引擎)</p>
<ul>
<li>谷歌Chrome</li>
</ul>
<ul>
<li>Safari</li>
<li>Opera &gt;&#x3D;V14</li>
<li>国产浏览器</li>
<li>手机浏览器</li>
<li>…</li>
</ul>
</li>
<li><p>Gecko</p>
<ul>
<li>火狐Firefpx</li>
</ul>
</li>
<li><p>Presto</p>
<ul>
<li>Opera &lt;V14</li>
</ul>
</li>
<li><p>Trident</p>
<ul>
<li><p>IE</p>
</li>
<li><p>IE EDGE开始采用双内核(其中包含chrome迷你)</p>
</li>
</ul>
</li>
</ul>
<h2 id="谷歌浏览器的控制台-F12-x2F-Fn-F12"><a href="#谷歌浏览器的控制台-F12-x2F-Fn-F12" class="headerlink" title="谷歌浏览器的控制台(F12&#x2F;Fn+F12)"></a>谷歌浏览器的控制台(F12&#x2F;Fn+F12)</h2><ul>
<li>Elements:查看结构样式，可以修改这些内容</li>
<li>Console:查看输出结果和报错信息，是JS调试的利器</li>
<li>Sources:查看项目源码</li>
<li>Network:查看当前网站所有资源的请求信息(包括和服务器传输的HTTP报文信息)、加载时间等(根据加载时间进行项目优化)</li>
<li>Application: 查看当前网站的数据存储和资源文件(可以盗图)</li>
</ul>
<h1 id="JS概览"><a href="#JS概览" class="headerlink" title="JS概览"></a>JS概览</h1><p>按照相关的JS语法，去操作页面中的元素，有时还要操作浏览器里面的一些功能</p>
<ul>
<li>ECMAScript3&#x2F;5&#x2F;6…: JS的语法规范(变量、数据类型、操作语句等等)</li>
<li>DOM (document object model) :文档对象模型，提供- -些JS的属性和方法，用来操作页面中的DOM元素</li>
<li>BOM (browser object model) !浏览器对象模型，提供一些JS的属性和方法，用来操作浏览器的</li>
</ul>
<p>书籍推荐：<a target="_blank" rel="noopener" href="https://www.aliyundrive.com/s/f8JS7ExEh7o">https://www.aliyundrive.com/s/f8JS7ExEh7o</a></p>
<ul>
<li>《JavaScript高级程序设计》（第四版）</li>
<li>《你不知道的JavaScript》（三卷）</li>
<li>《JavaScript权威指南》</li>
<li>《ES6标准入门》</li>
</ul>
<h2 id="变量和命名规范"><a href="#变量和命名规范" class="headerlink" title="变量和命名规范"></a>变量和命名规范</h2><blockquote>
<ul>
<li>多种定义方式：var &#x2F; let &#x2F; const &#x2F; function &#x2F; import &#x2F; class &#x2F; Symbol()</li>
<li>严谨的命名规范:区分大小写 &#x2F; 驼峰命名 &#x2F; 关键字保留字</li>
</ul>
</blockquote>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>变量：可变的量，在编程语言中，变量其实就是 一个名字，用来存储和代表不同值的东西</p>
<p>变量本身是没有意义的，<strong>有意义的是变量对应的那个值</strong></p>
<p>ECMAScript 变量是松散类型的，意思是变量可以用于保存任何类型的数据。每个变量只不过是一个用于保存任意值的命名占位符。有 3 个关键字可以声明变量：var、const 和 let。其中，var 在ECMAScript 的所有版本中都可以使用，而 const 和 let 只能在 ECMAScript 6 及更晚的版本中使用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES3</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">12</span></span><br><span class="line">a = <span class="number">13</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">100</span></span><br><span class="line">b = <span class="number">200</span> <span class="comment">// 这两种声明方式有啥区别呢  后面讲完变量提升后，再说</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> c = <span class="number">1000</span></span><br><span class="line">c = <span class="number">2000</span> <span class="comment">// 报错，const创建的变量存储的值，是不允许被修改的（可以理解为const创建的是常量）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建函数，也相当于在创建变量</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建类，也相当于创建变量</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6的模块导入也可以创建变量</span></span><br><span class="line"><span class="keyword">import</span> B <span class="keyword">from</span> <span class="string">&#x27;./B.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Symbol创建唯一值</span></span><br><span class="line"><span class="keyword">let</span> n = <span class="title class_">Symbol</span>(<span class="number">100</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="var"><a href="#var" class="headerlink" title="var"></a><code>var</code></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 初始化，默认值为undefined</span></span><br><span class="line"><span class="keyword">var</span> message;</span><br></pre></td></tr></table></figure>

<p><strong>声明作用域</strong>：使用 var 操作符定义的变量会成为包含它的函数的局部变量。比如，使用 var在一个函数内部定义一个变量，就意味着该变量将在函数退出时被销毁：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123; </span><br><span class="line"> <span class="keyword">var</span> message = <span class="string">&quot;hi&quot;</span>; <span class="comment">// 局部变量</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">test</span>(); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(message); <span class="comment">// 出错！</span></span><br></pre></td></tr></table></figure>

<p>不过，在函数内定义变量时省略 var 操作符，可以创建一个全局变量：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123; </span><br><span class="line"> message = <span class="string">&quot;hi&quot;</span>; <span class="comment">// 全局变量</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">test</span>(); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(message); <span class="comment">// &quot;hi&quot;</span></span><br></pre></td></tr></table></figure>

<p>虽然可以通过省略 var 操作符定义全局变量，但不推荐这么做。在局部作用域中定义的全局变量很难维护，也会造成困惑。</p>
<p><strong>var 声明提升</strong></p>
<p>使用 var 时，下面的代码不会报错。这是因为使用这个关键字声明的变量会自动提升到函数作用域顶部：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123; </span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(age); </span><br><span class="line"> <span class="keyword">var</span> age = <span class="number">26</span>; </span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p>之所以不会报错，是因为 ECMAScript 运行时把它看成等价于如下代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123; </span><br><span class="line"> <span class="keyword">var</span> age; </span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(age); </span><br><span class="line"> age = <span class="number">26</span>; </span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p>这就是所谓的“提升”（hoist），也就是把所有变量声明都拉到函数作用域的顶部。此外，反复多次</p>
<p>使用 var 声明同一个变量也没有问题：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123; </span><br><span class="line"> <span class="keyword">var</span> age = <span class="number">16</span>; </span><br><span class="line"> <span class="keyword">var</span> age = <span class="number">26</span>; </span><br><span class="line"> <span class="keyword">var</span> age = <span class="number">36</span>; </span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(age); </span><br><span class="line">&#125; </span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// 36</span></span><br></pre></td></tr></table></figure>

<h4 id="let"><a href="#let" class="headerlink" title="let"></a><code>let</code></h4><p>let 跟 var 的作用差不多，但有着非常重要的区别。最明显的区别是，let 声明的范围是块作用域，而 var 声明的范围是函数作用域。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var关键字没有块级作用域，只有函数作用域</span></span><br><span class="line"> <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">   <span class="keyword">var</span> name = <span class="string">&quot;Matt&quot;</span>;</span><br><span class="line">   <span class="keyword">debugger</span>;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(name); <span class="comment">// Matt</span></span><br><span class="line">   </span><br><span class="line"> &#125;</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(name); <span class="comment">// Matt，在方括号外面仍可以访问</span></span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221216092309932.png" alt="image-20221216092309932"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> age = <span class="number">26</span>;</span><br><span class="line">  <span class="keyword">debugger</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(age); <span class="comment">// 26</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// console.log(age); // Uncaught ReferenceError: age is not defined</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>age</code>之所以不能在if块外部被引用,看下图就知道了</p>
<ul>
<li>let声明在变量在在Block里，额外开辟了一块堆内存</li>
<li>而if块外部只能访问Local和Global</li>
</ul>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221215192214871.png" alt="image-20221215192214871"></p>
<p>执行上下文中，一直的作用域对象有</p>
<ul>
<li>Block<ul>
<li><code>let</code>可创建</li>
</ul>
</li>
<li><code>Local</code></li>
<li><code>Global</code></li>
</ul>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221215192510220.png" alt="image-20221215192510220"></p>
<p>let 不允许同一个块作用域中出现冗余声明。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> repeat;</span><br><span class="line"><span class="comment">// let repeat; // Uncaught SyntaxError: Identifier &#x27;repeat&#x27; has already been declared</span></span><br></pre></td></tr></table></figure>



<h5 id="暂时性死区"><a href="#暂时性死区" class="headerlink" title="暂时性死区"></a>暂时性死区</h5><p>let 与 var 的另一个重要的区别，就是 let 声明的变量不会在作用域中被提升。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// name 会被提升</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name); <span class="comment">// undefined </span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;Matt&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>相当于</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// name 会被提升</span></span><br><span class="line"><span class="keyword">var</span> name;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name); <span class="comment">// undefined </span></span><br><span class="line">name = <span class="string">&#x27;Matt&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>从《你不知道的JavaScript》中，可以知道JS代码执行前存在编译阶段，而var关键字声明的标识符，会在代码执行前，被先处理一下，定义到作用域上。</p>
<p>所谓的变量提升，是js代码存在编译阶段做了一些处理的表现形式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// age 不会被提升</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age); <span class="comment">// ReferenceError：age 没有定义</span></span><br><span class="line"><span class="keyword">let</span> age = <span class="number">26</span>;</span><br></pre></td></tr></table></figure>

<p>《JS高程第4版中文版》：在解析代码时，JavaScript 引擎也会注意出现在块后面的 let 声明，只不过在此之前不能以任何方式来引用未声明的变量。在 let 声明之前的执行瞬间被称为“暂时性死区”（temporal dead zone），在此阶段引用任何后面才声明的变量都会抛出ReferenceError。</p>
<p>When parsing the code, JavaScript engines will still be aware of the let declarations that appear later in a block, but these variables will be unable to be referenced in any way before the actual declaration occurs. The segment of execution that occurs before the declaration is referred to as the “temporal dead zone,” and any attempted references to these variables will throw a ReferenceError.</p>
<p>简单理解就是JS引擎在编译的时候，对let关键字不做处理，编译完代码执行的时候，作用域里没有age这个变量，自然是报<code>age没有定义</code></p>
<p>上面的理解正确吗？我们调试下不同情况的声明</p>
<blockquote>
<p>新建index.html，js代码通过scirpt标签写在html内部</p>
</blockquote>
<ul>
<li><p>情况一，使用<code>var</code>声明关键字并赋值，注意：断点是在前面</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">debugger</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> age2 = <span class="number">13</span>;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>执行到断点时：<code>Scope</code>是空的，<code>age2</code>已经经过编译被挂到<code>Global</code>上了，默认值为<code>undefined</code>，符合之前的认知</p>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221216100722267.png" alt="image-20221216100722267"></p>
<p>断点继续往下走，是赋值操作，值变为13；<code>Scope</code>无新增作用域</p>
</li>
<li><p>情况二，使用<code>let</code>关键字声明并赋值</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">debugger</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> age = <span class="number">60</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// var age2 = 13;</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>执行到断点时：新增了<code>Script</code>作用域，里面有一个属性age，值为<code>undefined</code></p>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221216102233760.png" alt="image-20221216102233760"></p>
<p>断点继续往下走：<code>Script</code>中的age值变成了60，<code>Global</code>无新增属性（age没被挂载到<code>Global</code>上）</p>
</li>
<li><p>情况三，在函数里面使用<code>var</code>关键字</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">debugger</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> age2 = <span class="number">13</span>;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">test</span>()</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>执行到断点时：在test函数执行栈中，对应的函数作用域里，发生了同情况一一样的事情，只不过对于此时的<code>age2</code>而言，它是挂载到当前执行栈的<code>Local</code>上的</p>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221216105651340.png" alt="image-20221216105651340"></p>
</li>
<li><p>情况四：在函数里面使用<code>let</code>关键字</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  </span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">debugger</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> age = <span class="number">60</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// var age2 = 13;</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">test</span>()</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>执行到断点时，情况好像和var一样，断点继续往下走，值变为<code>60</code></p>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221216103256948.png" alt="image-20221216103256948"></p>
</li>
<li><p>区别呢？？区别在于我们在非函数的方括号中使用的时候</p>
<ul>
<li><p>var</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">debugger</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// var age = 60;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> age2 = <span class="number">13</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(age);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221216104655000.png" alt="image-20221216104655000"></p>
</li>
<li><p>let</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">debugger</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> age = <span class="number">60</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// var age2 = 13;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(age);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221216104748889.png" alt="image-20221216104748889"></p>
<p>可以看到，<code>let</code>关键字如果被声明在了非函数的语句块中，编译器会新建个<code>Block</code>作用域，把对应的变量放在里面</p>
</li>
</ul>
</li>
</ul>
<p><strong>var和let比较</strong></p>
<ul>
<li>var关键字定义的变量，存储在作用<code>Scope</code>对象中的<code>Global</code>对象或<code>Local</code>变量对象中（距离最近的父级作用域），并且会被编译器先挂载；而<code>let</code>也是这样，但额外一点是，如果<code>let</code>被声明在了非函数语句块中，编译器在对应的当前<code>Scope</code>上新开启一个<code>Block</code>对象用来存储变量。</li>
<li>对于<code>var</code>，变量提升其实就是编译器会把对应的标识符，挂载到最近的父级作用域上（对应情况一和情况三），并且非函数语句块没有作用域；而对于<code>let</code>是不会有挂载最近的父级作用域上这个操作的，并且<code>let</code>遇到非函数语句块时，反而会新增一个<code>Block</code>作用域</li>
<li>作用域是分块的，已知的作用域有<ul>
<li><code>Scope</code><ul>
<li><code>Global</code><ul>
<li>全局作用域，一般写代码的最外层，js代码执行时产生</li>
</ul>
</li>
<li><code>Local</code><ul>
<li>函数执行，入栈时产生</li>
<li>直接访问不到<code>Global</code>，但是函数里有一个<code>this</code>属性，指向<code>Global</code></li>
<li>非函数语句块里的同一个执行栈中，<code>Local</code>变量对象在方括号内外都是可以访问的，表现为<code>var</code>没有块级作用域（对应上文的if的例子）；</li>
</ul>
</li>
<li><code>Block</code><ul>
<li>执行<code>let</code>关键字在非函数语句块中声明变量时产生</li>
</ul>
</li>
<li><code>Script</code><ul>
<li><code>html</code>中引入<code>script</code>时产生</li>
</ul>
</li>
<li>……</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>再来看看对于暂时性死区的理解</p>
<blockquote>
<p>简单理解就是JS引擎在编译的时候，对let关键字不做处理（不会向var关键字那样，把变量挂载到最近的父级作用域上），编译完代码执行的时候，当前作用域对象里没有age这个变量，自然是报<code>age没有定义</code></p>
</blockquote>
<p>对应情况一</p>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221216100722267.png" alt="image-20221216100722267"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">debugger</span>; <span class="comment">// 编译阶段结束，age2已经被挂载到最近的父级作用域Global上，值默认为undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age2) <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> age2 = <span class="number">13</span>;</span><br></pre></td></tr></table></figure>

<p>对应情况二</p>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221216102233760.png" alt="image-20221216102233760"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">      <span class="keyword">debugger</span>;</span><br><span class="line"> <span class="comment">// 虽然编译阶段age仍像var那样被提升了，但注意，人家var是被提到了距离最近的父级作用域上`Global`</span></span><br><span class="line"><span class="comment">// 但是let声明的关键字是提升到了`Script`作用域里，与`Global`作用域平级</span></span><br><span class="line"><span class="comment">// console.log(age)语句，查找age时，是在Global的作用域链里查找的，自然是找不到的</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(age) <span class="comment">// Uncaught ReferenceError: Cannot access &#x27;age&#x27; before initialization</span></span><br><span class="line">	</span><br><span class="line">      <span class="keyword">let</span> age = <span class="number">60</span>;</span><br></pre></td></tr></table></figure>

<p>对应情况三</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">debugger</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(age2) <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> age2 = <span class="number">13</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221216113306051.png" alt="image-20221216113306051"></p>
<p>对应情况四</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">debugger</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(age) <span class="comment">// Uncaught ReferenceError: Cannot access &#x27;age&#x27; before initialization</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> age = <span class="number">60</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>()</span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221216113533900.png" alt="image-20221216113533900"></p>
<p>这里可能会问了，情况二访问不到，是因为变量放在了<code>Script</code>作用域里，但这里<code>Local</code>作用域里，命名就有age，为啥还会访问不到呢？</p>
<p>应该这样说，是可以访问的，但js引擎检测到你要访问的变量，是通过<code>let</code>关键字声明的，强制不让你访问，给你报个错<code>Cannot access &#39;age&#39; before initialization</code>，这就是所谓的暂时性死区</p>
<p>那么js引擎咋知道这个变量时<code>let</code>关键字声明的呢？因为代码执行前先执行了编译阶段呀</p>
<h5 id="全局声明"><a href="#全局声明" class="headerlink" title="全局声明"></a>全局声明</h5><h4 id="const"><a href="#const" class="headerlink" title="const"></a><code>const</code></h4><p>小结：</p>
<ul>
<li>不使用<code>var</code><ul>
<li>限制自己只使用 let 和 const，有助于提升代码质量，因为变量有了明确的作用域、声明位置，以及不变的值。</li>
</ul>
</li>
<li><code>const</code>优先、<code>let</code>次之<ul>
<li>使用 const 声明可以让浏览器运行时强制保持变量不变，也可以让静态代码分析工具提前发现不合法的赋值操作。因此，很多开发者认为应该优先使用 const 来声明变量，只在提前知道未来会有修改时，再使用 let。这样可以让开发者更有信心地推断某些变量的值永远不会变，同时也能迅速发现因意外赋值导致的非预期行为。</li>
</ul>
</li>
</ul>
<h3 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h3><ul>
<li><p>严格区分大小写</p>
</li>
<li><p>使用数字、字母、下划线、$，数字不能作为开头</p>
</li>
<li><p>使用驼峰命名法:首字母小写，其余每-一个有意义单词的首字母都要大写(命名尽可能语义化明显，使用英文单词)</p>
</li>
<li><p>不能使用关键字和保留字，当下有特殊含义的是关键字，未来可能会成为关键字的叫做保留字</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903714164047879">代码规范参考</a></p>
</li>
<li><p>免测产品的第一步，是良好的编码习惯</p>
</li>
</ul>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><blockquote>
<ul>
<li><p>基本数据类型(值类型) ：数字number、字符串string、 布尔boolean、null、 undefined</p>
</li>
<li><p>引用数据类型：object (数组、对象、正则… )、function</p>
</li>
<li><p>Symbol：唯一值</p>
</li>
</ul>
</blockquote>
<p><strong>基本数据类型</strong></p>
<ul>
<li>数字number<ul>
<li>常规数字</li>
<li>NaN</li>
</ul>
</li>
<li>字符串string</li>
<li>所有用单引号、双引号、反引号包起来的，都是字符串</li>
<li>布尔boolean<ul>
<li>true</li>
<li>false</li>
</ul>
</li>
<li>空对象指针null</li>
<li>未定义undef ined</li>
</ul>
<p><strong>引用数据类型</strong></p>
<ul>
<li><p>对象数据类型object</p>
<ul>
<li><p>{} 普通对象</p>
</li>
<li><p>[] 数组对象.</p>
</li>
<li><p><code>/^[+-]?(\d|([1-9]\d+))(\.\d+)?$/</code> 正则对象</p>
</li>
<li><p>Math 数学函数对象</p>
</li>
<li><p>日期对象</p>
</li>
<li><p>…</p>
</li>
</ul>
</li>
<li><p>函数数据类型function</p>
</li>
</ul>
<h4 id="数字number"><a href="#数字number" class="headerlink" title="数字number"></a>数字number</h4><ul>
<li><p>常规数字</p>
</li>
<li></li>
<li><p>NaN：not a number，不是一个数，但它属于数字类型</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// isNaN([val])</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="number">10</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="string">&#x27;AA&#x27;</span>)) <span class="comment">// true, 1.Number(&#x27;AA&#x27;) =&gt; NaN, 2.isNaN(NaN) =&gt; true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="string">&#x27;10&#x27;</span>)) <span class="comment">// false, 1.Number(&#x27;10&#x27;) =&gt; 10, 2.isNaN(10) =&gt; false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="title class_">NaN</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<ul>
<li>NaN和任何值(包括自己)都不相等: <code>NaN!=NaN</code>，所以我们不能用相等的方式判断是否是有效数字</li>
<li>isNaN：检测一个值是否为非有效数字，如果不是有效数字返回TRUE，反之是有效数字返回FALSE</li>
<li>在使用isNaN进行检测的时候，首先会验证检测的值是否为数字类型，如果不是，**先基于Number()**这个方法，把值转换为数字类型，然后再检测</li>
</ul>
</li>
<li><p>把其它类型值转换为数字类型</p>
<blockquote>
<p>Number( [val] )</p>
<p>parseInt([val]) &#x2F; parseFloat([val],[进制])</p>
<p>&#x3D;&#x3D;进行比较时比较时，可能要出现把其他类型值转换成数字</p>
</blockquote>
</li>
<li><p>浏览器内置的V8引擎底层转换规则</p>
<ul>
<li><p>把字符串转换为数字，只要字符串中包含任意一个非有效数字字符(第一个点除外)结果都是NaN，空字符串会变为数字零</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="string">&#x27;12.5&#x27;</span>)) <span class="comment">// 12.5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="string">&#x27;12.5px&#x27;</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="string">&#x27;12.4.5&#x27;</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="number">011</span>)) <span class="comment">// 11</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="string">&#x27;&#x27;</span>)) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>把布尔转换成数字</p>
<p>true 转换为 1，false 转换为 0</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="literal">true</span>)) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="literal">false</span>)) <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="literal">true</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="literal">false</span>)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>null和undefined转为数字</p>
<p>null返回 0，undefined返回 NaN</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="literal">null</span>)) <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="literal">undefined</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="literal">null</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="literal">undefined</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>把引用数据类型转为数字</p>
<ul>
<li>是先把它基于toString方法转换为字符串，然后再将字符串转为数字</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((&#123;<span class="attr">name</span>: <span class="string">&#x27;sai&#x27;</span>&#125;).<span class="title function_">toString</span>()) <span class="comment">// [object Object]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(&#123;<span class="attr">name</span>: <span class="string">&#x27;sai&#x27;</span>&#125;)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(&#123;&#125;)) <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([].<span class="title function_">toString</span>()) <span class="comment">// &#x27;&#x27;, 空字符串</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>([])) <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([<span class="number">12</span>].<span class="title function_">toString</span>()) <span class="comment">// &#x27;12&#x27;,</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>([<span class="number">12</span>])) <span class="comment">// 12</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([<span class="number">12</span>, <span class="number">34</span>].<span class="title function_">toString</span>()) <span class="comment">// &#x27;12,34&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>([<span class="number">12</span>, <span class="number">34</span>])) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>parseInt和parseFloat是额外提供的，不同于V8引擎的转换规则</p>
<ul>
<li><p>字符串：对于字符串<code>12.5px</code>，如果仍然想获得其中的数字，可以使用parseInt和parseFloat方法，它是从左到右依次查找有效数字字符，直到遇到非有效数字字符，停止查找(不管后面是否还有数字，都不在找了)，把找到的当做数字返回</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="string">&#x27;12.5px&#x27;</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(<span class="string">&#x27;12.5px&#x27;</span>)) <span class="comment">// 12</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseFloat</span>(<span class="string">&#x27;12.5px&#x27;</span>)) <span class="comment">// 12.5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseFloat</span>(<span class="string">&#x27;width:12.5px&#x27;</span>)) <span class="comment">// NaN，一开始就是非有效数字字符，停止查找</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>布尔</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(<span class="literal">true</span>)) <span class="comment">// NaN，会先转为字符串&#x27;true&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(<span class="literal">false</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseFloat</span>(<span class="literal">false</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseFloat</span>(<span class="literal">false</span>)) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>null和undefined</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(<span class="literal">null</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseFloat</span>(<span class="literal">null</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(<span class="literal">undefined</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseFloat</span>(<span class="literal">undefined</span>)) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>引用数据类型</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(&#123;&#125;)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(&#123;<span class="attr">name</span>: <span class="string">&#x27;sai&#x27;</span>&#125;)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>([])) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>([<span class="number">12</span>])) <span class="comment">// 12</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>([<span class="number">12</span>,<span class="number">34</span>])) <span class="comment">// 12</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseFloat</span>(&#123;&#125;)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseFloat</span>(&#123;<span class="attr">name</span>: <span class="string">&#x27;sai&#x27;</span>&#125;)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseFloat</span>([])) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseFloat</span>([<span class="number">12</span>])) <span class="comment">// 12</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseFloat</span>([<span class="number">12</span>,<span class="number">34</span>])) <span class="comment">// 12</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="字符串string"><a href="#字符串string" class="headerlink" title="字符串string"></a>字符串string</h4><p>所有用单引号、双引号、反引号(撇 ES6模板字符串)包起来的都是字符串</p>
<ul>
<li><p>把其它类型值转换为字符串类型</p>
<blockquote>
<p>[val].toString()</p>
<p>字符串拼接</p>
</blockquote>
</li>
<li><p>toString()</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// console.log(12.toString()) // An identifier or keyword cannot immediately follow a numeric literal.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">12</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">toString</span>()) <span class="comment">// &#x27;12&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((<span class="title class_">NaN</span>).<span class="title function_">toString</span>()) <span class="comment">// &#x27;NaN&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((<span class="literal">true</span>).<span class="title function_">toString</span>()) <span class="comment">// &#x27;true&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log((null).torString()) // 有toString方法，但是禁止使用   Uncaught TypeError: Cannot read properties of null (reading &#x27;torString&#x27;)</span></span><br><span class="line"><span class="comment">// console.log((undefined).toString()) // 同上</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([].<span class="title function_">toString</span>()) <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([<span class="number">12</span>, <span class="number">34</span>].<span class="title function_">toString</span>()) <span class="comment">// &#x27;12,34&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="regexp">/^$/</span>.<span class="title function_">toString</span>()) <span class="comment">// &#x27;/^$/&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((&#123; <span class="attr">name</span>: <span class="string">&#x27;sai&#x27;</span> &#125;).<span class="title function_">toString</span>()) <span class="comment">// &#x27;[object Object]&#x27; 因为Object.prototype.toString方法不是用来转换字符串的，而是用来转换数据类型的</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>字符串拼接</p>
<p>四则运算法则中，除加法之外，其余都是数学计算，只有加法可能存在字符串拼接（一旦遇到字符串， 则不是数学运算，而是字符串拼接）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;10&#x27;</span> + <span class="number">10</span>) <span class="comment">// 1010</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;10&#x27;</span> - <span class="number">10</span>) <span class="comment">// Number(&#x27;10&#x27;) - 10 = 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;10px&#x27;</span> - <span class="number">10</span>) <span class="comment">// Number(&#x27;10px&#x27;) - 10 = NaN</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>面试题</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">10</span> + <span class="literal">null</span> + <span class="literal">true</span> + [] + <span class="literal">undefined</span> + <span class="string">&#x27;sai&#x27;</span> + <span class="literal">null</span> + [] + <span class="number">10</span> + <span class="literal">false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// 11undefinedsainull10false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">10 + null = 10 + Number(null) = 10 + 0 = 10</span></span><br><span class="line"><span class="comment">10 + true = 10 + Number(true) = 10 + 1 = 11</span></span><br><span class="line"><span class="comment">11 + [] = 11 + &#x27;&#x27; = &#x27;11&#x27; // 空数组变为数字，先要经历变为空字符串，遇到字符串，啥都别想了，直接变为字符串拼接</span></span><br><span class="line"><span class="comment">&#x27;11&#x27; + undefined = &#x27;11undefined&#x27;</span></span><br><span class="line"><span class="comment">&#x27;11undefined&#x27; + &#x27;sai&#x27; = &#x27;11undefinedsai&#x27;</span></span><br><span class="line"><span class="comment">&#x27;11undefinedsai&#x27; + null = &#x27;11undefinedsainull&#x27;</span></span><br><span class="line"><span class="comment">&#x27;11undefinedsainull + [] = &#x27;11undefinedsainull&#x27;</span></span><br><span class="line"><span class="comment">&#x27;11undefinedsainull&#x27; + 10 = &#x27;11undefinedsainull10&#x27;</span></span><br><span class="line"><span class="comment">&#x27;11undefinedsainull10&#x27; + false = &#x27;11undefinedsainull10false&#x27;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="布尔boolean"><a href="#布尔boolean" class="headerlink" title="布尔boolean"></a>布尔boolean</h4><p>只有两个值：true &#x2F; false</p>
<ul>
<li><p>把其它类型值转换为布尔类型：只有0、NaN、’’、null、undefined 五个值转换为FALSE，其余都转换为TRUE（而且没有任何的特殊情况，空对象转换成布尔值也是true）</p>
<blockquote>
<p>Boolean([val])</p>
<p>! &#x2F; !!</p>
<p>条件判断</p>
</blockquote>
</li>
<li><p>Boolean([val])</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="number">0</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="title class_">NaN</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="literal">null</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="literal">undefined</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="string">&#x27;&#x27;</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="string">&#x27;sai&#x27;</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(-<span class="number">1</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>([]))  <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>([<span class="number">12</span>])) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>([<span class="number">12</span>, <span class="number">34</span>])) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(&#123;&#125;)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;sai&#x27;</span> &#125;)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>!：取反(先转为布尔，然后取反)<br>!!： 取反再取反，只相当于转换为布尔&lt;&#x3D;&gt; Boolean</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!<span class="number">1</span>) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="number">1</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如果条件只是一个值，不是&#x3D;&#x3D; &#x2F; &#x3D;&#x3D;&#x3D; &#x2F;!&#x3D; &#x2F; &gt;&#x3D; 等这些比较，是要把这个值先转换为布尔类型，然后验证真假</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="number">1</span>) &#123; <span class="comment">// Boolean(1)</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;true&#x27;</span>) <span class="comment">// true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="string">&#x27;3px&#x27;</span> + <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;true&#x27;</span>) <span class="comment">// true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="string">&#x27;3px&#x27;</span> - <span class="number">3</span>) &#123; <span class="comment">// NaN</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;false&#x27;</span>) <span class="comment">// 不会输出</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="null-amp-undefined"><a href="#null-amp-undefined" class="headerlink" title="null &amp; undefined"></a>null &amp; undefined</h4><p>null和undefined都代表的是没有</p>
<ul>
<li><p>null: 意料之中(一般都是开始不知道值，我们手动先设置为null, 后期再给予赋值操作)</p>
<ul>
<li><p>一 般最好用null 作为初始的空值，因为零不是空值，他在栈内存中有自己的存储空间(占了位置)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="literal">null</span> <span class="comment">// null是不占据空间的</span></span><br><span class="line"><span class="comment">// let num = 0 // 0是占据空间的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">num = <span class="number">12</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>undefined: 意料之外(不是我能决定的)</p>
<ul>
<li><p>创建一一个变量没有赋值，默认值是undefined</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="symbol-唯一值"><a href="#symbol-唯一值" class="headerlink" title="symbol 唯一值"></a><code>symbol</code> 唯一值</h4><ul>
<li><p>目的为了创建唯一值，不能被<code>new</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a1 = <span class="title class_">Symbol</span>(<span class="string">&#x27;AA&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> a2 = <span class="title class_">Symbol</span>(<span class="string">&#x27;AA&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a1 === a2) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>常见的3种应用场景：</p>
<ul>
<li><p>给对象设置唯一值的属性名</p>
<ul>
<li>字符串</li>
<li><code>Symbol</code>类型</li>
<li><code>Map</code>新的数据结构，可以允许属性名是对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">n</span>: <span class="number">10</span>,</span><br><span class="line">    <span class="number">10</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">true</span>: <span class="number">200</span>,</span><br><span class="line">    [<span class="title class_">Symbol</span>(<span class="string">&#x27;AA&#x27;</span>)]: <span class="number">300</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[<span class="title class_">Symbol</span>(<span class="string">&#x27;AA&#x27;</span>)]) <span class="comment">// undefined, 两次创建的Symbol不一样</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> key = <span class="title class_">Symbol</span>(<span class="string">&#x27;BB&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">n</span>: <span class="number">10</span>,</span><br><span class="line">    <span class="number">10</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">true</span>: <span class="number">200</span>,</span><br><span class="line">    [key]: <span class="number">300</span> </span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2[key]) <span class="comment">// 300</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj3 = &#123;</span><br><span class="line">    <span class="attr">n</span>: <span class="number">10</span>,</span><br><span class="line">    <span class="number">10</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">true</span>: <span class="number">200</span>,</span><br><span class="line">    [<span class="title class_">Symbol</span>(<span class="string">&#x27;AA&#x27;</span>)]: <span class="number">300</span>,</span><br><span class="line">    [<span class="title class_">Symbol</span>(<span class="string">&#x27;AA&#x27;</span>)]: <span class="number">600</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj3) <span class="comment">// &#123; &#x27;10&#x27;: 100, n: 10, true: 200, [Symbol(AA)]: 300, [Symbol(AA)]: 600 &#125; 重写call方法时，会使用这种用法</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Symbol</code>身上的一些方法，如<code>Symbol.asyncIterator/iterator/hasInstance/toPrimitive/toStringTag...</code>是某些<code>JS</code>底层实现的机制，了解这些机制对我们应用<code>JS</code>有很大帮助。</p>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20220828124447129.png" alt="image-20220828124447129"></p>
</li>
<li><p><code>Redux</code>做公共状态管理的时候，会对派发的行为标识做管理，可以基于<code>Symbol</code>类型的值，保证行为的唯一性</p>
</li>
</ul>
</li>
</ul>
<h4 id="bigint-大数"><a href="#bigint-大数" class="headerlink" title="bigint 大数"></a><code>bigint</code> 大数</h4><ul>
<li><p>前端发展过程中，用来弥补<code>JS</code>已有的数据类型缺陷</p>
<ul>
<li><p><code>JS</code>中最大安全数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="property">MAX_SAFE_INTEGER</span>) <span class="comment">// 9007 1992 5474 0991</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>JS</code>中最小安全数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="property">MIN_SAFE_INTEGER</span>) <span class="comment">// -9007 1992 5474 0991</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>值超过安全数后，进行运算或者访问时，结果会不准确</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="property">MAX_SAFE_INTEGER</span> + <span class="number">2</span>) <span class="comment">// 9007 1992 5474 0992</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>应用场景：客户端如果拿到这样的数，再进行计算，肯定是不行的了</p>
<ul>
<li><p>解决方案</p>
<ul>
<li><p>1.服务器返回给客户端的大数，按字符串的格式返回</p>
</li>
<li><p>2.客户端将其变为<code>bigint</code>类型，然后按照<code>bigint</code>进行运算</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">BigInt</span>(<span class="string">&#x27;90071992547409912434234&#x27;</span>) + <span class="title class_">BigInt</span>(<span class="number">12345</span>)) <span class="comment">// 90071992547409912446579n</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>3.最后把运算过的结果变为字符串，再传递给服务器即可</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((<span class="number">90071992547409912446579n</span>).<span class="title function_">toString</span>()) <span class="comment">// 90071992547409912446579</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="对象数据类型"><a href="#对象数据类型" class="headerlink" title="对象数据类型"></a>对象数据类型</h3><h4 id="普通对象"><a href="#普通对象" class="headerlink" title="普通对象"></a>普通对象</h4><blockquote>
<p>{[key]: [value], …} 任何一个对象都是由零到多组键值对(属性名:属性值)组成的(并且属性名不能重复)</p>
</blockquote>
<ul>
<li><p>定义对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;sai&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="string">&#x27;185CM&#x27;</span>,</span><br><span class="line">    <span class="attr">weight</span>: <span class="string">&#x27;80KG&#x27;</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="number">100</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取属性名对应的属性值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取属性名对应的属性值</span></span><br><span class="line"><span class="comment">// 对象.属性名</span></span><br><span class="line"><span class="comment">// 对象[属性名] 属性名是数字或者字符串格式的</span></span><br><span class="line"><span class="comment">// 如果当前属性名不存在，默认的属性值是undefined</span></span><br><span class="line"><span class="comment">// 如果属性名是数字，则不能使用点的方式获取属性值</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>) <span class="comment">// sai</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person[<span class="string">&#x27;age&#x27;</span>]) <span class="comment">// 18</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">sex</span>) <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person[<span class="number">1</span>]) <span class="comment">// 100</span></span><br><span class="line"><span class="comment">// console.log(person.1) // Uncaught SyntaxError: missing ) after argument list </span></span><br></pre></td></tr></table></figure>

<ul>
<li>变量和属性名的区别</li>
</ul>
</li>
<li><p>设置属性名属性值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置属性名属性值</span></span><br><span class="line"><span class="comment">// 属性名不能重复，如果属性名已经存在，不属于新增属于修改属性值</span></span><br><span class="line"></span><br><span class="line">person.<span class="property">GF</span> = <span class="string">&#x27;igo&#x27;</span></span><br><span class="line">person.<span class="property">name</span> = <span class="string">&#x27;akira&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person[<span class="string">&#x27;GF&#x27;</span>]) <span class="comment">// igo</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person[<span class="string">&#x27;name&#x27;</span>]) <span class="comment">// akira</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>删除属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person) <span class="comment">// &#123;1: 100, name: &#x27;akira&#x27;, age: 18, height: &#x27;185CM&#x27;, weight: &#x27;80KG&#x27;, GF: &#x27;igo&#x27;&#125;</span></span><br><span class="line"><span class="comment">// 删除属性</span></span><br><span class="line"><span class="comment">// 真删除：把属性彻底干掉</span></span><br><span class="line"><span class="keyword">delete</span> person[<span class="number">1</span>]</span><br><span class="line"><span class="comment">// 假删除：属性还在，值为空</span></span><br><span class="line">person.<span class="property">weight</span> = <span class="literal">null</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person) <span class="comment">// &#123;name: &#x27;akira&#x27;, age: 18, height: &#x27;185CM&#x27;, weight: null, GF: &#x27;igo&#x27;&#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="变量名和属性名区别"><a href="#变量名和属性名区别" class="headerlink" title="变量名和属性名区别"></a>变量名和属性名区别</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;sai&#x27;</span>,</span><br><span class="line">    [<span class="number">12</span>]: <span class="number">120</span>,</span><br><span class="line">    <span class="attr">true</span>: <span class="string">&#x27;true123&#x27;</span>,</span><br><span class="line">    <span class="attr">null</span>: <span class="string">&#x27;null123&#x27;</span>,</span><br><span class="line">    <span class="attr">undefined</span>: <span class="string">&#x27;undefined123&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取obj这个对象的name属性对应的值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span>) <span class="comment">// sai</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 一个对象的属性名只有两种格式：数字或者字符串</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[<span class="string">&#x27;name&#x27;</span>]) <span class="comment">// sai</span></span><br><span class="line"><span class="comment">// console.log(obj.12) // 报错</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[<span class="number">12</span>], obj.<span class="property">true</span>, obj.<span class="property">null</span>, obj[<span class="string">&#x27;undefined&#x27;</span>]) <span class="comment">// 12 &#x27;true123&#x27; &#x27;null123&#x27; &#x27;undefined123&#x27;，就当做是数字或者字符串就可以了</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[name]) <span class="comment">// 等价于obj[10]，结果为undefined</span></span><br></pre></td></tr></table></figure>

<p>值与变量</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;age&#x27;</span> 值，代表本身</span><br><span class="line">age 变量，代表它存储的值</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[name]) <span class="comment">// 输出name变量存储的值，等价于obj[10]，结果为undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">100</span></span><br><span class="line">    <span class="keyword">return</span> a <span class="comment">// 把变量a存储的值返回，return 100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过点获取时，只能是ojb.属性名，obj.name</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">name</span>)</span><br><span class="line"><span class="comment">// 通过中括号获取时，中括号里的内容加上引号才代表属性名，否则是变量</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[<span class="string">&#x27;name&#x27;</span>], obj[name])</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<p>要理解的一个事实是，操作一个对象只有两种方式（不考虑使用方法操作）</p>
<ul>
<li>使用点的形式、使用中括号的形式</li>
<li>这两种操作符只能跟属性名<ul>
<li>对于点，不加引号的就是属性名，纯数字的属性名无法操作</li>
<li>对于中括号，加引号的就是属性名，同时可以操作数字；不加引号，获取的则是变量存储的值（需要做一步转化）</li>
<li>obj.key相当于obj[‘key’]</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;sai&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name2 = <span class="string">&#x27;sai2&#x27;</span></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    <span class="comment">// 属性名：属性值（属性值是变量，也是把变量存储的值拿过来，做属性值）</span></span><br><span class="line">    <span class="attr">name2</span>: name2,</span><br><span class="line">    <span class="comment">//name2, // ES6的语法糖（合并属性和属性值的写法）</span></span><br><span class="line">    <span class="attr">age</span>: <span class="number">1</span> === <span class="number">1</span> ? <span class="number">100</span> : <span class="number">20</span> <span class="comment">// 属性值只能放值，这里最终放的也是这个表达式的值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="for-in-循环"><a href="#for-in-循环" class="headerlink" title="for in 循环"></a>for in 循环</h5><p>用来循环遍历对象的键值对的（continue和break同样适用）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;sai&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="attr">friends</span>: <span class="string">&#x27;hikaru, akira&#x27;</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">null</span>: <span class="number">30</span>,</span><br><span class="line">    [<span class="number">3</span>]: <span class="number">40</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// for(var 变量 in 对象)</span></span><br><span class="line"><span class="comment">// 对象中有多少组键值对，循环就执行几次（除非break）结束</span></span><br><span class="line"><span class="keyword">for</span>( <span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="comment">// 每一次循环时，key变量存储的值是当前对象的属性名</span></span><br><span class="line">    <span class="comment">// 获取属性值：obj[属性名] =&gt; obj[key]</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(key) <span class="comment">// 打印对象所有的属性名</span></span><br><span class="line">    <span class="comment">// 不能通过obj.key的形式获取，获取的结果是undefined</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`属性名是<span class="subst">$&#123;key&#125;</span>，属性值是<span class="subst">$&#123;obj[key]&#125;</span>`</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// for in 循环遍历时，会有一个优先级，优先遍历数字类型的属性名，并按照从小到大的顺序</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="特殊对象"><a href="#特殊对象" class="headerlink" title="特殊对象"></a>特殊对象</h4><h5 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h5><p>数组是特殊的对象数据类型</p>
<ul>
<li>属性名是数字，从0开始逐级递增（索引）</li>
<li>多了一个length属性</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>, <span class="string">&#x27;haha&#x27;</span>, <span class="literal">true</span>, <span class="number">13</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20220922053400732.png" alt="image-20220922053400732"></p>
<ul>
<li><p>我们中括号中设置的是属性值，它的属性名是默认生成的数字，从零开始递增，而且这个数字代表每一项的位置，我们把其成为“索引”&#x3D;&gt;从零开始，连续递<br>增，代表每一-项位置的数字属性名</p>
</li>
<li><p>天生默认-一个属性名length ，存储数组的长度</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>, <span class="string">&#x27;haha&#x27;</span>, <span class="literal">true</span>, <span class="number">13</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="property">length</span>) <span class="comment">// 4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr[<span class="string">&#x27;length&#x27;</span>]) <span class="comment">// 4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr[<span class="number">1</span>]) <span class="comment">// haha</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr[arr.<span class="property">length</span> - <span class="number">1</span>]) <span class="comment">// 13</span></span><br><span class="line"><span class="comment">// 向数组末尾追加内容</span></span><br><span class="line">arr[arr.<span class="property">length</span>] = <span class="number">100</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr) <span class="comment">// [12, &#x27;haha&#x27;, true, 13, 100]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="元素对象"><a href="#元素对象" class="headerlink" title="元素对象"></a>元素对象</h4><p><code>let box = document. getElementById(&#39;box&#39;);</code><br>通过方法获取的元素是对象数据类型的值<br><code>console.log(typeof box); //=&gt;&quot;object&quot;</code><br>基于<code>.dir</code>可以看到一个对象的详细信息</p>
<ul>
<li>id:操作元素的ID值</li>
<li>className:获取或者操作元素的CLASS样式类的值</li>
<li>innerHTML:获取或者操作的元素的内容(可以识别标签)</li>
<li>innerText:和innerHTML 的区别是不能识别标签</li>
<li>style:操作元素的<strong>行内样式</strong>，属性值也是一个对象（CSSStyleDeclaration）</li>
<li>tagName:获取元素的标签名(一般大写)</li>
</ul>
<p>实际学习的时候，每次都打印输出一下，对比每个元素（h1、div）都有什么属性及有哪些不同的地方，不断的夯实基础；这部分没有什么系统的理论，每次用到的时候，打印输出一下，然后对比已经掌握的进行学习</p>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221008222740822.png" alt="image-20221008222740822"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">box.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;red&#x27;</span></span><br><span class="line"><span class="comment">// 修改的是堆内存中的值(只要堆内存中的值被修改,浏览器会基于DOM映射机制把页面中的元素进行重新渲染)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable constant_">AA</span> = box.<span class="property">style</span>;</span><br><span class="line"><span class="variable constant_">AA</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;blue&#x27;</span>; <span class="comment">// 修改堆中的信息,有效果</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable constant_">BB</span> = box.<span class="property">style</span>.<span class="property">backgroundColor</span>;</span><br><span class="line"><span class="variable constant_">BB</span> = <span class="string">&#x27;green&#x27;</span>; <span class="comment">// 修改不是堆中信息,不起作用</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>基础知识没什么好说的，背下来记熟了，脑子里面有东西了，慢慢的自己就能悟透了</p>
<h4 id="对象的自定义属性"><a href="#对象的自定义属性" class="headerlink" title="对象的自定义属性"></a>对象的自定义属性</h4><p>可以通过<code>ojb.property = value</code>把需要保存的数据，存储在全局对象上，并通过<code>this</code>或其他方式获取到（视具体实现）</p>
<p>在写多行表格数据展开显示时，尤其有用</p>
<h2 id="数据类型堆栈底层机制"><a href="#数据类型堆栈底层机制" class="headerlink" title="数据类型堆栈底层机制"></a>数据类型堆栈底层机制</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> b = a;</span><br><span class="line">b = <span class="number">13</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 12</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> n = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;sai&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> m = n;</span><br><span class="line">m.<span class="property">name</span> = <span class="string">&#x27;sai2&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(n.<span class="property">name</span>); <span class="comment">// sai2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>浏览器想要执行JS代码:</p>
<p>1.从电脑内存中分配出一块内存，用来执行代码(栈内存&#x3D;&gt;Stack)</p>
<ul>
<li>执行代码、存储变量和基本类型值</li>
<li>js中的赋值，是关联引用模式，而不是拷贝模式</li>
</ul>
<p>2.分配一个主线程用来自上而下执行js代码</p>
<p><code>let a = 12;</code></p>
<ol>
<li><p>创建变量a，放到当前栈内存变量存储区域中</p>
</li>
<li><p>创建一个值12 ,把它存储到当前栈内存值区域中（简单的基本类型值是这样存储的,复杂的引用类型值不是这样做的）</p>
<p>复杂值(引用类型值)的存储,又分成了三个步骤:	</p>
<ol>
<li>在内存中分配出一块新内存,用来存储引用类型值(堆内存&#x3D;&gt;heap) &#x3D;&gt;内存有一个16进制地址</li>
<li>把对象中的键值对(属性名:属性值)依次存储到堆内存中</li>
<li>把堆内存地址和变量关联起来</li>
</ol>
</li>
<li><p>&#x3D;为赋值，其实赋值是让变量和值相互关联的过程</p>
</li>
</ol>
<p>基本类型：按值操作(直接操作的是值) ,所以也叫作值类型</p>
<p>引用类型：操作的是堆内存的地址(按引用地址操作的)</p>
<p>练习：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> n = [<span class="number">10</span>, <span class="number">20</span>]; <span class="comment">// 0x100</span></span><br><span class="line"><span class="keyword">let</span> m = n; <span class="comment">// 0x100</span></span><br><span class="line"><span class="keyword">let</span> x = m; <span class="comment">// 0x100</span></span><br><span class="line">m[<span class="number">0</span>] = <span class="number">100</span>; <span class="comment">// [100, 20] 0x100</span></span><br><span class="line">x = [<span class="number">30</span>, <span class="number">40</span>]; <span class="comment">// 0x200</span></span><br><span class="line">x[<span class="number">0</span>] = <span class="number">200</span>; <span class="comment">// [200, 40] 0x200</span></span><br><span class="line">m = x; <span class="comment">// 0x200</span></span><br><span class="line">m[<span class="number">1</span>] = <span class="number">300</span>; <span class="comment">// [200, 300] 0x200</span></span><br><span class="line">n[<span class="number">2</span>] = <span class="number">400</span>; <span class="comment">// [100, 20, 400]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(n, m, x) <span class="comment">// [100, 20, 400], [200, 300], [200, 300]</span></span><br></pre></td></tr></table></figure>

<h2 id="数据类型检测"><a href="#数据类型检测" class="headerlink" title="数据类型检测"></a>数据类型检测</h2><blockquote>
<ul>
<li>typeof [val]: 用来检测数据类型的运算符 </li>
<li>instanceof :用来检测当前实例是否率属于某个类</li>
<li>constructor :基于构造函数检测数据类型(也是基于类的方式)</li>
<li>object.prototype.toString.call() :检测数据类型最好的办法</li>
</ul>
</blockquote>
<h3 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a><code>typeof</code></h3><p>在浏览器（计算机）底层，基于数据类型的二进制值进行检测</p>
<p>基于typeof检测出来的结果：</p>
<p>1.首先是一个字符串</p>
<p>2.字符串中包含对应的类型</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="number">1</span>) <span class="comment">// &#x27;number&#x27;</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="title class_">NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> a) <span class="comment">// 检测值，&#x27;number&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="string">&#x27;a&#x27;</span>) <span class="comment">// &#x27;string&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="literal">undefined</span>) <span class="comment">// &#x27;undefined&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;) <span class="comment">// &#x27;function&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="literal">null</span>) <span class="comment">// &#x27;object&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> []) <span class="comment">// &#x27;object&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> &#123;&#125;) <span class="comment">// &#x27;object&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> /^<span class="regexp">/) /</span><span class="regexp">/ &#x27;object&#x27;</span></span><br></pre></td></tr></table></figure>

<p>局限性</p>
<p>1.<code>typeof null =&gt; &quot;object&quot;</code>，但是null并不是对象</p>
<p>2.基于typeof无法细分出当前值是普通对象还是数组对象等，因为只要是对象数据类型，返回的结果都是”object”</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="keyword">typeof</span> <span class="keyword">typeof</span> []) <span class="comment">// &#x27;string&#x27;，注意用引号区分出字符串</span></span><br></pre></td></tr></table></figure>

<p>因为typeof检测的结果都是字符串，所以只要两个及以上同时检测，最后结果必然是”string”</p>
<h3 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a><code>instanceof</code></h3><p>一开始并不是用来检测数据类型的，而是用来检测当前实例是否属于某个类的</p>
<h3 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a><code>constructor</code></h3><h3 id="Object-prototype-toString-call"><a href="#Object-prototype-toString-call" class="headerlink" title="Object.prototype.toString.call"></a><code>Object.prototype.toString.call</code></h3><h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h3 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h3><blockquote>
<p>条件成立做什么?不成立做什么?</p>
<ul>
<li>if&#x2F;else if&#x2F;else</li>
<li>三元运算符</li>
<li>switch case</li>
</ul>
</blockquote>
<h4 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h4><p>三元运算符:简单IF&#x2F;ELSE的特殊处理方式</p>
<p>条件?条件成立处理的事情:不成立处理的事情;</p>
<p>1.如果处理的事情比较多，我们用括号包起来，每一-件事情用逗号分隔</p>
<p>2.如果不需要处理事情，可以使用null&#x2F;undefined占位</p>
<h4 id="switch-case"><a href="#switch-case" class="headerlink" title="switch case"></a>switch case</h4><blockquote>
<p>1.每一-种CASE情况结束后最好都加上break</p>
<p>2.default等价于else，以上都不成立干的事情</p>
<p>3.每一种case情况的比较用的都是&#x3D;&#x3D;&#x3D;绝对相等</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">10</span></span><br><span class="line"><span class="keyword">switch</span> (a) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">10</span>) <span class="comment">// 10</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">11</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">12</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>没加break的影响：不管后面的条件成不成立，都会被执行，直到遇到break为止</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">10</span></span><br><span class="line"><span class="keyword">switch</span> (a) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">10</span>) <span class="comment">// 10</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">11</span>) <span class="comment">// 11</span></span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">12</span>) <span class="comment">// 12</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>应用场景，不加break可以实现变量在某些值的情况下做相同的事情：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">10</span></span><br><span class="line"><span class="keyword">switch</span> (a) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;10, 11&#x27;</span>) <span class="comment">// 不加break可以实现变量在某些值的情况下做相同的事情</span></span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">12</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="x3D-x3D-VS-x3D-x3D-x3D"><a href="#x3D-x3D-VS-x3D-x3D-x3D" class="headerlink" title="&#x3D;&#x3D; VS &#x3D;&#x3D;&#x3D;"></a>&#x3D;&#x3D; VS &#x3D;&#x3D;&#x3D;</h4><p>&#x3D;&#x3D;:相等(如果左右两边数据值类型不同，是默认先转换为相同的类型，然后比较)<br>‘5’&#x3D;&#x3D;5 &#x3D;&gt;TRUE<br>&#x3D;&#x3D;&#x3D;:绝对相等(如果类型不一一样，肯定不相等)<br>‘5’&#x3D;&#x3D;&#x3D;5 &#x3D;&gt;FALSE</p>
<p>项目中为了保证业务的严谨，推荐使用&#x3D;&#x3D;&#x3D;</p>
<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><blockquote>
<p>重复做某些事情就是循环</p>
<ul>
<li>for循环</li>
<li>for in循环</li>
<li>for of循环( ES6新增)</li>
<li>while循环</li>
<li>do while循环</li>
</ul>
</blockquote>
<p>1.创建循环初始值</p>
<p>2.设置(验证)循环执行的条件</p>
<p>3.条件成立执行循环体中的内容</p>
<p>4.当前循环结束执行步长累计操作</p>
<p>循环体中的两个关键词</p>
<ul>
<li>continue: 结束当前这轮循环(continue后面的代码不再执行)，继续执行下一轮循环</li>
<li>break: 强制结束整个循环( break后面代码也不再执行)，而且整个循环啥也不干直接结束</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; <span class="number">2</span>) &#123;</span><br><span class="line">        i += <span class="number">2</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= <span class="number">6</span>) &#123;</span><br><span class="line">        i--</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">    i++</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i) <span class="comment">// 1 3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i) <span class="comment">// 10</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="函数的基础概念"><a href="#函数的基础概念" class="headerlink" title="函数的基础概念"></a>函数的基础概念</h2><blockquote>
<p>函数就是一个方法或者一个功能体，函数就是把实现某个功能的代码放到一-起进行封装，以后想要操作实现这个功能，只需要把函数执行即可&#x3D;&gt;“封装”: 减少页面中的冗余代码，提高代码重复使用率(低耦合高内聚)</p>
</blockquote>
<h3 id="函数的创建"><a href="#函数的创建" class="headerlink" title="函数的创建"></a>函数的创建</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//=&gt;ES5老方式</span></span><br><span class="line"><span class="keyword">function</span> [函数名]([形参变量<span class="number">1</span>]...)&#123;</span><br><span class="line">    <span class="comment">//函数体:基于JS完成需要实现的功能，</span></span><br><span class="line">    <span class="keyword">return</span> [处理后的结果];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[函数名]([实参<span class="number">1</span>]....);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 求两个数的和， 算完和后乘以10，然后在除以2...</span></span><br><span class="line"><span class="comment">// =&gt;sum是函数名，代表这个函数，</span></span><br><span class="line"><span class="comment">// =&gt;n/m是形参，是变量，用来存储执行函数时传递的实参</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">n, m</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> result=n+m;</span><br><span class="line">    result *= <span class="number">10</span>;</span><br><span class="line">    result /= <span class="number">2</span>;</span><br><span class="line">    <span class="variable language_">console</span>. <span class="title function_">log</span>(result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>. <span class="title function_">log</span>(sum);</span><br><span class="line"><span class="title function_">sum</span>(<span class="number">10</span>, <span class="number">20</span>);|</span><br><span class="line"></span><br><span class="line"><span class="comment">//形参的细节</span></span><br><span class="line"><span class="comment">//创建函数的时候我们设置了形参变量，但如果执行的时候并没有给传递对应的实参值，那么形参变量默认的值是: undefined</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="函数返回值"><a href="#函数返回值" class="headerlink" title="函数返回值"></a>函数返回值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数执行的时候，函数体内部创建的变量我们是无法获取和操作的，如果要想获取内部的信息，我们需要基于RETURN返回值机制，把信息返回才可以</span></span><br><span class="line"><span class="comment">// RETURN的一定是值:此处是把RESULT变量存储的值返回给外面</span></span><br><span class="line"><span class="comment">// 没有写RETURN，函数默认返回值是undefined</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//匿名函数之函数表达式:把一个匿名函数本身作为值赋值给其它东西，这种函数一般不是手动触发执行，而且靠其它程序驱动触发执行(例如:触发某个事件的时候把它执行等)</span></span><br><span class="line"><span class="variable language_">document</span>. body. onclick = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br><span class="line"><span class="built_in">setTimeout</span>( <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;, <span class="number">1000</span>); <span class="comment">//=&gt;设置定时器，1000MS后执行匿名函数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//匿名函数之自执行函数:创建完-一个匿名函数，紧接着就把当前函数加小括号执行</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params">n</span>)&#123;</span><br><span class="line">	<span class="function"><span class="params">n</span>=&gt;</span><span class="number">100</span></span><br><span class="line">&#125;)(<span class="number">100</span>);</span><br></pre></td></tr></table></figure>

<h3 id="函数的底层运行机制"><a href="#函数的底层运行机制" class="headerlink" title="函数的底层运行机制"></a>函数的底层运行机制</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">n, m</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> res = <span class="literal">null</span></span><br><span class="line">    res = n + m</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 执行函数</span></span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">AA</span> = <span class="title function_">fn</span>(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable constant_">AA</span>)</span><br></pre></td></tr></table></figure>

<p>创建函数，开辟的堆内存中存储的是函数体中的代码，但是是按照字符串存储的</p>
<p>执行函数，先把fn函数执行，再把执行后的返回结果和变量AA关联在一起，函数的返回值只看return，有return，后面是啥返回值就是啥，没有就是undefined</p>
<p>每一次函数执行的目的，都是把函数体中的代码（先从字符串变为代码）执行 &#x3D;&gt; 形成一个全新的私有内存栈（<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/edb2be5866eb">JS编译过程，VO，AO </a>）</p>
<p><strong><code>JS</code>函数运行机制</strong></p>
<p>首先关于整个生命周期，最重要的是要了解它的编译过程。</p>
<ol>
<li>发现有代码调用了一个函数</li>
<li>在执行这个function之前，创建一个执行上下文（execution context），也可以叫执行环境。</li>
<li>进入创建阶段（VO创建）<br> a. 初始化作用域链（scope chain）<br> b. 创建变量函数（variable object &#x2F; VO）<br> c. 创建参数对象（arguments object，传进来的参数）,检查上下文，初始化其名字和值，以及建立引用对象的拷贝。<br> d. 扫描上下文中的函数声明<br> e. 为每一个扫描到的函数声明在VO中创建一个属性，命名为函数的名字，指向了存储空间中的对应函数。<br> f. 如果函数名称已经存在了，这个引用指针将被重写为新的这一个。<br> g. 扫描上下文中的变量声明<br> h. 为每一个扫描到的变量声明在VO中创建一个属性，命名为变量的名字，初始化值为undefined。<br> i. 如果变量名在内存中已经存在了，就跳过。<br> j. 决定上下文中this的指向。</li>
<li>执行阶段（VO &#x3D;&gt; AO）<br> a. 执行&#x2F;解释上下文中的function，为变量赋值<br> b. 代码按行执行</li>
</ol>
<p>就我个人理解，他们的相应概念和包含内容如下。</p>
<p>scope ：变量&#x2F;函数起作用的区域<br> scope chain : 保证对执行环境有权访问的所有变量和函数的有序访问。相当于VO + [scope]<br> 我们可以将作用域定义为一套规则，用来管理引擎如何在当前作用域以及嵌套的子作用域中根据标识符名称进行变量查找，作用域链是这套规则的具体实现。</p>
<p>execution context  &#x3D; {VO, this, [scope]}</p>
<p>函数的每次执行，都会形成一个全新的私有栈内存</p>
<p>每个私有栈内存都会有变量存储、值存储对应的内存空间</p>
<p><strong>案例解析</strong></p>
<p>选项卡</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">value</span>=<span class="string">&quot;按钮1&quot;</span>&gt;</span>按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">value</span>=<span class="string">&quot;按钮2&quot;</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">value</span>=<span class="string">&quot;按钮3&quot;</span>&gt;</span>按钮3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">value</span>=<span class="string">&quot;按钮4&quot;</span>&gt;</span>按钮4<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">value</span>=<span class="string">&quot;按钮5&quot;</span>&gt;</span>按钮5<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> btnList = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;button&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; btnList.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">        btnList[i].<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>点击的回调函数执行时，每个函数对应保存i都是5，因为for循环已经执行完毕了：给每个<code>button</code>对象向，添加点击事件的回调，而当我们真正去点击时，函数开始执行，此时<code>i</code>的值是5</p>
<p>可以每次循环时，自定义一个<code>myIndex</code>属性，记录每次<code>i</code>的值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btnList = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;button&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; btnList.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    btnList[i].<span class="property">myIndex</span> = i</span><br><span class="line">    btnList[i].<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">myIndex</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数的arguments"><a href="#函数的arguments" class="headerlink" title="函数的arguments"></a>函数的arguments</h3><p>任意数求和：</p>
<ul>
<li>传递实参的个数不定</li>
<li>传递的值是否为有效数字不定</li>
</ul>
<p>把传递的有效数字进行相加求和</p>
<p>箭头函数</p>
<p>arguments：函数内置的实参集合</p>
<ul>
<li><p>类数组集合，集合中存储所有函数执行时，传递的实参信息</p>
</li>
<li><p>不论是否设置形参，arguments都存在</p>
</li>
<li><p>不论是否传递实参，arguments都存在</p>
</li>
<li><p>arguments.callee：存储的是当前函数本身（一般不用，JS严格模式下禁止使用这些属性）</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">    <span class="keyword">let</span> total = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">arguments</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// 获取的每一项，都要先转换成数字</span></span><br><span class="line">        <span class="keyword">let</span> item = <span class="title class_">Number</span>(<span class="variable language_">arguments</span>[i])</span><br><span class="line">        <span class="comment">// 非有效数字不加</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">isNaN</span>(item)) &#123;</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        total += item;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> total = <span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">3</span>, <span class="string">&#x27;5a&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(total)</span><br><span class="line"><span class="comment">// arguements.callee指向函数自身，严格模式下禁止使用</span></span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221212210134110.png" alt="image-20221212210134110"></p>
<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><p>见<code>ES6~11</code>小节</p>
<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><h3 id="正则表达式是干什么的"><a href="#正则表达式是干什么的" class="headerlink" title="正则表达式是干什么的"></a>正则表达式是干什么的</h3><blockquote>
<p>regular expression: RegExp</p>
<p>用来处理字符串的规则</p>
<ul>
<li>只能处理字符串</li>
<li>它是一个规则：可以验证字符串是否符合某个规则（test），也可以把字符串中符合规则的内容捕获到（exec&#x2F;match…）</li>
</ul>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;good good study, day day up!&quot;</span>;</span><br><span class="line"><span class="comment">// 正则就是用来指定规则</span></span><br><span class="line"><span class="comment">// 规则：是否包含连续的数字</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/\d+/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(reg)) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">str = <span class="string">&quot;2023-02-12&quot;</span></span><br><span class="line"><span class="comment">// 捕获符合正则的内容</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">exec</span>(str)); <span class="comment">// [ &#x27;2023&#x27;, index: 0, input: &#x27;2023-02-12&#x27;, groups: undefined ]</span></span><br><span class="line"><span class="comment">// input存的是原始字符串</span></span><br></pre></td></tr></table></figure>

<h3 id="编写正则表达式"><a href="#编写正则表达式" class="headerlink" title="编写正则表达式"></a>编写正则表达式</h3><p>创建方式有两种</p>
<ul>
<li><p>字面量方式（两个斜杠之间包起来的，都是用来描述规则的元字符）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/\d+/</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>构造函数模式创建</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 两个参数：元字符字符串  修饰符字符串</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;\\d+&quot;</span>); <span class="comment">// 字符串需要转义</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>正则表达式是由两部分组成：</p>
<ul>
<li><p>元字符</p>
<ul>
<li><p>用来定义规则的</p>
</li>
<li><p>常用的元字符</p>
<p><strong>量词元字符</strong>，设置出现的次数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*   零次到多次</span><br><span class="line">+   一次到多次</span><br><span class="line">？  零次或者一次</span><br><span class="line">&#123;n&#125; 出现n次，n为<span class="number">0</span>或正整数</span><br><span class="line">&#123;n,&#125; 出现n到多次</span><br><span class="line">&#123;n,m&#125; 出现n次到m次（包含n,m）</span><br></pre></td></tr></table></figure>

<p><strong>特殊元字符</strong>，单个或者组合在一起，代表特殊的含义</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">\  转义字符：普通字符 ==&gt; 特殊字符 ==&gt;  普通字符</span><br><span class="line">.  除\n（换行符）以外的任意字符</span><br><span class="line">^  以哪一个元字符作为开始</span><br><span class="line">$  以哪一个元字符作为结束</span><br><span class="line">\n  换行符</span><br><span class="line">\d  <span class="number">0</span>~<span class="number">9</span>之间的数字</span><br><span class="line">\D  非<span class="number">0</span>~<span class="number">9</span>之间的数字（\d和\D意思相反）</span><br><span class="line">\N  非换行符，就是.</span><br><span class="line">\w  数字、字母、下划线中的任意一个字符</span><br><span class="line">\W  非数字、字母、下划线中的任意一个字符</span><br><span class="line">\s  一个空白字符（包括空格、制表符、换页符等）</span><br><span class="line">\t  一个制表符（<span class="title class_">Tab</span>键：四个空格）</span><br><span class="line">\b  匹配一个单词的边界</span><br><span class="line"></span><br><span class="line">x|y  x或者y中的一个字符</span><br><span class="line">[xyz]  x或者y或者z中的一个字符</span><br><span class="line">[^xy]  除了x/y以外的字符</span><br><span class="line">[a-z]  指定a-z这个范围内中的任意字符，[<span class="number">0</span>-9a-zA-<span class="variable constant_">Z_</span>] === \w</span><br><span class="line">[^a-z]  上一个的取反</span><br><span class="line">()    正则中的分组符号</span><br><span class="line">(?:)  只匹配不捕获</span><br><span class="line">(?=)  正向预查</span><br><span class="line">(?!)  负向预查</span><br></pre></td></tr></table></figure>

<p><strong>普通元字符</strong>，代表本身含义</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/mindcons/  此正则匹配的就是mindcons</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>修饰符</p>
<ul>
<li><p>常用的修饰符：<code>img</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">i =&gt; ignoreCase  忽略单词大小写匹配</span><br><span class="line">m =&gt; multiline   可以进行多行匹配</span><br><span class="line">g =&gt; <span class="variable language_">global</span>      全局匹配</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/A/.<span class="title function_">test</span>(<span class="string">&#x27;lalala&#x27;</span>); <span class="comment">// false</span></span><br><span class="line"><span class="regexp">/A/i</span>.<span class="title function_">test</span>(<span class="string">&#x27;lalala&#x27;</span>); <span class="comment">//true</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p>只要掌握上面两个东西，就掌握正则了</p>
<h3 id="元字符剖析"><a href="#元字符剖析" class="headerlink" title="元字符剖析"></a>元字符剖析</h3><h4 id="开始和结尾"><a href="#开始和结尾" class="headerlink" title="^ $ 开始和结尾"></a><code>^ $</code> 开始和结尾</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^\d/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;mindcons&#x27;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;mindcons2023&#x27;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;2023mindcons&#x27;</span>)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> reg1 = <span class="regexp">/\d$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&#x27;mindcons&#x27;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&#x27;mindcons2023&#x27;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&#x27;2023mindcons&#x27;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 两个都不加，字符串中包含符合规则的内容即可</span></span><br><span class="line"><span class="keyword">let</span> reg2 = <span class="regexp">/\d+/</span>;</span><br><span class="line"><span class="comment">// 两个都加，字符串只能是和规则一致的内容（如下：只能是数字）</span></span><br><span class="line"><span class="keyword">let</span> reg3 = <span class="regexp">/^\d+$/</span>;</span><br><span class="line"><span class="comment">// 验证手机号（11位，第一个数字是1）</span></span><br><span class="line"><span class="keyword">let</span> reg4 = <span class="regexp">/^1\d&#123;10&#125;$/</span>;</span><br></pre></td></tr></table></figure>

<h4 id="转义"><a href="#转义" class="headerlink" title="\ 转义"></a><code>\</code> 转义</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .不是小数点，是除了\n外的任意字符</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^2.3$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;2.3&#x27;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;2@3&#x27;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;23&#x27;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 基于转义字符，让其只能代表小数点</span></span><br><span class="line"><span class="keyword">let</span> reg1 = <span class="regexp">/^2\.3$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&#x27;2.3&#x27;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&#x27;2@3&#x27;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;\\d&quot;</span>; <span class="comment">// 字符串中一个\也有特殊含义</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str); <span class="comment">// \d</span></span><br><span class="line"><span class="keyword">let</span> reg2 = <span class="regexp">/^\d$/</span>; <span class="comment">// \d代表0-9之间的任意数字</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(str)); <span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> reg3 = <span class="regexp">/^\\d$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg3.<span class="title function_">test</span>(str)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="x-y-或"><a href="#x-y-或" class="headerlink" title="x|y 或"></a><code>x|y</code> 或</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^18|29$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;18&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;29&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;129&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;189&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;1829&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;829&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;182&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 直接x|y会有很多情况，一般会伴随着小括号，进行分组，因为小括号能改变处理的优先级</span></span><br><span class="line"><span class="comment">// 只能是18或29中的一个了</span></span><br><span class="line"><span class="keyword">let</span> reg1 = <span class="regexp">/^(18|29)$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&quot;18&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&quot;29&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&quot;129&quot;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id=""><a href="#" class="headerlink" title="[]"></a><code>[]</code></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.中括号中出现的字符，一般都代表本身的含义</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^[@+]$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;@&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;+&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;@@&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;@+&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.\d在中括号中还是0-9</span></span><br><span class="line"><span class="keyword">let</span> reg1 = <span class="regexp">/^[\d]$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&quot;d&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&quot;\\&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(<span class="string">&quot;9&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> reg2 = <span class="regexp">/^[\\d]$/</span>; <span class="comment">// 转义</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(<span class="string">&quot;d&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(<span class="string">&quot;\\&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(<span class="string">&quot;9&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.中括号中不存在多位数</span></span><br><span class="line"><span class="keyword">let</span> reg3 = <span class="regexp">/^[18]$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(<span class="string">&quot;1&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(<span class="string">&quot;8&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(<span class="string">&quot;18&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> reg4 = <span class="regexp">/^[10-29]$/</span>; <span class="comment">// 不是10-29，代表1或者0-2或者9</span></span><br><span class="line"><span class="keyword">let</span> reg5 = <span class="regexp">/^[(10-29)]$/</span>; <span class="comment">// 括号在[]中没有分组的含义</span></span><br><span class="line"><span class="keyword">let</span> reg5 = <span class="regexp">/^[\(10-29\)]$/</span>; <span class="comment">// \在[]中转义(还是(自身))</span></span><br></pre></td></tr></table></figure>

<h4 id="元字符及其含义完整列表"><a href="#元字符及其含义完整列表" class="headerlink" title="元字符及其含义完整列表"></a>元字符及其含义完整列表</h4><p>自查</p>
<h3 id="常用正则表达式"><a href="#常用正则表达式" class="headerlink" title="常用正则表达式"></a>常用正则表达式</h3><h4 id="验证是否为有效数字"><a href="#验证是否为有效数字" class="headerlink" title="验证是否为有效数字"></a>验证是否为有效数字</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 0</span></span><br><span class="line"><span class="comment"> * 1</span></span><br><span class="line"><span class="comment"> * 12</span></span><br><span class="line"><span class="comment"> * 12.5</span></span><br><span class="line"><span class="comment"> * 12.0</span></span><br><span class="line"><span class="comment"> * -1</span></span><br><span class="line"><span class="comment"> * -12.5</span></span><br><span class="line"><span class="comment"> * 09</span></span><br><span class="line"><span class="comment"> * +9</span></span><br><span class="line"><span class="comment"> * 规则分析</span></span><br><span class="line"><span class="comment"> * 1.可能出现 + - 号，也可能不出现</span></span><br><span class="line"><span class="comment"> * 2.一位0-9都可以，多位首位不能为0</span></span><br><span class="line"><span class="comment"> * 3.小数部分，可能有可能没有，一旦有，后面必须有小数点+数字</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 书写技巧：按位写</span></span><br><span class="line"><span class="comment"> * 1.(+|-)?   [+-]?</span></span><br><span class="line"><span class="comment"> * 2.(\d|([1-9]\d+))</span></span><br><span class="line"><span class="comment"> * 3.(\.\d+)?</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^(+|-)?(\d|([1-9]\d+))(\.\d+)?$/</span>;</span><br></pre></td></tr></table></figure>

<h4 id="验证密码"><a href="#验证密码" class="headerlink" title="验证密码"></a>验证密码</h4><p>数字、字母或下划线，6-16位</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> val = userPassInp.<span class="property">value</span>,</span><br><span class="line">    reg = <span class="regexp">/\w&#123;6,16&#125;/</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> flag = reg.<span class="title function_">test</span>(val);</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<h4 id="验证真实姓名"><a href="#验证真实姓名" class="headerlink" title="验证真实姓名"></a>验证真实姓名</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1.汉字</span></span><br><span class="line"><span class="comment"> * 第一个字符到最后一个字符的Unicode编码  * /^[\u4E00-\u9FA5]$/</span></span><br><span class="line"><span class="comment"> * 2.名字长度2-10位</span></span><br><span class="line"><span class="comment"> * 3.可能有译名 ·汉字</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^[\u4E00-\u9FA5]&#123;2,10&#125;(·[\u4E00-\u9FA5]&#123;2,10&#125;)&#123;0,2&#125;$/</span>;</span><br></pre></td></tr></table></figure>

<h4 id="验证邮箱"><a href="#验证邮箱" class="headerlink" title="验证邮箱"></a>验证邮箱</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 逆向分析</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/</span>;</span><br><span class="line"><span class="comment">// mindcons@foxmail.com</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// \w+((-\w+)|(\.\w+))*</span></span><br><span class="line"><span class="comment">// 开头是数字、字母、下划线（一到多位）</span></span><br><span class="line"><span class="comment">// 还可以是 -数字字母下划线  或者 .数字字母下划线（整体0到多位）</span></span><br><span class="line"><span class="comment">// =&gt; 邮箱的名字由“数字、字母、下划线、-、.”几部分组成，但是- / .不能连续出现也不能作为开始</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// [A-Za-z0-9]+</span></span><br><span class="line"><span class="comment">// @后面紧跟：数字字母（一到多位）foxmail</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ((\.|-)[A-Za-z0-9]+)*</span></span><br><span class="line"><span class="comment">// xxx.com.cn  对多域名邮箱的匹配.com</span></span><br><span class="line"><span class="comment">// sai@google-mail-office.com  对企业域名的匹配</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// \.[A-Za-z0-9]+</span></span><br><span class="line"><span class="comment">// xxx.com  xxx.cn 匹配的是最后的域名</span></span><br></pre></td></tr></table></figure>

<h4 id="验证身份证号码"><a href="#验证身份证号码" class="headerlink" title="验证身份证号码"></a>验证身份证号码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 二代身份证18位、最后一位可能是X</span></span><br><span class="line"><span class="comment">// let reg = /^\d&#123;17&#125;(\d|X)$/; // 一般不这么写，因为里面还有很多特殊的意义</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 前六位：省市县 130828 0开头北京、3开头江苏</span></span><br><span class="line"><span class="comment">// 中间八位：年月日</span></span><br><span class="line"><span class="comment">// 最后四位：</span></span><br><span class="line"><span class="comment">//   最后一位：X或数字</span></span><br><span class="line"><span class="comment">//   倒数第二位：偶数 女、奇数 男</span></span><br><span class="line"><span class="comment">//   其余是依托已有数字，经过算法算出来的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 小括号的第二个作用：分组捕获，不仅可以把大正则匹配到的信息捕获到，还可以单独捕获到每个小分组的内容</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^(\d&#123;6&#125;)(\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)\d&#123;2&#125;(\d)(\d|X)$/</span>;</span><br><span class="line">res = reg.<span class="title function_">exec</span>(<span class="string">&quot;130828199012040617&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line"><span class="comment">// 捕获结果是一个数组，包含每个小分组单独获取的内容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [</span></span><br><span class="line"><span class="comment">  &#x27;130828199012040617&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;130828&#x27;, // 省市县</span></span><br><span class="line"><span class="comment">  &#x27;1990&#x27;, // 年</span></span><br><span class="line"><span class="comment">  &#x27;12&#x27;, // 月</span></span><br><span class="line"><span class="comment">  &#x27;04&#x27;, // 日</span></span><br><span class="line"><span class="comment">  &#x27;1&#x27;, // 性别</span></span><br><span class="line"><span class="comment">  &#x27;7&#x27;, </span></span><br><span class="line"><span class="comment">  index: 0,</span></span><br><span class="line"><span class="comment">  input: &#x27;130828199012040617&#x27;,</span></span><br><span class="line"><span class="comment">  groups: undefined</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="两种创建正则方式的区别"><a href="#两种创建正则方式的区别" class="headerlink" title="两种创建正则方式的区别"></a>两种创建正则方式的区别</h3><p>构造函数中传递的是字符串，需要转义<code>\</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/\d+/g</span>;</span><br><span class="line"></span><br><span class="line">reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;\\d+&quot;</span>, <span class="string">&quot;g&quot;</span>) <span class="comment">// 构造函数创建，传递两个字符串参数：元字符 修饰符</span></span><br></pre></td></tr></table></figure>

<p>正则表达式中的部分内容，是变量存储的值（变量存的值是正则的一部分）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> type = <span class="string">&quot;sai&quot;</span>;</span><br><span class="line">reg = <span class="regexp">/^@&quot;+type+&quot;@$/</span>; <span class="comment">// 这种方式不行，/之间代表的都是元字符</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;@sai@&quot;</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&#x27;@&quot;&quot;&quot;typeeeee&quot;@&#x27;</span>)) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果正则中，要包含某个变量的值，则不能使用字面量的形式创建</span></span><br><span class="line"><span class="comment">// 使用构造函数拼接，因为参数是字符串</span></span><br><span class="line">reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;^@&quot;</span>+type+<span class="string">&quot;@$&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;@sai@&quot;</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="正则捕获"><a href="#正则捕获" class="headerlink" title="正则捕获"></a>正则捕获</h3><h4 id="实现正则捕获的方法"><a href="#实现正则捕获的方法" class="headerlink" title="实现正则捕获的方法"></a>实现正则捕获的方法</h4><ul>
<li>正则<code>RegExp.prototype</code>上的方法<ul>
<li><code>exec</code></li>
<li><code>test</code></li>
</ul>
</li>
<li>字符串<code>String.prototype</code>上的方法<ul>
<li><code>replace</code></li>
<li><code>match</code></li>
<li><code>splite</code></li>
<li>…</li>
</ul>
</li>
</ul>
<h4 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h4><p>当前正则要和字符串匹配，如果不匹配，结果是null</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;sai2019mind2020cons2021&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^\d+$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实现正则捕获的前提：当前正则要和字符串匹配，如果不匹配，结果是null</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(str)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">exec</span>(str)) <span class="comment">// null</span></span><br></pre></td></tr></table></figure>

<h4 id="exec捕获结果"><a href="#exec捕获结果" class="headerlink" title="exec捕获结果"></a><code>exec</code>捕获结果</h4><p>1.捕获的结果是<code>null</code>或者一个数组</p>
<p>第一项：本次捕获到的内容</p>
<p>其余项：对应小分组本次单独捕获的内容</p>
<p><code>index</code>：当前捕获内容在字符串中的起始索引</p>
<p><code>input</code>：原始字符串</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;sai2019mind2020cons2021&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 捕获所有数字</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/\d+/</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">exec</span>(str)) </span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  &#x27;<span class="number">2019</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">  index<span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">  input<span class="punctuation">:</span> &#x27;sai2019mind2020cons2021&#x27;<span class="punctuation">,</span></span><br><span class="line">  groups<span class="punctuation">:</span> undefined</span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<p>2.每执行一次<code>exec</code>，只能捕获到一个符合正则规则的。但是默认情况下，无论执行多少次，获取的结果永远是匹配到的第一个，其余的获取不到</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;sai2019mind2020cons2021&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 捕获所有数字</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/\d+/</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">exec</span>(str)) ;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">exec</span>(str)) ;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">exec</span>(str)) ; <span class="comment">// 结果都是一样的</span></span><br></pre></td></tr></table></figure>

<p>上述特点称为：正则捕获的懒惰性</p>
<p>原因：下一小节</p>
<h4 id="exec捕获原理（懒惰性）"><a href="#exec捕获原理（懒惰性）" class="headerlink" title="exec捕获原理（懒惰性）"></a><code>exec</code>捕获原理（懒惰性）</h4><p><code>lastIndex</code>：</p>
<p>当前正则下一次匹配的起始索引位置，默认为0，表示匹配捕获是从索引为零的位置开始找</p>
<p>第一次匹配完成，<code>lastIndex</code>没有改变，所以下一次<code>exec</code>依然是从字符串最开始找，找到的永远是第一个匹配到的</p>
<p><code>exec</code>捕获懒惰性的原因：默认情况下<code>lastIndex</code>的值不会修改（其他的捕获方法也是一样的），这是正则捕获本身的机制</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;sai2019mind2020cons2021&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/\d+/</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="property">lastIndex</span>) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<p>直接手动修改是不行的<code>reg.lastIndex = 7</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;sai2019mind2020cons2021&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/\d+/g</span>; <span class="comment">// 加一个g的修饰符，正则处理机制内容会自己修改lastIndex</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="property">lastIndex</span>); <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">exec</span>(str)); <span class="comment">// [&quot;2019&quot;...]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="property">lastIndex</span>); <span class="comment">// 7</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">exec</span>(str)); <span class="comment">// [&quot;2020&quot;...]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="property">lastIndex</span>); <span class="comment">// 15</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">exec</span>(str)); <span class="comment">// [&quot;2021&quot;...]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="property">lastIndex</span>); <span class="comment">// 23</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">exec</span>(str)); <span class="comment">// null // 当全部捕获后，再次捕获的结果是null，lastIndex值回归到0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="property">lastIndex</span>); <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">exec</span>(str)); <span class="comment">// [&quot;2019&quot;...] </span></span><br></pre></td></tr></table></figure>

<p>写法注意：</p>
<p>条件判断中的<code>test</code>，会先改了一次<code>lastIndex</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;sai2019mind2020cons2021&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> reg =<span class="regexp">/\d+/g</span>;</span><br><span class="line"><span class="keyword">if</span>(reg.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="property">lastIndex</span>); <span class="comment">// 7</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">exec</span>(str)); <span class="comment">// [&quot;2020&quot;...]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>解决办法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 单独拿一份</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;sai2019mind2020cons2021&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> reg =<span class="regexp">/\d+/g</span>;</span><br><span class="line"><span class="keyword">let</span> reg_cond =<span class="regexp">/\d+/g</span>;</span><br><span class="line"><span class="keyword">if</span>(reg_cond.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="property">lastIndex</span>); <span class="comment">// 0</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">exec</span>(str)); <span class="comment">// [&quot;2019&quot;...]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="exec方法封装"><a href="#exec方法封装" class="headerlink" title="exec方法封装"></a><code>exec</code>方法封装</h4><p>编写一个方法<code>execAll</code>，执行一次捕获所有的匹配结果</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">~<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">execAll</span>(<span class="params">str = <span class="string">&quot;&quot;</span></span>) &#123;</span><br><span class="line">    <span class="comment">// 确保正则是加了g</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="variable language_">this</span>.<span class="property">global</span>) <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">exec</span>(str); <span class="comment">// 没有加g，只捕获一次</span></span><br><span class="line">    <span class="comment">// this: RegExp的实例</span></span><br><span class="line">    <span class="keyword">let</span> arr = [], <span class="comment">// arr存储捕获的所有内容</span></span><br><span class="line">      res = <span class="variable language_">this</span>.<span class="title function_">exec</span>(str); <span class="comment">// res存储每次捕获的内容</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (res) &#123;</span><br><span class="line">      <span class="comment">// 把每次捕获的内容存在arr中</span></span><br><span class="line">      arr.<span class="title function_">push</span>(res[<span class="number">0</span>]);</span><br><span class="line">      <span class="comment">// 只要捕获的内容不为null，就继续捕获下去</span></span><br><span class="line">      res = <span class="variable language_">this</span>.<span class="title function_">exec</span>(str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr.<span class="property">length</span> === <span class="number">0</span> ? <span class="literal">null</span> : arr;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title class_">RegExp</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">execAll</span> = execAll;</span><br><span class="line">&#125;()</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/\d+/g</span>; <span class="comment">// 浏览器控制台打印一下reg，如果加了g，则global属性为true</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;sai2019mind2020cons2021&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">execAll</span>(str)) <span class="comment">// [ &#x27;2019&#x27;, &#x27;2020&#x27;, &#x27;2021&#x27; ]</span></span><br></pre></td></tr></table></figure>

<p>字符串方法中，<code>match</code>方法可以实现执行一次捕获所有匹配结果（效果同上，如果不加<code>g</code>，只返回一个捕获结果，若没有匹配到，则返回<code>null</code>）</p>
<p>上述方法其实就是<code>mathc</code>的原理</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/\d+/g</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;sai2019mind2020cons2021&quot;</span>.<span class="title function_">match</span>(reg)) <span class="comment">// [ &#x27;2019&#x27;, &#x27;2020&#x27;, &#x27;2021&#x27; ]</span></span><br></pre></td></tr></table></figure>

<h4 id="分组捕获和分组引用"><a href="#分组捕获和分组引用" class="headerlink" title="分组捕获和分组引用"></a>分组捕获和分组引用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^(\d&#123;6&#125;)(\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)\d&#123;2&#125;(\d)(\d|X)$/</span>;</span><br><span class="line">res = reg.<span class="title function_">exec</span>(<span class="string">&quot;130828199012040617&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line"><span class="comment">// 捕获结果是一个数组，包含每个小分组单独获取的内容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [</span></span><br><span class="line"><span class="comment">  &#x27;130828199012040617&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;130828&#x27;, // 省市县</span></span><br><span class="line"><span class="comment">  &#x27;1990&#x27;, // 年</span></span><br><span class="line"><span class="comment">  &#x27;12&#x27;, // 月</span></span><br><span class="line"><span class="comment">  &#x27;04&#x27;, // 日</span></span><br><span class="line"><span class="comment">  &#x27;1&#x27;, // 性别</span></span><br><span class="line"><span class="comment">  &#x27;7&#x27;, </span></span><br><span class="line"><span class="comment">  index: 0,</span></span><br><span class="line"><span class="comment">  input: &#x27;130828199012040617&#x27;,</span></span><br><span class="line"><span class="comment">  groups: undefined</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>







<h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><h1 id="ES6"><a href="#ES6" class="headerlink" title="ES6+"></a>ES6+</h1><p><a target="_blank" rel="noopener" href="https://github.com/lukehoban/es6features">GitHub - lukehoban&#x2F;es6features: Overview of ECMAScript 6 features</a></p>
<p>教程来源：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1uK411H7on">https://www.bilibili.com/video/BV1uK411H7on</a></p>
<h2 id="变量及作用域"><a href="#变量及作用域" class="headerlink" title="变量及作用域"></a>变量及作用域</h2><h3 id="let变量声明及其作用域"><a href="#let变量声明及其作用域" class="headerlink" title="let变量声明及其作用域"></a>let变量声明及其作用域</h3><p>1.变量不能重复声明</p>
<p>2.块级作用域 全局，函数，eval</p>
<p>3.不存在变量提升</p>
<p>4.不影响作用域链</p>
<p><strong>let实践练习</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.item</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: solid <span class="number">1px</span> <span class="number">#0077AA</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;page-header&quot;</span>&gt;</span>点击切换颜色<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//获取item对象</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">let</span> items = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;item&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//遍历并绑定事件</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;items.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            items[i].<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                items[i].<span class="property">style</span>.<span class="property">background</span> = <span class="string">&#x27;pink&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="const常量声明"><a href="#const常量声明" class="headerlink" title="const常量声明"></a>const常量声明</h3><p>1.一定要赋初始值</p>
<p>2.一般常量使用大写（潜规则）</p>
<p>3.常量的值不能修改</p>
<p>4.块级作用域</p>
<p>5.对于数组和对象的元素的修改，不算做对常量的修改，不会报错</p>
<h2 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h2><p><code>ES6</code>允许按照一定的模式从数组或对象中提取值，对变量进行赋值，这被称为解构赋值</p>
<h3 id="数组的解构"><a href="#数组的解构" class="headerlink" title="数组的解构"></a>数组的解构</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">F4</span> = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>];</span><br><span class="line"><span class="keyword">let</span> [a1,a2,a3,a4] = <span class="variable constant_">F4</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a1,a2,a3,a4) <span class="comment">// a b c d</span></span><br></pre></td></tr></table></figure>

<h3 id="对象的解构"><a href="#对象的解构" class="headerlink" title="对象的解构"></a>对象的解构</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对象的解构</span></span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    name : <span class="string">&#x27;小明&#x27;</span>,</span><br><span class="line">    age : <span class="number">10</span>,</span><br><span class="line">    run : <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;我可以跑步&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> &#123;name,age,run&#125; = person;</span><br><span class="line"><span class="title function_">run</span>(); <span class="comment">// 我可以跑步</span></span><br></pre></td></tr></table></figure>

<h4 id="对象解构赋值的连续写法"><a href="#对象解构赋值的连续写法" class="headerlink" title="对象解构赋值的连续写法"></a>对象解构赋值的连续写法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: &#123;</span><br><span class="line">        <span class="attr">b</span>: &#123;</span><br><span class="line">            <span class="attr">c</span>: <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> $oute = &#123;</span><br><span class="line">    <span class="attr">query</span>: &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">0001</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123;a&#125; = obj</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;a&#x27;</span>, a) <span class="comment">// &#123;b: &#123;c: 1&#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123;<span class="attr">a</span>: &#123;b&#125;&#125; = obj</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;b&#x27;</span>, b) <span class="comment">// &#123;c: 1&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123;<span class="attr">a</span>: &#123;<span class="attr">b</span>: &#123;c&#125;&#125;&#125; = obj</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;c&#x27;</span>, c) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<p>连续结构赋值的同时，重命名属性值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;<span class="attr">a</span>: &#123;<span class="attr">b</span>: data&#125;&#125; = obj</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;data&#x27;</span>, data) <span class="comment">// &#123;c: 1&#125;</span></span><br></pre></td></tr></table></figure>

<p>通过连续结构赋值的写法，是无法获取到外层属性值的，比如此时a是无法获取到的：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;<span class="attr">a</span>: &#123;<span class="attr">b</span>: data&#125;&#125; = obj</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;a&#x27;</span>, a)</span><br></pre></td></tr></table></figure>



<h2 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h2><p><code>ES6</code>引入新的声明字符串的方式，类似于占位符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">` `, &#x27; &#x27;, &quot; &quot;</span><br></pre></td></tr></table></figure>

<p>1.声明</p>
<p>2.内容中可以直接出现换行符</p>
<p>3.变量拼接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// $&#123;&#125;</span><br><span class="line">let name = &#x27;xiaoming&#x27;</span><br><span class="line">let result = `$&#123;name&#125; is running`</span><br></pre></td></tr></table></figure>

<h2 id="对象的简化写法"><a href="#对象的简化写法" class="headerlink" title="对象的简化写法"></a>对象的简化写法</h2><p><code>ES6</code>允许在大括号里面，直接写入变量和函数，作为对象的属性和方法。这样的书写更加简洁。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;xiaoming&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> change = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;we can change you~&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> school = &#123;</span><br><span class="line">    name,</span><br><span class="line">    change,</span><br><span class="line">    <span class="title function_">improve</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;we can improve you~&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="箭头函数-1"><a href="#箭头函数-1" class="headerlink" title="箭头函数"></a>箭头函数</h2><h3 id="箭头函数以及声明特点"><a href="#箭头函数以及声明特点" class="headerlink" title="箭头函数以及声明特点"></a>箭头函数以及声明特点</h3><p><code>ES6</code>允许使用箭头<code>=&gt;</code>定义函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">fn</span> = (<span class="params">a,b</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> result = <span class="title function_">fn</span>(<span class="number">1</span>,<span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<p>1.<code>this</code>是静态的，<code>this</code>始终指向函数声明时所在作用域下的<code>this</code>的值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getName</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="title function_">getName2</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置window对象的name属性</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">name</span> = <span class="string">&#x27;小明&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;xiaoming&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//直接调用</span></span><br><span class="line"><span class="title function_">getName</span>();<span class="comment">//小明</span></span><br><span class="line"><span class="title function_">getName2</span>();<span class="comment">//小明</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//call方法调用</span></span><br><span class="line">getName.<span class="title function_">call</span>(person)<span class="comment">//xiaoming</span></span><br><span class="line">getName2.<span class="title function_">call</span>(person)<span class="comment">//小明  this始终指向函数声明时所在作用域下的this的值</span></span><br></pre></td></tr></table></figure>

<p>call方法补充</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    <span class="attr">fullName</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = &#123;</span><br><span class="line">    <span class="attr">firstName</span>:<span class="string">&quot;Bill&quot;</span>,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="string">&quot;Gates&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person2 = &#123;</span><br><span class="line">    <span class="attr">firstName</span>:<span class="string">&quot;Steve&quot;</span>,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="string">&quot;Jobs&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line">person.<span class="property">fullName</span>.<span class="title function_">call</span>(person1);  <span class="comment">// 将返回 &quot;Bill Gates&quot;</span></span><br></pre></td></tr></table></figure>

<p>2.不能作为构造函数实例化对象</p>
<p>3.不能使用<code>arguments</code>变量</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 没有arguments</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">argFunc</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>) <span class="comment">// 可以打印，但并没有值</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">argFunc</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<p>并没有获取到实参</p>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221212214757106.png" alt="image-20221212214757106"></p>
<p>4.箭头函数的简写</p>
<ul>
<li><p>参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>省略小括号，当形参有且只有一个的时候</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


</li>
<li><p>返回值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 省略花括号，当代码体只有一条语句的时候，此时return可以省略，而且语句的执行结果就是函数的返回值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 普通函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">n, m</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> n + m</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 改写成箭头函数</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">sumA</span> = (<span class="params">n, m</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> n + m</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果函数体中只有一行return，可以省略return和大括号，一行搞定</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">sumB</span> = (<span class="params">n, m</span>) =&gt; n + m</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数中返回函数（柯里化函数）</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">m</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n + m</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 柯里化函数改写成箭头函数</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">fn1</span> = (<span class="params">n</span>) =&gt; <span class="function">(<span class="params">m</span>) =&gt;</span> n + m</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="箭头函数的实践和应用场景"><a href="#箭头函数的实践和应用场景" class="headerlink" title="箭头函数的实践和应用场景"></a>箭头函数的实践和应用场景</h3><p><code>pass</code></p>
<h3 id="函数参数的默认值"><a href="#函数参数的默认值" class="headerlink" title="函数参数的默认值"></a>函数参数的默认值</h3><p><code>ES6</code>允许给函数参数赋值初始值</p>
<p>1.形参初始值 具有默认值的参数，一般要靠后（潜规则）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数形参默认值</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b, c = <span class="number">10</span></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b + c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> result = <span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">sum</span> = (<span class="params">n = <span class="number">0</span>, m = <span class="number">0</span></span>) =&gt; n + m</span><br></pre></td></tr></table></figure>

<p>2.与解构赋值相结合</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 与解构赋值相结合</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">connect</span>(<span class="params">&#123; host = <span class="string">&quot;127.0.0.1&quot;</span>, username, password, port &#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(host, username, password, port);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">connect</span>(&#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="attr">port</span>: <span class="number">3306</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="rest参数"><a href="#rest参数" class="headerlink" title="rest参数"></a><code>rest</code>参数</h3><p><code>ES6</code>引入<code>rest</code>参数（剩余运算符），用户获取函数的实参，用来代替arguments</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5获取实参的方式</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">date</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">date</span>(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>); <span class="comment">// Arguments(3) [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, callee: ƒ, Symbol(Symbol.iterator): ƒ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 箭头没有arguments（箭头函数的arguments始终是一个空类数组对象）</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">argFunc</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>) <span class="comment">// 可以打印，但并没有值</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">argFunc</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// rest参数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">date02</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(args); <span class="comment">// 结果是数组，可以使用数组的一些api，filer some every map等</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">date02</span>(<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>); <span class="comment">// [ &#x27;d&#x27;, &#x27;e&#x27;, &#x27;f&#x27; ]</span></span><br></pre></td></tr></table></figure>

<p><code>rest</code>参数必须要放到参数的最后</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// `rest`参数必须要放到参数的最后</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a, b, ...args</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, args)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>); <span class="comment">//1 2 [ 3, 4, 5 ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// args参数任意数求和</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">sumArgs</span> = (<span class="params">...args</span>) =&gt; <span class="built_in">eval</span>(args.<span class="title function_">join</span>(<span class="string">&#x27;+&#x27;</span>))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`sumArgs: <span class="subst">$&#123;sumArgs(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)&#125;</span>`</span>)</span><br></pre></td></tr></table></figure>

<h2 id="扩展运算符"><a href="#扩展运算符" class="headerlink" title="扩展运算符"></a>扩展运算符</h2><p><code>...</code></p>
<ul>
<li><code>扩展运算符能将</code>数组<code>转化为逗号分隔的</code>参数序列</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//声明一个数组</span></span><br><span class="line"><span class="keyword">const</span> boys = [<span class="string">&#x27;aa&#x27;</span>,<span class="string">&#x27;bb&#x27;</span>,<span class="string">&#x27;cc&#x27;</span>];</span><br><span class="line"><span class="comment">// =&gt; &#x27;aa&#x27;,&#x27;bb&#x27;,&#x27;cc&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//声明一个函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">chunwan</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">chunwan</span>(boys);<span class="comment">// Arguments [Array(3), callee: ƒ, Symbol(Symbol.iterator): ƒ]</span></span><br><span class="line"><span class="title function_">chunwan</span>(...boys);<span class="comment">//Arguments(3) [&quot;aa&quot;, &quot;bb&quot;, &quot;cc&quot;, callee: ƒ, Symbol(Symbol.iterator): ƒ]     chunwan(&#x27;aa&#x27;,&#x27;bb&#x27;,&#x27;cc);</span></span><br></pre></td></tr></table></figure>

<h3 id="扩展运算符的运用"><a href="#扩展运算符的运用" class="headerlink" title="扩展运算符的运用"></a>扩展运算符的运用</h3><p>1.数组的合并</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//普通的数组合并</span></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="string">&#x27;aa&#x27;</span>,<span class="string">&#x27;bb&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> array2 = [<span class="string">&#x27;cc&#x27;</span>,<span class="string">&#x27;dd&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> array3 = array1.<span class="title function_">concat</span>(array2);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array3);<span class="comment">// (4) [&quot;aa&quot;, &quot;bb&quot;, &quot;cc&quot;, &quot;dd&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> array4 = [...array1,...array2];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array4);<span class="comment">//(4) [&quot;aa&quot;, &quot;bb&quot;, &quot;cc&quot;, &quot;dd&quot;]</span></span><br></pre></td></tr></table></figure>

<p>2.数组的克隆</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> testa = [<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> testCopy = [...testa];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(testa,testCopy,testa === testCopy); <span class="comment">//(3) [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;] (3) [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;] false</span></span><br></pre></td></tr></table></figure>

<p>3.将伪数组转为真正的数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> divs = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(divs);/<span class="title function_">deList</span>(<span class="number">3</span>) [div, div, div]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> divArr = [...divs];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(divArr);<span class="comment">//(3) [div, div, div]</span></span><br></pre></td></tr></table></figure>

<h2 id="Symbol的介绍与-应用"><a href="#Symbol的介绍与-应用" class="headerlink" title="Symbol的介绍与 应用"></a>Symbol的介绍与 应用</h2><p>1.Symbol的值是唯一的，用来解决命名冲突的问题</p>
<p>2.Symbol值不能与其他数据进行运算</p>
<p>3.Symbol定义的对象属性不能使用for…in循环遍历，但是可以使用Reflect.ownKeys来获取对象的所键名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//创建Symbol</span><br><span class="line">let s = Symbol();</span><br><span class="line">console.log(s, typeof s); //Symbol() &quot;symbol&quot;</span><br><span class="line"></span><br><span class="line">let s2 = Symbol(&#x27;aa&#x27;);</span><br><span class="line">let s3 = Symbol(&#x27;aa&#x27;);</span><br><span class="line">console.log(s2,s3,s2 == s3);//Symbol(aa) Symbol(aa) false</span><br><span class="line"></span><br><span class="line">//Symbole.for创建</span><br><span class="line">let s4 = Symbol.for(&#x27;aa&#x27;);</span><br><span class="line">console.log(s4,typeof s4);//Symbol(aa) &quot;symbol&quot;</span><br><span class="line">let s5 = Symbol.for(&#x27;aa&#x27;);</span><br><span class="line">console.log(s4 == s5);// true</span><br><span class="line"></span><br><span class="line">//不能与其他数据进行运算</span><br><span class="line">let result = s + 100;//test.js:17 Uncaught TypeError: Cannot convert a Symbol value to a number</span><br></pre></td></tr></table></figure>

<p>JS数据类型记忆：USONB</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">U:undefined</span><br><span class="line">S:String Symbol</span><br><span class="line">O:object</span><br><span class="line">N:number null</span><br><span class="line">B:boolean</span><br></pre></td></tr></table></figure>

<h3 id="对象添加Symbol类型的属性¶"><a href="#对象添加Symbol类型的属性¶" class="headerlink" title="对象添加Symbol类型的属性¶"></a>对象添加Symbol类型的属性<a href="#symbol_1">¶</a></h3><p>添加方式一：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">//向对象添加方法 up down</span><br><span class="line">let game = &#123;</span><br><span class="line">    down:function () &#123;</span><br><span class="line">        console.log(&#x27;aa&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    up:function()&#123;</span><br><span class="line">        console.log(&#x27;cc&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    name : &#x27;bb&#x27;</span><br><span class="line">&#125;</span><br><span class="line">//不能直接给对象添加up或down，因为不确定game对象中是否已经存在相同值</span><br><span class="line">// game.up =function () &#123;</span><br><span class="line">//</span><br><span class="line">// &#125;</span><br><span class="line">//声明一个对象</span><br><span class="line">let methods = &#123;</span><br><span class="line">    up:Symbol(),</span><br><span class="line">    down:Symbol()</span><br><span class="line">&#125;;</span><br><span class="line">//给game扩展方法</span><br><span class="line">game[methods.up] = function () &#123;</span><br><span class="line">    console.log(&#x27;我可以改变形状&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">game[methods.down] = function () &#123;</span><br><span class="line">    console.log(&#x27;我可以快速下降&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">console.log(game)</span><br><span class="line">// &#123;</span><br><span class="line">//     down: [Function: down],</span><br><span class="line">//     up: [Function: up],</span><br><span class="line">//     name: &#x27;bb&#x27;,</span><br><span class="line">//     [Symbol()]: [Function],</span><br><span class="line">//     [Symbol()]: [Function]</span><br><span class="line">// &#125;</span><br></pre></td></tr></table></figure>

<p>添加方式二：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">let youxi = &#123;</span><br><span class="line">    name:&#x27;狼人杀&#x27;,</span><br><span class="line">    [Symbol(&#x27;say&#x27;)]:function () &#123;</span><br><span class="line">        console.log(&#x27;我可以发言&#x27;);</span><br><span class="line">    &#125;,</span><br><span class="line">    [Symbol(&#x27;zibao&#x27;)]:function () &#123;</span><br><span class="line">        console.log(&#x27;我可以自爆&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(youxi);</span><br><span class="line">//&#123;</span><br><span class="line">//   name: &#x27;狼人杀&#x27;,</span><br><span class="line">//   [Symbol(say)]: [Function: [say]],</span><br><span class="line">//   [Symbol(zibao)]: [Function: [zibao]]</span><br><span class="line">// &#125;</span><br></pre></td></tr></table></figure>

<h3 id="Symbol的内置属性¶"><a href="#Symbol的内置属性¶" class="headerlink" title="Symbol的内置属性¶"></a>Symbol的内置属性<a href="#symbol_2">¶</a></h3><p>除了定义自己使用的Symbol值意外，ES6还提供了11个内置的Symbol值，指向语言内部使用的方法 这些属性都是Symbol的属性，而Symbol又是对象的属性，都是用来控制，对象在<code>特定场景</code>下的表现</p>
<p>Symbol.hasInstance|当其他对象使用instanceof运算符，判断是否为该对象的实例时，会调用这个方法 Symbol.isConcatSpreadable|对象的Symbol.isConcatSpreadable属性等于的是一个布尔值，表示该对象用于Array.prototype.concat(),是否可以展开</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">//hasInstance</span><br><span class="line">class Person&#123;</span><br><span class="line">    static [Symbol.hasInstance](param)&#123;</span><br><span class="line">        console.log(param)//会把参数传递进来</span><br><span class="line">        console.log(&#x27;我被用来检测类型了&#x27;);</span><br><span class="line">        return true;//可以自定义返回值</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">let o =&#123;</span><br><span class="line">    name:&#x27;test&#x27;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(o instanceof Person);</span><br><span class="line">//&#123;name: &quot;test&quot;&#125;name: &quot;test&quot;__proto__: Object</span><br><span class="line">//test.js:4 我被用来检测类型了</span><br><span class="line">//test.js:11 true</span><br><span class="line">const arr = [1,2,3];</span><br><span class="line">const arr2 = [4,5,6];</span><br><span class="line"></span><br><span class="line">console.log(arr.concat(arr2));//(6) [1, 2, 3, 4, 5, 6]</span><br><span class="line"></span><br><span class="line">arr2[Symbol.isConcatSpreadable] = false;</span><br><span class="line">console.log(arr.concat(arr2));(4) [1, 2, 3, Array(3)]</span><br></pre></td></tr></table></figure>

<h3 id="迭代器介绍¶"><a href="#迭代器介绍¶" class="headerlink" title="迭代器介绍¶"></a>迭代器介绍<a href="#_9">¶</a></h3><p>迭代器是一种接口，为各种不同的数据结构提供统一的访问机制。任何数据结构只要部署Iterator接口，就可以完成遍历操作。 （Iterator接口本质就是对象的一个属性，就是Symbol.Iterator)</p>
<ol>
<li><p>ES6创造了一种新的遍历命令for…of循环，Iterator接口主要提供for…of消费</p>
</li>
<li><p>原生具有iterator接口的数据（可用for of遍历）</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">a) Array</span><br><span class="line"></span><br><span class="line">b) Arguments</span><br><span class="line"></span><br><span class="line">c) Set</span><br><span class="line"></span><br><span class="line">d) Map</span><br><span class="line"></span><br><span class="line">e) String</span><br><span class="line"></span><br><span class="line">f) TypedArray</span><br><span class="line"></span><br><span class="line">g) NodeList</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>工作原理</li>
</ol>
<p>a) 创建一个指针对象，指向当前数据结构的起始位置</p>
<p>b) 第一次调用对象的next方法，指针自动指向数据结构的第一个成员</p>
<p>c) 接下来不断调用next方法，指针一直往后移动，直到指向最后一个成员</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">（Iterator接口本质就是对象的一个属性，就是Symbol.Iterator)</span><br></pre></td></tr></table></figure>

<p><code>注意</code>需要自定义遍历数据的时候，要想到迭代器</p>
<h3 id="自定义迭代器¶"><a href="#自定义迭代器¶" class="headerlink" title="自定义迭代器¶"></a>自定义迭代器<a href="#_10">¶</a></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">const banji = &#123;</span><br><span class="line">    name:&quot;终极一班&quot;,</span><br><span class="line">    stus:[</span><br><span class="line">        &#x27;xiaoing&#x27;,</span><br><span class="line">        &#x27;xiaoning&#x27;,</span><br><span class="line">        &#x27;xiaotian&#x27;,</span><br><span class="line">        &#x27;knigth&#x27;</span><br><span class="line">    ],</span><br><span class="line">    [Symbol.iterator]()&#123;</span><br><span class="line">        //索引变量</span><br><span class="line">        let index = 0;</span><br><span class="line"></span><br><span class="line">        let _this = this;</span><br><span class="line">        return &#123;</span><br><span class="line">            next:function () &#123;</span><br><span class="line">                if(index &lt; _this.stus.length)&#123;</span><br><span class="line">                    const result = &#123;value:_this.stus[index],done:false&#125;;</span><br><span class="line">                    index++;</span><br><span class="line">                    return result;</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    return &#123;value: undefined,done: true&#125;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//遍历这个对象</span><br><span class="line">for(let v of banji)&#123;</span><br><span class="line">    console.log(v);</span><br><span class="line">&#125;</span><br><span class="line">// xiaoing</span><br><span class="line">// xiaoning</span><br><span class="line">// xiaotian</span><br><span class="line">// knigth</span><br></pre></td></tr></table></figure>

<h3 id="生成器函数声明与调用¶"><a href="#生成器函数声明与调用¶" class="headerlink" title="生成器函数声明与调用¶"></a>生成器函数声明与调用<a href="#_11">¶</a></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">//定义生成器函数</span><br><span class="line">function * gen() &#123;</span><br><span class="line">    // console.log(111);</span><br><span class="line">    yield &#x27;aaa&#x27;;</span><br><span class="line">    // console.log(222);</span><br><span class="line">    yield &#x27;bbb&#x27;;</span><br><span class="line">    // console.log(333);</span><br><span class="line">    yield &#x27;ccc&#x27;;</span><br><span class="line">    // console.log(444);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let iterator = gen();</span><br><span class="line">//生成器函数通过next()调用</span><br><span class="line">console.log(iterator.next());</span><br><span class="line">console.log(iterator.next());</span><br><span class="line">console.log(iterator.next());</span><br><span class="line">console.log(iterator.next());</span><br><span class="line"></span><br><span class="line">// &#123; value: &#x27;aaa&#x27;, done: false &#125;</span><br><span class="line">// &#123; value: &#x27;bbb&#x27;, done: false &#125;</span><br><span class="line">// &#123; value: &#x27;ccc&#x27;, done: false &#125;</span><br><span class="line">// &#123; value: undefined, done: true &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//遍历</span><br><span class="line">for(let v of gen())&#123;</span><br><span class="line">    console.log(v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="生成器函数的参数传递¶"><a href="#生成器函数的参数传递¶" class="headerlink" title="生成器函数的参数传递¶"></a>生成器函数的参数传递<a href="#_12">¶</a></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function * gen(arg) &#123;</span><br><span class="line">    console.log(arg);</span><br><span class="line">    let one = yield 111;</span><br><span class="line">    console.log(one);</span><br><span class="line">    let two = yield 222;</span><br><span class="line">    console.log(two);</span><br><span class="line">    let three = yield 333;</span><br><span class="line">    console.log(three);</span><br><span class="line">&#125;</span><br><span class="line">//执行获取迭代器对象</span><br><span class="line">let iterator = gen(&#x27;AAA&#x27;);</span><br><span class="line">console.log(iterator.next())</span><br><span class="line">//next()方法可以传入实参</span><br><span class="line">console.log(iterator.next(&#x27;BBB&#x27;));</span><br><span class="line">console.log(iterator.next(&#x27;CCC&#x27;));</span><br><span class="line">console.log(iterator.next(&#x27;DDD&#x27;));</span><br></pre></td></tr></table></figure>

<h3 id="生成器函数实例¶"><a href="#生成器函数实例¶" class="headerlink" title="生成器函数实例¶"></a>生成器函数实例<a href="#_13">¶</a></h3><p>常见的异步操作有：</p>
<p>异步编程 文件操作 网络操作（ajax,request） 数据库操作</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//1s后控制台输出111,2s后控制台输出222,3s后控制台输出333</span><br><span class="line">//回调地狱</span><br><span class="line">setTimeout(() =&gt;&#123;</span><br><span class="line">    console.log(111);</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        console.log(222);</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            console.log(333);</span><br><span class="line">        &#125;,3000)</span><br><span class="line">    &#125;,2000)</span><br><span class="line">&#125;,1000)</span><br></pre></td></tr></table></figure>

<p>使用生成器函数解决</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">// 异步编程  文件操作  网络操作（ajax,request）  数据库操作</span><br><span class="line"></span><br><span class="line">//1s后控制台输出111,2s后控制台输出222,3s后控制台输出333</span><br><span class="line">//回调地狱</span><br><span class="line">// setTimeout(() =&gt;&#123;</span><br><span class="line">//     console.log(111);</span><br><span class="line">//     setTimeout(() =&gt; &#123;</span><br><span class="line">//         console.log(222);</span><br><span class="line">//         setTimeout(() =&gt; &#123;</span><br><span class="line">//             console.log(333);</span><br><span class="line">//         &#125;,3000)</span><br><span class="line">//     &#125;,2000)</span><br><span class="line">// &#125;,1000)</span><br><span class="line"></span><br><span class="line">function one() &#123;</span><br><span class="line">    setTimeout(() =&gt;&#123;</span><br><span class="line">        console.log(111);</span><br><span class="line">        iterator.next();</span><br><span class="line">    &#125;,1000)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function two() &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        console.log(222);</span><br><span class="line">        iterator.next();</span><br><span class="line">    &#125;,2000)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function three() &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        console.log(333);</span><br><span class="line">        iterator.next();</span><br><span class="line">    &#125;,3000)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function * gen() &#123;</span><br><span class="line">    yield one();</span><br><span class="line">    yield two();</span><br><span class="line">    yield three();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//调用生成器函数</span><br><span class="line">let iterator = gen();</span><br><span class="line">iterator.next();</span><br></pre></td></tr></table></figure>

<h3 id="生成器函数实例2¶"><a href="#生成器函数实例2¶" class="headerlink" title="生成器函数实例2¶"></a>生成器函数实例2<a href="#2">¶</a></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">//模拟获取  用户数据  订单数据  商品数据</span><br><span class="line">function getUsers()&#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        let data = &#x27;用户数据&#x27;;</span><br><span class="line">        iterator.next(data);</span><br><span class="line">    &#125;,1000)</span><br><span class="line">&#125;</span><br><span class="line">function getOrders() &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        let data = &#x27;订单数据&#x27;;</span><br><span class="line">        iterator.next(data);</span><br><span class="line"></span><br><span class="line">    &#125;,1000)</span><br><span class="line">&#125;</span><br><span class="line">function getGoods() &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        let data = &#x27;商品数据&#x27;;</span><br><span class="line">        iterator.next(data);</span><br><span class="line">    &#125;,1000)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function * gen() &#123;</span><br><span class="line">    let users = yield getUsers();</span><br><span class="line">    console.log(users);</span><br><span class="line"></span><br><span class="line">    let orders = yield getOrders();</span><br><span class="line">    console.log(orders);</span><br><span class="line"></span><br><span class="line">    let goods = yield getGoods();</span><br><span class="line">    console.log(goods);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let iterator = gen();</span><br><span class="line">iterator.next();</span><br></pre></td></tr></table></figure>

<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><blockquote>
<p>手写Promise见《Promise》篇</p>
</blockquote>
<h3 id="Promise介绍与基本使用"><a href="#Promise介绍与基本使用" class="headerlink" title="Promise介绍与基本使用"></a>Promise介绍与基本使用</h3><p>Promise是ES6引入的异步编程的新解决方案。</p>
<p>语法上Promise是一个构造函数，用来封装异步操作并且可以获取其成功或者失败的结果</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//实例化Promise对象</span><br><span class="line">const p = new Promise(function (resolve,reject) &#123;</span><br><span class="line">    setTimeout(() =&gt;&#123;</span><br><span class="line">        // let data = &#x27;数据库中的用户数据&#x27;;</span><br><span class="line">        // resolve(data);</span><br><span class="line"></span><br><span class="line">        let err = &#x27;数据读取失败&#x27;;</span><br><span class="line">        reject(err);</span><br><span class="line">    &#125;,1000);</span><br><span class="line">&#125;)</span><br><span class="line">//调用Promise对象的then方法</span><br><span class="line">p.then(function (value) &#123;</span><br><span class="line">    console.log(value);</span><br><span class="line">&#125;,function (reason) &#123;</span><br><span class="line">    console.log(reason);//数据读取失败</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Promise封装读取文件"><a href="#Promise封装读取文件" class="headerlink" title="Promise封装读取文件"></a>Promise封装读取文件</h3><p>普通方法调用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//引入fs模块</span><br><span class="line">const fs = require(&#x27;fs&#x27;);</span><br><span class="line"></span><br><span class="line">//调用方法读取文件</span><br><span class="line">fs.readFile(&#x27;为学.md&#x27;,(err,data) =&gt; &#123;</span><br><span class="line">    if(err) throw err;</span><br><span class="line">    console.log(data.toString())</span><br><span class="line">&#125;);</span><br><span class="line">// 为学</span><br><span class="line">// 天下事有难易乎？</span><br><span class="line">// 为之，则难者亦易矣，</span><br><span class="line">// 不为，则易者亦难矣</span><br></pre></td></tr></table></figure>

<p>使用Promise封装调用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const p = new Promise(function (resolve,reject) &#123;</span><br><span class="line">    fs.readFile(&#x27;为学.mdaa&#x27;,(err,data) =&gt; &#123;</span><br><span class="line">        if(err) reject(err);</span><br><span class="line">        resolve(data);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">p.then(function (value) &#123;</span><br><span class="line">    console.log(value.toString());</span><br><span class="line">&#125;,function (reason) &#123;</span><br><span class="line">    console.log(&#x27;读取失败&#x27;);</span><br><span class="line">&#125;)</span><br><span class="line">//读取失败</span><br></pre></td></tr></table></figure>

<h3 id="使用Promise封装ajax请求"><a href="#使用Promise封装ajax请求" class="headerlink" title="使用Promise封装ajax请求"></a>使用Promise封装ajax请求</h3><p>需要放在html里面</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const p = new Promise(function (resolve,reject) &#123;</span><br><span class="line">        //1.创建对象</span><br><span class="line">        const xhr = new XMLHttpRequest();</span><br><span class="line">        //2.初始化</span><br><span class="line">        xhr.open(&#x27;GET&#x27;,&#x27;https://api.apiopen.top/getJoke&#x27;);</span><br><span class="line">        //3.发送</span><br><span class="line">        xhr.send();</span><br><span class="line">        //4.绑定事件，处理响应结果</span><br><span class="line">        xhr.onreadystatechange = function () &#123;</span><br><span class="line">            //判断</span><br><span class="line">            if(xhr.readyState === 4)&#123;</span><br><span class="line">                //判断响应状态码 200 ~ 299</span><br><span class="line">                if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300)&#123;</span><br><span class="line">                    //表示成功</span><br><span class="line">                    resolve(xhr.response);</span><br><span class="line">                &#125;else &#123;</span><br><span class="line">                    //如果失败</span><br><span class="line">                    reject(xhr.status);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    p.then(function (value) &#123;</span><br><span class="line">        console.log(value);</span><br><span class="line">    &#125;,function (reason) &#123;</span><br><span class="line">        console.error(reason);</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Promise-prototype-then方法"><a href="#Promise-prototype-then方法" class="headerlink" title="Promise.prototype.then方法"></a>Promise.prototype.then方法</h3><p>then方法的返回值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">//创建Proise对象</span><br><span class="line">const p = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        resolve(&#x27;用户数据&#x27;)</span><br><span class="line">        // reject(&#x27;出错啦&#x27;);</span><br><span class="line">    &#125;,1000);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//调用then方法 then方法  then方法的返回结果是Promise对象，对象状态是由回调函数的执行结果决定的</span><br><span class="line">//1.如果回调函数中，返回的结果是非Promise类型的属性，状态为成功，返回值为对象的成功的值（undefined）</span><br><span class="line">const result = p.then((value)=&gt; &#123;</span><br><span class="line">    console.log(value);</span><br><span class="line">    //1.非promise类型的属性</span><br><span class="line">    // return &#x27;iloveyou&#x27;;</span><br><span class="line">    //2.是Promise对象</span><br><span class="line">    // return new Promise((resolve,reject) =&gt; &#123;</span><br><span class="line">    //     // resolve(&#x27;ok&#x27;);</span><br><span class="line">    //     reject(&#x27;error&#x27;);</span><br><span class="line">    // &#125;);</span><br><span class="line">    //3.抛出错误</span><br><span class="line">    // throw &#x27;出错啦&#x27;;</span><br><span class="line">&#125;,(reason)=&gt;&#123;</span><br><span class="line">    console.warn(reason);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(result)</span><br></pre></td></tr></table></figure>

<p>链式调用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">p.then(value =&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;).then(value =&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Promise实践练习"><a href="#Promise实践练习" class="headerlink" title="Promise实践练习"></a>Promise实践练习</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">//引入fs模块</span><br><span class="line">const fs = require(&#x27;fs&#x27;);</span><br><span class="line"></span><br><span class="line">fs.readFile(&#x27;为学.md&#x27;,(err,data1 )=&gt; &#123;</span><br><span class="line">    fs.readFile(&#x27;插秧诗.md&#x27;,(err,data2) =&gt; &#123;</span><br><span class="line">        fs.readFile(&#x27;观书有感.md&#x27;,(err,data3) =&gt; &#123;</span><br><span class="line">            let result = data1 + &#x27;\r\n&#x27; + data2 + &#x27;\r\n&#x27; + data3 + &#x27;\r\n&#x27;;</span><br><span class="line">            // console.log(result);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//使用Promise实现</span><br><span class="line">const p = new Promise((resolve,reject) =&gt; &#123;</span><br><span class="line">    fs.readFile(&#x27;为学.md&#x27;,(err,data) =&gt; &#123;</span><br><span class="line">        resolve(data);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">p.then(value =&gt; &#123;</span><br><span class="line">    // console.log(value.toString())</span><br><span class="line">    return new Promise((resolve,reject) =&gt; &#123;</span><br><span class="line">        fs.readFile(&#x27;插秧诗.md&#x27;,(err,data) =&gt; &#123;</span><br><span class="line">            resolve([value,data]);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).then(value =&gt; &#123;</span><br><span class="line">    return new Promise((resolve,reject) =&gt; &#123;</span><br><span class="line">        fs.readFile(&#x27;观书有感.md&#x27;,(err,data) =&gt; &#123;</span><br><span class="line">            //压入</span><br><span class="line">            value.push(data);</span><br><span class="line">            resolve(value.join(&#x27;\r\n&#x27;));</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).then(value =&gt; &#123;</span><br><span class="line">    console.log(value);</span><br><span class="line">&#125;)</span><br><span class="line">/*</span><br><span class="line">为学</span><br><span class="line">天下事有难易乎？</span><br><span class="line">为之，则难者亦易矣，</span><br><span class="line">不为，则易者亦难矣</span><br><span class="line">插秧诗</span><br><span class="line">手把青秧插满田，低头便见水中天。</span><br><span class="line">六清净方为道，退步原来是向前。</span><br><span class="line">观书有感二首</span><br><span class="line">其一</span><br><span class="line">半亩方塘一鉴开，天光云影共徘徊。</span><br><span class="line">问渠那得清如许？为有源头活水来。</span><br><span class="line">其二</span><br><span class="line">昨夜江边春水生，艨艟巨舰一毛轻。</span><br><span class="line">向来枉费推移力，此日中流自在行。*/</span><br></pre></td></tr></table></figure>

<h3 id="Promise对象catch方法"><a href="#Promise对象catch方法" class="headerlink" title="Promise对象catch方法"></a>Promise对象catch方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">const p = new Promise((resolve,reject) =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        //设置p对象的状态为失败</span><br><span class="line">        reject(&#x27;出错啦&#x27;);</span><br><span class="line">    &#125;,1000);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">//p.then((value) =&gt; &#123;</span><br><span class="line">//</span><br><span class="line">//&#125;,(reason) =&gt; &#123;</span><br><span class="line">//    console.error(reason);</span><br><span class="line">//&#125;);</span><br><span class="line"></span><br><span class="line">//相当于是一种语法糖</span><br><span class="line">p.catch((reason) =&gt; &#123;</span><br><span class="line">    console.warn(reason)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h2 id="await"><a href="#await" class="headerlink" title="await"></a>await</h2><h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><h3 id="集合介绍与API¶"><a href="#集合介绍与API¶" class="headerlink" title="集合介绍与API¶"></a>集合介绍与API<a href="#api">¶</a></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">//声明一个集合</span><br><span class="line">let s = new Set();</span><br><span class="line">console.log(s);//Set &#123;&#125;</span><br><span class="line"></span><br><span class="line">let s1 = new Set([&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;b&#x27;,&#x27;d&#x27;,&#x27;e&#x27;,&#x27;a&#x27;]);</span><br><span class="line">console.log(s1);//Set &#123;&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;&#125;</span><br><span class="line"></span><br><span class="line">//元素个数</span><br><span class="line">console.log(s1.size);//5</span><br><span class="line"></span><br><span class="line">//添加新元素</span><br><span class="line">s1.add(&#x27;f&#x27;);</span><br><span class="line">console.log(s1);</span><br><span class="line"></span><br><span class="line">//删除元素</span><br><span class="line">s1.delete(&#x27;a&#x27;);</span><br><span class="line">console.log(s1);//Set &#123;&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;&#125;</span><br><span class="line"></span><br><span class="line">//检测</span><br><span class="line">console.log(s1.has(&#x27;a&#x27;));//false</span><br><span class="line">console.log(s1.has(&#x27;b&#x27;));//true</span><br><span class="line"></span><br><span class="line">//循环遍历集合元素</span><br><span class="line">for(let v of s1)&#123;</span><br><span class="line">    console.log(v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="集合实践¶"><a href="#集合实践¶" class="headerlink" title="集合实践¶"></a>集合实践<a href="#_14">¶</a></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">let arr1 = [1,2,3,4,5,4,3,2,1];</span><br><span class="line"></span><br><span class="line">//1.数组去重</span><br><span class="line">//let result = [...new Set(arr)];</span><br><span class="line">//console.log(result);//[1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">//2.交集</span><br><span class="line">let arr2 = [4,5,6,5,6];</span><br><span class="line">//let result2 = [...new Set(arr)].filter(item =&gt; &#123;</span><br><span class="line">//    let s2 = new Set(arr2);//4 5 6</span><br><span class="line">//    if(s2.has(item))&#123;</span><br><span class="line">//        return true;//如果为真，表示既在数组一，也在数组二；</span><br><span class="line">//    &#125;else&#123;</span><br><span class="line">//        return false;</span><br><span class="line">//    &#125;</span><br><span class="line">//&#125;);</span><br><span class="line"></span><br><span class="line">//简写</span><br><span class="line">//let result2 = [...new Set(arr)].filter(item =&gt; new Set(arr2).has(item));</span><br><span class="line">//console.log(result2)//4 5</span><br><span class="line"></span><br><span class="line">//3.并集</span><br><span class="line">//let union = [...new Set([...arr,...arr2])];</span><br><span class="line">//console.log(union);//[1, 2, 3, 4, 5, 6]</span><br><span class="line"></span><br><span class="line">//4.差集，谁是主体，求出来的结果是不一样的</span><br><span class="line">let diff = [...new Set(arr1)].filter(item =&gt; !(new Set(arr2).has(item)));</span><br><span class="line">console.log(diff);//[1, 2, 3]  这里是1对2求差集，表示1里面有，而2里面没有的</span><br></pre></td></tr></table></figure>

<h3 id="Map的介绍与API¶"><a href="#Map的介绍与API¶" class="headerlink" title="Map的介绍与API¶"></a>Map的介绍与API<a href="#mapapi">¶</a></h3><p>ES提供了Map数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。Map也实现了iterator接口，所以可以使用<code>扩展运算符</code>和<code>for of</code>进行遍历。</p>
<p>Map的属性和方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">1)size 返回Map的元素的个数</span><br><span class="line"></span><br><span class="line">2)set 增加一个新元素，返回当前Map</span><br><span class="line"></span><br><span class="line">3)get 返回键名对象的键值</span><br><span class="line"></span><br><span class="line">4)has 检测Map中是否包含某个元素，返回boolean值</span><br><span class="line"></span><br><span class="line">5)clear 清空集合，返回undefined</span><br><span class="line">//声明Map</span><br><span class="line">let m = new Map();</span><br><span class="line"></span><br><span class="line">console.log(m);//Map &#123;&#125;</span><br><span class="line"></span><br><span class="line">//添加元素</span><br><span class="line">m.set(&#x27;name&#x27;,&#x27;xiaoming&#x27;);</span><br><span class="line">m.set(&#x27;change&#x27;,function () &#123;</span><br><span class="line">    console.log(&#x27;我可以改变你&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(m);//Map &#123; &#x27;name&#x27; =&gt; &#x27;xiaoming&#x27;, &#x27;change&#x27; =&gt; [Function] &#125;</span><br></pre></td></tr></table></figure>

<h3 id="class类¶"><a href="#class类¶" class="headerlink" title="class类¶"></a>class类<a href="#class">¶</a></h3><p>ES6提供了更接近传语言的写法，引入了Class（类）这个概念，作为对象的模板；</p>
<p>通过class关键字，可以定义类。基本上，ES6的class可以看做只是一个语法糖，它的绝大部分功能，ES5都可以做到，新的class写法只是让对象原型的写法更加清晰、更像面向对象编程的语法而已</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1) class声明类</span><br><span class="line"></span><br><span class="line">2） constructor定义构造函数初始化</span><br><span class="line"></span><br><span class="line">3) extends继承父类</span><br><span class="line"></span><br><span class="line">4) super调用父级构造方法</span><br><span class="line"></span><br><span class="line">5) static定义静态方法和属性</span><br><span class="line"></span><br><span class="line">6)父类方法可以重写</span><br></pre></td></tr></table></figure>

<p>ES5 实例化对象的写法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">//手机</span><br><span class="line">function Phone(brand, price)&#123;</span><br><span class="line">    this.brand = brand;</span><br><span class="line">    this.price = price;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//添加方法</span><br><span class="line">Phone.prototype.call = function() &#123;</span><br><span class="line">  console.log(&#x27;我可以打电话&#x27;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//实例化对象</span><br><span class="line">let HUAWEI = new Phone(&#x27;HUAWEI&#x27;,&#x27;2999&#x27;);</span><br><span class="line">HUAWEI.call();</span><br><span class="line">console.log(HUAWEI);</span><br><span class="line">```1</span><br><span class="line">ES6的写法</span><br><span class="line">```javascript</span><br><span class="line">class Phone&#123;</span><br><span class="line">    //构造方法 名字不能修改</span><br><span class="line">    constructor(brand, price)&#123;</span><br><span class="line">        this.brand = brand;</span><br><span class="line">        this.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //方法必须使用该语法，不能使用ES5的对象完整形式</span><br><span class="line">    call()&#123;</span><br><span class="line">        console.log(&#x27;我可以打电话&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let onePlus = new Phone(&quot;1+&quot;, 1999);</span><br><span class="line">console.log(onePlus);</span><br></pre></td></tr></table></figure>

<h3 id="class静态成员¶"><a href="#class静态成员¶" class="headerlink" title="class静态成员¶"></a>class静态成员<a href="#class_1">¶</a></h3><p>函数对象的属性，是属于类的，并不属于实例对象的属性，这样的属性称为<code>静态成员</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">function Phone()&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">Phone.name = &#x27;手机&#x27;;</span><br><span class="line">Phone.change = function () &#123;</span><br><span class="line">    console.log(&#x27;我可以改变世界&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let nokia = new Phone();</span><br><span class="line">//console.log(nokia.name);//undefined</span><br><span class="line">//nokia.change();//Uncaught TypeError: nokia.change is not a function</span><br><span class="line"></span><br><span class="line">Phone.prototype.size = &#x27;5.5inch&#x27;;</span><br><span class="line">console.log(nokia.size);//5.5inch</span><br><span class="line">class Phone&#123;</span><br><span class="line">    //静态属性</span><br><span class="line">    static name = &#x27;手机&#x27;;</span><br><span class="line">    static change()&#123;</span><br><span class="line">        console.log(&#x27;我可以改变世界&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let nokia = new Phone();</span><br><span class="line">console.log(nokia.name);//undefined</span><br><span class="line">console.log(Phone.change);</span><br><span class="line">//ƒ change()&#123;</span><br><span class="line">//        console.log(&#x27;我可以改变世界&#x27;);</span><br><span class="line">//&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ES6-ES5构造函数继承¶"><a href="#ES6-ES5构造函数继承¶" class="headerlink" title="ES6-ES5构造函数继承¶"></a>ES6-ES5构造函数继承<a href="#es6-es5">¶</a></h3><p>ES5构造函数继承</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">//手机</span><br><span class="line">function Phone(brand, price) &#123;</span><br><span class="line">    this.brand = brand;</span><br><span class="line">    this.price = price;</span><br><span class="line">&#125;</span><br><span class="line">Phone.prototype.call = function () &#123;</span><br><span class="line">    console.log(&#x27;我可以打电话&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//智能手机</span><br><span class="line">function SmartPhone(brand,price,color,size)&#123;</span><br><span class="line">    Phone.call(this,brand,price);</span><br><span class="line">    this.color = color;</span><br><span class="line">    this.size = size;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//设置子级构造函数的原型</span><br><span class="line">SmartPhone.prototype = new Phone;</span><br><span class="line">//做一下校正</span><br><span class="line">SmartPhone.prototype.constructor = SmartPhone;</span><br><span class="line"></span><br><span class="line">//声明子类的方法</span><br><span class="line">SmartPhone.prototype.photo = function () &#123;</span><br><span class="line">    console.log(&#x27;我可以拍照片&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">SmartPhone.prototype.playGame = function () &#123;</span><br><span class="line">    console.log(&#x27;我可以打游戏&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">const chuizi = new SmartPhone(&#x27;锤子&#x27;,2499,&#x27;黑色&#x27;,&#x27;5.5inch&#x27;);</span><br><span class="line">console.log(chuizi)</span><br><span class="line">// SmartPhone</span><br><span class="line">//     brand: &quot;锤子&quot;</span><br><span class="line">//     color: &quot;黑色&quot;</span><br><span class="line">//     price: 2499</span><br><span class="line">//     size: &quot;5.5inch&quot;</span><br><span class="line">//     __proto__: Phone</span><br></pre></td></tr></table></figure>

<h3 id="ES6-class的类继承¶"><a href="#ES6-class的类继承¶" class="headerlink" title="ES6-class的类继承¶"></a>ES6-class的类继承<a href="#es6-class">¶</a></h3><p>ES6继承</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">class Phone&#123;</span><br><span class="line">    //构造方法</span><br><span class="line">    constructor(brand,price) &#123;</span><br><span class="line">        this.brand = brand;</span><br><span class="line">        this.price = price;</span><br><span class="line">    &#125;</span><br><span class="line">    //父类的成员属性</span><br><span class="line">    call()&#123;</span><br><span class="line">        console.log(&#x27;我可以打电话！&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class SmartPhone extends Phone&#123;</span><br><span class="line">    //构造方法</span><br><span class="line">    constructor(brand,price,color,size) &#123;</span><br><span class="line">        super(brand,price);//Phone.call(this,brand,price);</span><br><span class="line">        this.color = color;</span><br><span class="line">        this.size = size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    photo()&#123;</span><br><span class="line">        console.log(&#x27;拍照片&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">    playGame()&#123;</span><br><span class="line">        console.log(&#x27;玩游戏&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const xiaomi = new SmartPhone(&#x27;小米&#x27;,799,&#x27;黑色&#x27;,&#x27;4.7inch&#x27;);</span><br><span class="line">console.log(xiaomi)</span><br><span class="line">// SmartPhone &#123;brand: &quot;小米&quot;, price: 799, color: &quot;黑色&quot;, size: &quot;4.7inch&quot;&#125;</span><br><span class="line">//     brand: &quot;小米&quot;</span><br><span class="line">//     color: &quot;黑色&quot;</span><br><span class="line">//     price: 799</span><br><span class="line">//     size: &quot;4.7inch&quot;</span><br><span class="line">//     __proto__: Phone</span><br></pre></td></tr></table></figure>

<h3 id="子类对父类方法的重写¶"><a href="#子类对父类方法的重写¶" class="headerlink" title="子类对父类方法的重写¶"></a>子类对父类方法的重写<a href="#_15">¶</a></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">class Phone&#123;</span><br><span class="line">    //构造方法</span><br><span class="line">    constructor(brand,price) &#123;</span><br><span class="line">        this.brand = brand;</span><br><span class="line">        this.price = price;</span><br><span class="line">    &#125;</span><br><span class="line">    //父类的成员属性</span><br><span class="line">    call()&#123;</span><br><span class="line">        console.log(&#x27;我可以打电话！&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class SmartPhone extends Phone&#123;</span><br><span class="line">    //构造方法</span><br><span class="line">    constructor(brand,price,color,size) &#123;</span><br><span class="line">        super(brand,price);//Phone.call(this,brand,price);</span><br><span class="line">        this.color = color;</span><br><span class="line">        this.size = size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    photo()&#123;</span><br><span class="line">        console.log(&#x27;拍照片&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">    playGame()&#123;</span><br><span class="line">        console.log(&#x27;玩游戏&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">    call() &#123;</span><br><span class="line">        // super() 子类中不能直接调用父类的同名方法，只能重写</span><br><span class="line">        console.log(&#x27;我可以视频通话&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const xiaomi = new SmartPhone(&#x27;小米&#x27;,799,&#x27;黑色&#x27;,&#x27;4.7inch&#x27;);</span><br><span class="line">console.log(xiaomi)</span><br><span class="line">// SmartPhone &#123;brand: &quot;小米&quot;, price: 799, color: &quot;黑色&quot;, size: &quot;4.7inch&quot;&#125;</span><br><span class="line">//     brand: &quot;小米&quot;</span><br><span class="line">//     color: &quot;黑色&quot;</span><br><span class="line">//     price: 799</span><br><span class="line">//     size: &quot;4.7inch&quot;</span><br><span class="line">//     __proto__: Phone</span><br><span class="line">xiaomi.call();//我可以视频通话+</span><br></pre></td></tr></table></figure>

<h3 id="class中getter和setter的设置¶"><a href="#class中getter和setter的设置¶" class="headerlink" title="class中getter和setter的设置¶"></a>class中getter和setter的设置<a href="#classgettersetter">¶</a></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//get 和 set</span><br><span class="line">class Phone &#123;</span><br><span class="line"></span><br><span class="line">    //对属性进行读取时，将会调用该方法</span><br><span class="line">    //通常是对动态的属性进行封装</span><br><span class="line">    get price()&#123;</span><br><span class="line">        console.log(&#x27;价格属性被读取了&#x27;);</span><br><span class="line">        return &#x27;iloveyou&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //对属性进行设置时，将会调用该方法</span><br><span class="line">    //可以添加更多的控制和判断</span><br><span class="line">    set price(newVal)&#123;</span><br><span class="line">        console.log(&#x27;价格属性被修改了&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//实例化对象</span><br><span class="line">let s = new Phone();</span><br><span class="line">console.log(s.price);</span><br><span class="line">//价格属性被读取了</span><br><span class="line">//iloveyou  get中的返回值，将会被读取到</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s.price = &#x27;free&#x27;;//价格属性被修改了</span><br></pre></td></tr></table></figure>

<h3 id="ES6的数值扩展¶"><a href="#ES6的数值扩展¶" class="headerlink" title="ES6的数值扩展¶"></a>ES6的数值扩展<a href="#es6">¶</a></h3><h3 id="ES6的对象方法扩展¶"><a href="#ES6的对象方法扩展¶" class="headerlink" title="ES6的对象方法扩展¶"></a>ES6的对象方法扩展<a href="#es6_1">¶</a></h3><h3 id="模块化介绍、优势及产品¶"><a href="#模块化介绍、优势及产品¶" class="headerlink" title="模块化介绍、优势及产品¶"></a>模块化介绍、优势及产品<a href="#_16">¶</a></h3><p>CommonJs &#x3D;&gt; NodeJs、Browserify</p>
<h3 id="浏览器使用ES6模块化引入模块¶"><a href="#浏览器使用ES6模块化引入模块¶" class="headerlink" title="浏览器使用ES6模块化引入模块¶"></a>浏览器使用ES6模块化引入模块<a href="#es6_2">¶</a></h3><p>m1.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export let school = &#x27;sgg&#x27;;</span><br><span class="line"></span><br><span class="line">export function teach() &#123;</span><br><span class="line">    console.log(&#x27;we can teach you&#x27;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>test.html</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">    //引入m1.js</span><br><span class="line">    import * as m1 from &#x27;./m1.js&#x27;;</span><br><span class="line">    console.log(m1)</span><br><span class="line">    // Module</span><br><span class="line">    // school: (...)</span><br><span class="line">    // teach: (...)</span><br><span class="line">    // Symbol(Symbol.toStringTag): &quot;Module&quot;</span><br><span class="line">    // get school: ƒ ()</span><br><span class="line">    // set school: ƒ ()</span><br><span class="line">    // get teach: ƒ ()</span><br><span class="line">    // set teach: ƒ ()</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="ES6模块暴露数据语法汇总¶"><a href="#ES6模块暴露数据语法汇总¶" class="headerlink" title="ES6模块暴露数据语法汇总¶"></a>ES6模块暴露数据语法汇总<a href="#es6_3">¶</a></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//分别暴露</span><br><span class="line">export let school = &#x27;sgg&#x27;;</span><br><span class="line"></span><br><span class="line">export function teach() &#123;</span><br><span class="line">    console.log(&#x27;we can teach you&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">//统一暴露</span><br><span class="line">let school = &#x27;sgg&#x27;;</span><br><span class="line"></span><br><span class="line">function teach() &#123;</span><br><span class="line">    console.log(&#x27;we can teach you&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export &#123;school,teach&#125;;</span><br><span class="line">//默认暴露</span><br><span class="line">export default &#123;</span><br><span class="line">    school: &#x27;sgg&#x27;,</span><br><span class="line">    teach: function () &#123;</span><br><span class="line">        console.log(&#x27;we can teach you&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这种暴露数据的方法，在调用时需要多加一层default</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m1.default.change();</span><br></pre></td></tr></table></figure>

<h3 id="ES6引入模块数据语法汇总¶"><a href="#ES6引入模块数据语法汇总¶" class="headerlink" title="ES6引入模块数据语法汇总¶"></a>ES6引入模块数据语法汇总<a href="#es6_4">¶</a></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;module&quot;&gt;</span><br><span class="line">    //1.通用的导入方式</span><br><span class="line">    import * as m1 from &#x27;./m1.js&#x27;;</span><br><span class="line"></span><br><span class="line">    //2.解构赋值</span><br><span class="line">    import &#123;school,teach&#125; from &#x27;./m1.js&#x27;;</span><br><span class="line">    import &#123;school as school2,teach as teach2&#125; from &#x27;./m2.js&#x27;;</span><br><span class="line"></span><br><span class="line">    //3.简便形式，针对默认暴露</span><br><span class="line">    import m1 from&#x27;./m1.js&#x27;;</span><br><span class="line">    console.log(m1)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="浏览器使用ES6模块二¶"><a href="#浏览器使用ES6模块二¶" class="headerlink" title="浏览器使用ES6模块二¶"></a>浏览器使用ES6模块二<a href="#es6_5">¶</a></h3><p>入口文件app.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//入口文件</span><br><span class="line"></span><br><span class="line">//模块引入</span><br><span class="line">import * as m1 from &#x27;./m1.js&#x27;;</span><br><span class="line">import * as m2 from &#x27;./m2.js&#x27;;</span><br><span class="line">import * as m3 from &#x27;./m3.js&#x27;;</span><br></pre></td></tr></table></figure>

<p>引入入口文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;app.js&quot; type=&quot;module&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h1 id="JS常用API"><a href="#JS常用API" class="headerlink" title="JS常用API"></a>JS常用API</h1><h2 id="Math常用方法"><a href="#Math常用方法" class="headerlink" title="Math常用方法"></a>Math常用方法</h2><h3 id="绝对值方法"><a href="#绝对值方法" class="headerlink" title="绝对值方法"></a>绝对值方法</h3><p><code>Math.abs()</code></p>
<blockquote>
<p>获取绝对值，绝对值永远是正数或者零</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">abs</span>(-<span class="number">12.5</span>)) <span class="comment">// 12.5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="number">12</span>)) <span class="comment">// 12</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="number">0</span>)) <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 传递的不是数字类型的值，先基于Number()转换为数字类型再处理</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="string">&#x27;-1&#x27;</span>)) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="string">&#x27;-1px&#x27;</span>)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="literal">true</span>)) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h3 id="舍入方法"><a href="#舍入方法" class="headerlink" title="舍入方法"></a>舍入方法</h3><p><code>Math.ceil()</code></p>
<blockquote>
<p>方法始终向上舍入为最接近的整数</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">ceil</span>(<span class="number">25.1</span>)) <span class="comment">// 26</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">ceil</span>(<span class="number">25.9</span>)) <span class="comment">// 26</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">ceil</span>(-<span class="number">25.9</span>)) <span class="comment">// -25</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">ceil</span>(-<span class="number">25.1</span>)) <span class="comment">// -25</span></span><br></pre></td></tr></table></figure>

<p><code>Math.floor()</code></p>
<blockquote>
<p>方法始终向下舍入为最接近的整数</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="number">25.1</span>)) <span class="comment">// 25</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="number">25.9</span>)) <span class="comment">// 25</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(-<span class="number">25.9</span>)) <span class="comment">// -26</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(-<span class="number">25.1</span>)) <span class="comment">// -26</span></span><br></pre></td></tr></table></figure>

<p><code>Math.round()</code></p>
<blockquote>
<p>方法执行四舍五入</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="number">25.1</span>)) <span class="comment">// 25</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="number">25.5</span>)) <span class="comment">// 26，正数里是进一位</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="number">25.9</span>)) <span class="comment">// 26</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">round</span>(-<span class="number">25.9</span>)) <span class="comment">// -26</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">round</span>(-<span class="number">25.5</span>)) <span class="comment">// -25，负数里是舍去的</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">round</span>(-<span class="number">25.1</span>)) <span class="comment">// -25</span></span><br></pre></td></tr></table></figure>

<p><code>Math.fround()</code></p>
<blockquote>
<p>方法返回数值最接近的单精度（32 位）浮点值表示</p>
</blockquote>
<h3 id="最值方法"><a href="#最值方法" class="headerlink" title="最值方法"></a>最值方法</h3><p>min()和 max()方法用于确定一组数值中的最小值和最大值</p>
<ul>
<li>输入必须是一个个的值的形式</li>
<li>不能直接求数组的最值，可以用扩展操作符展开</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> max = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">3</span>, <span class="number">54</span>, <span class="number">32</span>, <span class="number">16</span>)</span><br><span class="line"><span class="keyword">let</span> min = <span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="number">3</span>, <span class="number">54</span>, <span class="number">32</span>, <span class="number">16</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(max, min) <span class="comment">// 54, 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">3</span>, <span class="number">54</span>, <span class="number">32</span>, <span class="number">16</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">max</span>(arr)) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">max</span>(...arr)) <span class="comment">// 54</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="随机数方法"><a href="#随机数方法" class="headerlink" title="随机数方法"></a>随机数方法</h3><p><code>Math.random()</code></p>
<blockquote>
<p>方法返回一个 0~1 范围内的随机数，其中包含 0 但不包含</p>
</blockquote>
<p>基于如下公式使用 Math.random()从一组整数中</p>
<p>随机选择一个数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">number = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * total_number_of_choices + first_possible_value) </span><br></pre></td></tr></table></figure>

<p>如果想从 1~10 范围内随机选择一个数，代码就是这样的：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">10</span> + <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p>如果想选择一个 2~10 范围内的值，则代码就</p>
<p>要写成这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">9</span> + <span class="number">2</span>); </span><br></pre></td></tr></table></figure>

<p>封装成函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">selectFrom</span>(<span class="params">lowerValue, upperValue</span>) &#123; </span><br><span class="line"> <span class="keyword">let</span> choices = upperValue - lowerValue + <span class="number">1</span>; </span><br><span class="line"> <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * choices + lowerValue); </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">let</span> num = <span class="title function_">selectFrom</span>(<span class="number">2</span>,<span class="number">10</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num); <span class="comment">// 2~10 范围内的值，其中包含 2 和 10</span></span><br></pre></td></tr></table></figure>

<p>应用，取数组的随机项</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">&quot;red&quot;</span>, <span class="string">&quot;green&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;yellow&quot;</span>, <span class="string">&quot;black&quot;</span>, <span class="string">&quot;purple&quot;</span>, <span class="string">&quot;brown&quot;</span>]; </span><br><span class="line"><span class="keyword">let</span> color = colors[<span class="title function_">selectFrom</span>(<span class="number">0</span>, colors.<span class="property">length</span>-<span class="number">1</span>)];</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>Math.random()</code>方法在这里出于演示目的是没有问题的。如果是为了加密而需要生成随机数（传给生成器的输入需要较高的不确定性），那么建议使用 <code>window.crypto. getRandomValues()</code>。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array = <span class="keyword">new</span> <span class="title class_">Uint32Array</span>(<span class="number">10</span>);</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">crypto</span>.<span class="title function_">getRandomValues</span>(array);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Your lucky numbers:&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; array.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(array[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221114203722124.png" alt="image-20221114203722124"></p>
<h2 id="Array常用方法"><a href="#Array常用方法" class="headerlink" title="Array常用方法"></a>Array常用方法</h2><ul>
<li>方法的作用和含义</li>
<li>方法的实参（类型和含义）</li>
<li>方法的返回值</li>
</ul>
<h3 id="栈方法"><a href="#栈方法" class="headerlink" title="栈方法"></a>栈方法</h3><ul>
<li><p><code>push()</code></p>
<blockquote>
<p><code>push()</code>方法接收任意数量的参数，并将它们添加到数组末尾，返回数组的最新长度</p>
<p><code>@params</code>：多个任意类型</p>
<p><code>@return</code>：新增数组后的长度</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = <span class="keyword">new</span> <span class="title class_">Array</span>(); <span class="comment">// 创建一个数组</span></span><br><span class="line"><span class="keyword">let</span> count = colors.<span class="title function_">push</span>(<span class="string">&quot;red&quot;</span>, <span class="string">&quot;green&quot;</span>); <span class="comment">// 推入两项</span></span><br><span class="line"><span class="title function_">alert</span>(count); <span class="comment">// 2 </span></span><br><span class="line">count = colors.<span class="title function_">push</span>(<span class="string">&quot;black&quot;</span>); <span class="comment">// 再推入一项</span></span><br><span class="line"><span class="title function_">alert</span>(count); <span class="comment">// 3	</span></span><br></pre></td></tr></table></figure>

<p>基于原生JS，也可以向末尾追加内容，但效率不如直接提供的push方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[arr.<span class="property">length</span>] = newValue</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>pop()</code></p>
<blockquote>
<p>pop()方法用于删除数组的最后一项，同时减少数组的 length 值，返回被删除的项</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> item = colors.<span class="title function_">pop</span>(); <span class="comment">// 取得最后一项</span></span><br><span class="line"><span class="title function_">alert</span>(item); <span class="comment">// black </span></span><br><span class="line"><span class="title function_">alert</span>(colors.<span class="property">length</span>); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<p><code>arr.length--</code>，也可以实现删除数组最后一项</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line">arr.<span class="property">length</span>--</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr) <span class="comment">// [12, 34, 56]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="队列方法"><a href="#队列方法" class="headerlink" title="队列方法"></a>队列方法</h3><p>有了在数据末尾添加数据的 <code>push()</code>方法，所以要模拟队列就差一个从数组开头取得数据的方法了</p>
<ul>
<li><p><code>shift()</code></p>
<blockquote>
<p>它会删除数组的第一项并返回它，然后数组长度减 1</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = <span class="keyword">new</span> <span class="title class_">Array</span>(); <span class="comment">// 创建一个数组</span></span><br><span class="line"><span class="keyword">let</span> count = colors.<span class="title function_">push</span>(<span class="string">&quot;red&quot;</span>, <span class="string">&quot;green&quot;</span>); <span class="comment">// 推入两项</span></span><br><span class="line"><span class="title function_">alert</span>(count); <span class="comment">// 2 </span></span><br><span class="line">count = colors.<span class="title function_">push</span>(<span class="string">&quot;black&quot;</span>); <span class="comment">// 再推入一项</span></span><br><span class="line"><span class="title function_">alert</span>(count); <span class="comment">// 3 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> item = colors.<span class="title function_">shift</span>(); <span class="comment">// 取得第一项</span></span><br><span class="line"><span class="title function_">alert</span>(item); <span class="comment">// red </span></span><br><span class="line"><span class="title function_">alert</span>(colors.<span class="property">length</span>); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>unshift()</code></p>
<blockquote>
<p>在数组开头添加任意多个值，然后返回新的数组长度</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = <span class="keyword">new</span> <span class="title class_">Array</span>(); <span class="comment">// 创建一个数组</span></span><br><span class="line"><span class="keyword">let</span> count = colors.<span class="title function_">unshift</span>(<span class="string">&quot;red&quot;</span>, <span class="string">&quot;green&quot;</span>); <span class="comment">// 从数组开头推入两项</span></span><br><span class="line"><span class="title function_">alert</span>(count); <span class="comment">// 2 </span></span><br><span class="line">count = colors.<span class="title function_">unshift</span>(<span class="string">&quot;black&quot;</span>); <span class="comment">// 再推入一项</span></span><br><span class="line"><span class="title function_">alert</span>(count); <span class="comment">// 3 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> item = colors.<span class="title function_">pop</span>(); <span class="comment">// 取得最后一项</span></span><br><span class="line"><span class="title function_">alert</span>(item); <span class="comment">// green </span></span><br><span class="line"><span class="title function_">alert</span>(colors.<span class="property">length</span>); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="concact-：合并数组"><a href="#concact-：合并数组" class="headerlink" title="concact()：合并数组"></a><code>concact()</code>：合并数组</h3><ul>
<li><p>可以在现有数组全部元素基础上创建一个新数组。</p>
</li>
<li><p>它首先会创建一个当前数组的副本，然后再把它的参数添加到副本末尾，最后返回这个新构建的数组。</p>
<ul>
<li>如果传入一个或多个数组，则 <code>concat()</code>会把这些数组的每一项都添加到结果数组。</li>
<li>如果参数不是数组，则直接把它们添加到结果数组末尾。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">&quot;red&quot;</span>, <span class="string">&quot;green&quot;</span>, <span class="string">&quot;blue&quot;</span>]; </span><br><span class="line"><span class="keyword">let</span> colors2 = colors.<span class="title function_">concat</span>(<span class="string">&quot;yellow&quot;</span>, [<span class="string">&quot;black&quot;</span>, <span class="string">&quot;brown&quot;</span>]); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(colors); <span class="comment">// [&quot;red&quot;, &quot;green&quot;,&quot;blue&quot;] </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(colors2); <span class="comment">// [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;yellow&quot;, &quot;black&quot;, &quot;brown&quot;]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>打平数组</p>
</li>
<li><p>操作不影响原始数组</p>
</li>
</ul>
<h3 id="操作方法"><a href="#操作方法" class="headerlink" title="操作方法"></a>操作方法</h3><ul>
<li><p><code>slice()</code>：截取数组</p>
<ul>
<li><p>创建一个包含原有数组中一个或多个元素的新数组</p>
</li>
<li><p>可以接收一个或两个参数：返回元素的开始索引和结束索引。</p>
<ul>
<li>如果只有一个参数，则 <code>slice()</code>会返回该索引到数组末尾的所有元素。</li>
<li>如果有两个参数，则 <code>slice()</code>返回从开始索引到结束索引对应的所有元素，其中不包含结束索引对应的元素（左闭右开）。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">&quot;red&quot;</span>, <span class="string">&quot;green&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;yellow&quot;</span>, <span class="string">&quot;purple&quot;</span>]; </span><br><span class="line"><span class="keyword">let</span> colors2 = colors.<span class="title function_">slice</span>(<span class="number">1</span>); </span><br><span class="line"><span class="keyword">let</span> colors3 = colors.<span class="title function_">slice</span>(<span class="number">1</span>, <span class="number">4</span>); </span><br><span class="line"><span class="title function_">alert</span>(colors2); <span class="comment">// green,blue,yellow,purple </span></span><br><span class="line"><span class="title function_">alert</span>(colors3); <span class="comment">// green,blue,yellow</span></span><br></pre></td></tr></table></figure>

</li>
<li><p>如果 <code>slice()</code>的参数有负值，那么就以数值长度加上这个负值的结果确定位置。</p>
<ul>
<li>比如，在包含 5 个元素的数组上调用 <code>slice(-2,-1</code>)，就相当于调用 slice(3,4)。</li>
<li>如果结束位置小于开始位置，则返回空数组。</li>
</ul>
</li>
<li><p>操作不影响原始数组</p>
</li>
</ul>
</li>
<li><p><code>splice()</code>：删除、插入或替换数组元素</p>
<ul>
<li><p>删除：</p>
<ul>
<li><p>需要给 <code>splice()</code><strong>传 2 个参数</strong>：要删除的第一个元素的位置和要删除的元素数量。</p>
</li>
<li><p>可以从数组中删除任意多个元素，比如 <code>splice(0, 2)</code>会删除前两个元素。</p>
</li>
<li><p>清空数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line"><span class="keyword">let</span> res = arr.<span class="title function_">splice</span>(<span class="number">0</span>) <span class="comment">// 没有第二个参数，默认是数组的长度</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr, res) <span class="comment">// [], [12, 34, 56, 78]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>删除第一项和最后一项</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line">arr.<span class="title function_">splice</span>(arr.<span class="property">length</span> - <span class="number">1</span>)</span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr) <span class="comment">// [34, 56]</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>插入</p>
<blockquote>
<p>需要给 <code>splice()</code>传 3 个参数：开始位置、0（要删除的元素数量）和要插入的元素，可以在数组中指定的位置插入元素。</p>
<p>第三个参数之后还可以传第四个、第五个参数，乃至任意多个要插入的元素。</p>
</blockquote>
<p>比如，<code>splice(2, 0, &quot;red&quot;, &quot;green&quot;)</code>会从数组位置 2 开始插入字符串”<code>red</code>“和”<code>green</code>“。</p>
<p>向数组末尾&#x2F;开头追加</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line">arr.<span class="title function_">splice</span>(arr.<span class="property">length</span>, <span class="number">0</span>, <span class="string">&#x27;AA&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr) <span class="comment">// [12, 34, 56, 78, &#x27;AA&#x27;]</span></span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;BB&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr) <span class="comment">// [&#x27;BB&#x27;, 12, 34, 56, 78, &#x27;AA&#x27;]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>替换（先删除，再替换）</p>
<blockquote>
<p><code>splice()</code>在删除元素的同时可以在指定位置插入新元素，同样要传入 3 个参数：开始位置、要删除元素的数量和要插入的任意多个元素。</p>
<p>要插入的元素数量不一定跟删除的元素数量一致。</p>
</blockquote>
<p>比如，<code>splice(2, 1, &quot;red&quot;, &quot;green&quot;)</code>会在位置 2 删除一个元素，然后从该位置开始向数组中插入”red”和”green”。</p>
</li>
<li><p>我的思考：</p>
<ul>
<li>只要第二个参数不为0，就是删除元素了</li>
<li>只要有两个以上的参数，就是插入元素了</li>
<li>具体删了谁，插入了谁，在哪个位置插入的，看具体参数的值即可</li>
</ul>
</li>
<li><p>返回值</p>
<blockquote>
<p><code>splice()</code>方法始终返回这样一个数组，它包含从数组中被删除的元素（如果没有删除元素，则返回空数组）。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">&quot;red&quot;</span>, <span class="string">&quot;green&quot;</span>, <span class="string">&quot;blue&quot;</span>]; </span><br><span class="line"><span class="keyword">let</span> removed = colors.<span class="title function_">splice</span>(<span class="number">0</span>,<span class="number">1</span>); <span class="comment">// 删除第一项</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(colors); <span class="comment">// green,blue </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(removed); <span class="comment">// red，只有一个元素的数组</span></span><br><span class="line"></span><br><span class="line">removed = colors.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="string">&quot;yellow&quot;</span>, <span class="string">&quot;orange&quot;</span>); <span class="comment">// 在位置 1 插入两个元素，原来在位置1的blue被挤后面去了</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(colors); <span class="comment">// green,yellow,orange,blue </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(removed); <span class="comment">// 空数组</span></span><br><span class="line"></span><br><span class="line">removed = colors.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="string">&quot;red&quot;</span>, <span class="string">&quot;purple&quot;</span>); <span class="comment">// 插入两个值，删除一个元素</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(colors); <span class="comment">// green,red,purple,orange,blue </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(removed); <span class="comment">// yellow，只有一个元素的数组</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>操作会影响到原数组</p>
</li>
</ul>
</li>
</ul>
<h3 id="delete"><a href="#delete" class="headerlink" title="delete"></a><code>delete</code></h3><p><code>delete</code>方法，把数组当做普通对象，确实可以删除某一项内容，但是不会影响数组本身的数据结构特点（<code>length</code>长度不会跟着改变），真实项目中杜绝使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>, <span class="number">34</span>, <span class="number">56</span>, <span class="number">78</span>]</span><br><span class="line"><span class="keyword">delete</span> arr[<span class="number">0</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221115060441857.png" alt="image-20221115060441857"></p>
<h2 id="Object常用方法"><a href="#Object常用方法" class="headerlink" title="Object常用方法"></a>Object常用方法</h2><h3 id="Object-create"><a href="#Object-create" class="headerlink" title="Object.create()"></a><code>Object.create()</code></h3><blockquote>
<p>方法用于创建一个新对象，使用现有的对象来作为新创建对象的原型（prototype）。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">isHuman</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">printIntroduction</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`My name is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>. Am I human? <span class="subst">$&#123;<span class="variable language_">this</span>.isHuman&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> me = <span class="title class_">Object</span>.<span class="title function_">create</span>(person);</span><br><span class="line"></span><br><span class="line">me.<span class="property">name</span> = <span class="string">&#x27;Matthew&#x27;</span>; <span class="comment">// &quot;name&quot; is a property set on &quot;me&quot;, but not on &quot;person&quot;</span></span><br><span class="line">me.<span class="property">isHuman</span> = <span class="literal">true</span>; <span class="comment">// inherited properties can be overwritten</span></span><br><span class="line"></span><br><span class="line">me.<span class="title function_">printIntroduction</span>();</span><br><span class="line"><span class="comment">// expected output: &quot;My name is Matthew. Am I human? true&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>我们可以在新建对象后打印<code>me</code>对象，看一下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">isHuman</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">printIntroduction</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`My name is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>. Am I human? <span class="subst">$&#123;<span class="variable language_">this</span>.isHuman&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> me = <span class="title class_">Object</span>.<span class="title function_">create</span>(person);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">dir</span>(me)</span><br></pre></td></tr></table></figure>

<p>在没有添加属性之前，<code>me</code>对象就是一个以<code>person</code>对象为原型的空对象</p>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20220714091058110.png" alt="image-20220714091058110"></p>
<p>也可以在<code>me</code>对象上重写<code>person</code>身上的方法，并不会覆盖原型对象上的方法</p>
<h3 id="Object-entries"><a href="#Object-entries" class="headerlink" title="Object.entries"></a><code>Object.entries</code></h3><blockquote>
<p>遍历对象的，将<code>key-value</code>的形式，转换成二维数组</p>
</blockquote>
<p><img src="/image-20220629110203985.png" alt="image-20220629110203985"></p>
<h3 id="Object-keys"><a href="#Object-keys" class="headerlink" title="Object.keys()"></a><code>Object.keys()</code></h3><h3 id="Object-values"><a href="#Object-values" class="headerlink" title="Object.values"></a><code>Object.values</code></h3><h3 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign()"></a><code>Object.assign()</code></h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign</a></p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(target, ...sources) </span><br></pre></td></tr></table></figure>

<ul>
<li><p>参数</p>
<ul>
<li><p><code>target</code></p>
<p>目标对象，接收源对象属性的对象，也是修改后的返回值。</p>
</li>
<li><p><code>sources</code></p>
<p>源对象，包含将被合并的属性。</p>
</li>
</ul>
</li>
<li><p>返回值</p>
<ul>
<li>目标对象，即函数的返回值是合并后的<code>target</code></li>
</ul>
</li>
</ul>
<h4 id="描述"><a href="#描述" class="headerlink" title="描述"></a>描述</h4><p>如果目标对象与源对象具有相同的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/keys">key</a>，则目标对象中的属性将被源对象中的属性覆盖，后面的源对象的属性将类似地覆盖前面的源对象的属性。</p>
<p><code>Object.assign</code> 方法只会拷贝源对象 <em>可枚举的</em> 和 <em>自身的</em> 属性到目标对象。该方法使用源对象的 <code>[[Get]]</code> 和目标对象的 <code>[[Set]]</code>，它会调用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/get">getters</a> 和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/set">setters</a>。故它分配属性，而不仅仅是复制或定义新的属性。如果合并源包含 getters，这可能使其不适合将新属性合并到原型中。</p>
<p>为了将属性定义（包括其可枚举性）复制到原型，应使用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor"><code>Object.getOwnPropertyDescriptor()</code></a> 和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty"><code>Object.defineProperty()</code></a>，基本类型 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String"><code>String</code></a> 和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol"><code>Symbol</code></a> 的属性会被复制。</p>
<p>如果赋值期间出错，例如如果属性不可写，则会抛出 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a>；如果在抛出异常之前添加了任何属性，则会修改 <code>target</code> 对象（译者注：换句话说，<code>Object.assign()</code> 没有“回滚”之前赋值的概念，它是一个尽力而为、可能只会完成部分复制的方法）。</p>
<blockquote>
<p><strong>备注：</strong> <code>Object.assign()</code> 不会在 <code>source</code> 对象值为 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/null"><code>null</code></a> 或 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a> 时抛出错误。</p>
</blockquote>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><h5 id="复制对象"><a href="#复制对象" class="headerlink" title="复制对象"></a>复制对象</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> copy = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(copy); <span class="comment">// &#123; a: 1 &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="深拷贝问题"><a href="#深拷贝问题" class="headerlink" title="深拷贝问题"></a>深拷贝问题</h5><p>针对<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Glossary/Deep_copy">深拷贝 (en-US)</a>, 需要使用其他办法，因为 <code>Object.assign()</code> 只复制属性值。</p>
<p>假如源对象是一个对象的引用，它仅仅会复制其引用值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="string">&#x27;use strict&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> obj1 = &#123; <span class="attr">a</span>: <span class="number">0</span> , <span class="attr">b</span>: &#123; <span class="attr">c</span>: <span class="number">0</span>&#125;&#125;;</span><br><span class="line">  <span class="keyword">let</span> obj2 = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, obj1);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj2)); <span class="comment">// &#123; &quot;a&quot;: 0, &quot;b&quot;: &#123; &quot;c&quot;: 0&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">  obj1.<span class="property">a</span> = <span class="number">1</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj1)); <span class="comment">// &#123; &quot;a&quot;: 1, &quot;b&quot;: &#123; &quot;c&quot;: 0&#125;&#125;</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj2)); <span class="comment">// &#123; &quot;a&quot;: 0, &quot;b&quot;: &#123; &quot;c&quot;: 0&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">  obj2.<span class="property">a</span> = <span class="number">2</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj1)); <span class="comment">// &#123; &quot;a&quot;: 1, &quot;b&quot;: &#123; &quot;c&quot;: 0&#125;&#125;</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj2)); <span class="comment">// &#123; &quot;a&quot;: 2, &quot;b&quot;: &#123; &quot;c&quot;: 0&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">  obj2.<span class="property">b</span>.<span class="property">c</span> = <span class="number">3</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj1)); <span class="comment">// &#123; &quot;a&quot;: 1, &quot;b&quot;: &#123; &quot;c&quot;: 3&#125;&#125;</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj2)); <span class="comment">// &#123; &quot;a&quot;: 2, &quot;b&quot;: &#123; &quot;c&quot;: 3&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Deep Clone</span></span><br><span class="line">  obj1 = &#123; <span class="attr">a</span>: <span class="number">0</span> , <span class="attr">b</span>: &#123; <span class="attr">c</span>: <span class="number">0</span>&#125;&#125;;</span><br><span class="line">  <span class="keyword">let</span> obj3 = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj1));</span><br><span class="line">  obj1.<span class="property">a</span> = <span class="number">4</span>;</span><br><span class="line">  obj1.<span class="property">b</span>.<span class="property">c</span> = <span class="number">4</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj3)); <span class="comment">// &#123; &quot;a&quot;: 0, &quot;b&quot;: &#123; &quot;c&quot;: 0&#125;&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="合并对象"><a href="#合并对象" class="headerlink" title="合并对象"></a>合并对象</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o1 = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> o2 = &#123; <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> o3 = &#123; <span class="attr">c</span>: <span class="number">3</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = <span class="title class_">Object</span>.<span class="title function_">assign</span>(o1, o2, o3);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">// &#123; a: 1, b: 2, c: 3 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o1);  <span class="comment">// &#123; a: 1, b: 2, c: 3 &#125;, target object itself is changed.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o1 === obj) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h5 id="合并具有相同属性的对象"><a href="#合并具有相同属性的对象" class="headerlink" title="合并具有相同属性的对象"></a>合并具有相同属性的对象</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o1 = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">1</span>, <span class="attr">c</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> o2 = &#123; <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> o3 = &#123; <span class="attr">c</span>: <span class="number">3</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, o1, o2, o3);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">// &#123; a: 1, b: 2, c: 3 &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>属性会被后续参数中具有相同属性的其他对象覆盖。</p>
<h5 id="拷贝-Symbol-类型属性"><a href="#拷贝-Symbol-类型属性" class="headerlink" title="拷贝 Symbol 类型属性"></a>拷贝 <code>Symbol</code> 类型属性</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> o1 = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> o2 = &#123; [<span class="title class_">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>)]: <span class="number">2</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, o1, o2);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">// &#123; a : 1, [Symbol(&quot;foo&quot;)]: 2 &#125; (cf. bug 1207182 on Firefox)</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">getOwnPropertySymbols</span>(obj); <span class="comment">// [Symbol(foo)]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="原型链上的属性和不可枚举属性不能被复制"><a href="#原型链上的属性和不可枚举属性不能被复制" class="headerlink" title="原型链上的属性和不可枚举属性不能被复制"></a>原型链上的属性和不可枚举属性不能被复制</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = <span class="title class_">Object</span>.<span class="title function_">create</span>(&#123; <span class="attr">foo</span>: <span class="number">1</span> &#125;, &#123; <span class="comment">// foo is on obj&#x27;s prototype chain.</span></span><br><span class="line">  <span class="attr">bar</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">2</span>  <span class="comment">// bar is a non-enumerable property.</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">baz</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">true</span>  <span class="comment">// baz is an own enumerable property.</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj) <span class="comment">// &#123;baz: 3, bar: 2&#125; 另外：&#123;foo: 1&#125;在obj的原型链上</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> copy = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(copy); <span class="comment">// &#123; baz: 3 &#125;</span></span><br></pre></td></tr></table></figure>

<h5 id="基本类型会被包装为对象"><a href="#基本类型会被包装为对象" class="headerlink" title="基本类型会被包装为对象"></a>基本类型会被包装为对象</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> v1 = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> v2 = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">const</span> v3 = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> v4 = <span class="title class_">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, v1, <span class="literal">null</span>, v2, <span class="literal">undefined</span>, v3, v4);</span><br><span class="line"><span class="comment">// Primitives will be wrapped, null and undefined will be ignored.</span></span><br><span class="line"><span class="comment">// Note, only string wrappers can have own enumerable properties.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">// &#123; &quot;0&quot;: &quot;a&quot;, &quot;1&quot;: &quot;b&quot;, &quot;2&quot;: &quot;c&quot; &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="异常会打断后续拷贝任务"><a href="#异常会打断后续拷贝任务" class="headerlink" title="异常会打断后续拷贝任务"></a>异常会打断后续拷贝任务</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> target = <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(&#123;&#125;, <span class="string">&#x27;foo&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">value</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">writable</span>: <span class="literal">false</span></span><br><span class="line">&#125;); <span class="comment">// target.foo is a read-only property</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(target, &#123; <span class="attr">bar</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">foo2</span>: <span class="number">3</span>, <span class="attr">foo</span>: <span class="number">3</span>, <span class="attr">foo3</span>: <span class="number">3</span> &#125;, &#123; <span class="attr">baz</span>: <span class="number">4</span> &#125;);</span><br><span class="line"><span class="comment">// TypeError: &quot;foo&quot; is read-only</span></span><br><span class="line"><span class="comment">// The Exception is thrown when assigning target.foo</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(target.<span class="property">bar</span>);  <span class="comment">// 2, the first source was copied successfully.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(target.<span class="property">foo2</span>); <span class="comment">// 3, the first property of the second source was copied successfully.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(target.<span class="property">foo</span>);  <span class="comment">// 1, exception is thrown here.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(target.<span class="property">foo3</span>); <span class="comment">// undefined, assign method has finished, foo3 will not be copied.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(target.<span class="property">baz</span>);  <span class="comment">// undefined, the third source will not be copied either.</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221114205656441.png" alt="image-20221114205656441"></p>
<h5 id="拷贝访问器"><a href="#拷贝访问器" class="headerlink" title="拷贝访问器"></a>拷贝访问器</h5><p>如果源对象里有<code>getter</code>，正常情况下会返回<code>getters</code>的值</p>
<p>现在希望把<code>getters</code>的访问器属性也整到目标对象中，定义了<code>completeAssign</code>方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">foo</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">bar</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> copy1 = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(copy1);</span><br><span class="line"><span class="comment">// &#123; foo: 1, bar: 2 &#125;</span></span><br><span class="line"><span class="comment">// The value of copy.bar is obj.bar&#x27;s getter&#x27;s return value.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// This is an assign function that copies full descriptors</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">completeAssign</span>(<span class="params">target, ...sources</span>) &#123;</span><br><span class="line">  sources.<span class="title function_">forEach</span>(<span class="function"><span class="params">source</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> descriptors = <span class="title class_">Object</span>.<span class="title function_">keys</span>(source).<span class="title function_">reduce</span>(<span class="function">(<span class="params">descriptors, key</span>) =&gt;</span> &#123;</span><br><span class="line">      descriptors[key] = <span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(source, key);</span><br><span class="line">      <span class="keyword">return</span> descriptors;</span><br><span class="line">    &#125;, &#123;&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// By default, Object.assign copies enumerable Symbols, too</span></span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">getOwnPropertySymbols</span>(source).<span class="title function_">forEach</span>(<span class="function"><span class="params">sym</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> descriptor = <span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(source, sym);</span><br><span class="line">      <span class="keyword">if</span> (descriptor.<span class="property">enumerable</span>) &#123;</span><br><span class="line">        descriptors[sym] = descriptor;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperties</span>(target, descriptors);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">copy2 = <span class="title function_">completeAssign</span>(&#123;&#125;, obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(copy2);</span><br><span class="line"><span class="comment">// &#123; foo:1, get bar() &#123; return 2 &#125; &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="参见"><a href="#参见" class="headerlink" title="参见"></a>参见</h4><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/zloirock/core-js#ecmascript-object">Polyfill of <code>Object.assign</code> in <code>core-js</code></a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties"><code>Object.defineProperties()</code></a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Enumerability_and_ownership_of_properties">属性的可枚举性和所有权</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Spread_syntax#%E6%9E%84%E9%80%A0%E5%AD%97%E9%9D%A2%E9%87%8F%E5%AF%B9%E8%B1%A1%E6%97%B6%E4%BD%BF%E7%94%A8%E5%B1%95%E5%BC%80%E8%AF%AD%E6%B3%95">构造字面量对象时使用展开语法</a></li>
</ul>
<h2 id="Date常用方法"><a href="#Date常用方法" class="headerlink" title="Date常用方法"></a>Date常用方法</h2><p>Date对象用于处理日期和时间。</p>
<p>创建Date对象的语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var myDate=new Date()</span><br></pre></td></tr></table></figure>

<p>注释：Date 对象会自动把当前日期和时间保存为其初始值。</p>
<p>date对象获取时间日期的方法如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取当前日期时间</span></span><br><span class="line"><span class="keyword">var</span> myDate = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">myDate.<span class="title function_">toLocaleDateString</span>();                <span class="comment">//获取当前日期</span></span><br><span class="line"><span class="keyword">var</span> mytime=myDate.<span class="title function_">toLocaleTimeString</span>();     <span class="comment">//获取当前时间</span></span><br><span class="line">myDate.<span class="title function_">toLocaleString</span>( );                   <span class="comment">//获取日期与时间</span></span><br><span class="line"> </span><br><span class="line">myDate.<span class="title function_">getYear</span>();                <span class="comment">//获取当前年份(2位)</span></span><br><span class="line">myDate.<span class="title function_">getFullYear</span>();            <span class="comment">//获取完整的年份(4位,1970-????)</span></span><br><span class="line">myDate.<span class="title function_">getMonth</span>();               <span class="comment">//获取当前月份(0-11,0代表1月)</span></span><br><span class="line">myDate.<span class="title function_">getDate</span>();                <span class="comment">//获取当前日(1-31)</span></span><br><span class="line">myDate.<span class="title function_">getDay</span>();                 <span class="comment">//获取当前星期X(0-6,0代表星期天)</span></span><br><span class="line">myDate.<span class="title function_">getTime</span>();                <span class="comment">//获取当前时间(从1970.1.1开始的毫秒数)</span></span><br><span class="line">myDate.<span class="title function_">getHours</span>();               <span class="comment">//获取当前小时数(0-23)</span></span><br><span class="line">myDate.<span class="title function_">getMinutes</span>();             <span class="comment">//获取当前分钟数(0-59)</span></span><br><span class="line">myDate.<span class="title function_">getSeconds</span>();             <span class="comment">//获取当前秒数(0-59)</span></span><br><span class="line">myDate.<span class="title function_">getMilliseconds</span>();        <span class="comment">//获取当前毫秒数(0-999)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取当前日期时间</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getDatetime</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="keyword">var</span> year = now.<span class="title function_">getFullYear</span>();       </span><br><span class="line">    <span class="keyword">var</span> month = now.<span class="title function_">getMonth</span>() + <span class="number">1</span>;     </span><br><span class="line">    <span class="keyword">var</span> day = now.<span class="title function_">getDate</span>();            </span><br><span class="line">    <span class="keyword">var</span> hh = now.<span class="title function_">getHours</span>();            </span><br><span class="line">    <span class="keyword">var</span> mm = now.<span class="title function_">getMinutes</span>();          </span><br><span class="line">    <span class="keyword">var</span> ss = now.<span class="title function_">getSeconds</span>();          </span><br><span class="line">    <span class="keyword">var</span> clock = year + <span class="string">&quot;-&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (month &lt; <span class="number">10</span>)</span><br><span class="line">        clock += <span class="string">&quot;0&quot;</span>;</span><br><span class="line">    clock += month + <span class="string">&quot;-&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (day &lt; <span class="number">10</span>)</span><br><span class="line">        clock += <span class="string">&quot;0&quot;</span>;</span><br><span class="line">    clock += day + <span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (hh &lt; <span class="number">10</span>)</span><br><span class="line">        clock += <span class="string">&quot;0&quot;</span>;</span><br><span class="line">    clock += hh + <span class="string">&quot;:&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (mm &lt; <span class="number">10</span>) clock += <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    clock += mm + <span class="string">&quot;:&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (ss &lt; <span class="number">10</span>) clock += <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    clock += ss;</span><br><span class="line">    <span class="keyword">return</span> clock;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取当前日期时间</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">timestampToTime</span>(<span class="params">timestamp</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(timestamp);</span><br><span class="line">    <span class="keyword">var</span> Y = date.<span class="title function_">getFullYear</span>() + <span class="string">&#x27;-&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> M = (date.<span class="title function_">getMonth</span>() + <span class="number">1</span> &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + (date.<span class="title function_">getMonth</span>() + <span class="number">1</span>) : date.<span class="title function_">getMonth</span>() + <span class="number">1</span>) + <span class="string">&#x27;-&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> D = date.<span class="title function_">getDate</span>() &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + date.<span class="title function_">getDate</span>() : date.<span class="title function_">getDate</span>() + <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> hh = date.<span class="title function_">getHours</span>() &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + date.<span class="title function_">getHours</span>() : date.<span class="title function_">getHours</span>() + <span class="string">&#x27;:&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> mm = date.<span class="title function_">getMinutes</span>() &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + date.<span class="title function_">getMinutes</span>() : date.<span class="title function_">getMinutes</span>() + <span class="string">&#x27;:&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> ss = date.<span class="title function_">getSeconds</span>() &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + date.<span class="title function_">getDate</span>() : date.<span class="title function_">getSeconds</span>() ;</span><br><span class="line">    <span class="keyword">return</span> Y + M + D + hh + mm + ss;&#125;</span><br></pre></td></tr></table></figure>



<p>踩过这个坑，还有下一个坑等着你，这一路就是给自己填坑，坑填多了，也就习惯了，直到这一路平坦了，也就无怨无悔了。</p>
<p>转载 ： <a target="_blank" rel="noopener" href="https://www.cnblogs.com/xiaofeilin/p/14468107.html">https://www.cnblogs.com/xiaofeilin/p/14468107.html</a></p>
<p>-————————————————————————</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">onConfirm(date) &#123;</span><br><span class="line">    const date1 = this.timestampToTime(date);</span><br><span class="line">    console.log(date1);</span><br><span class="line">    this.text = ` $&#123;date1&#125; `;</span><br><span class="line">  &#125;,</span><br><span class="line">  onSubmit(values) &#123;</span><br><span class="line">    console.log(&quot;submit&quot;, values);</span><br><span class="line">  &#125;,</span><br><span class="line">  onClickLeft() &#123;</span><br><span class="line">    this.$router.push(&#123;</span><br><span class="line">      path: &quot;/home/index&quot;,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  // 获取当前日期时间</span><br><span class="line">  timestampToTime(timestamp) &#123;</span><br><span class="line">    var date = new Date(timestamp);</span><br><span class="line">    var Y = date.getFullYear() + &quot;-&quot;;</span><br><span class="line">    var M =</span><br><span class="line">      (date.getMonth() + 1 &lt; 10</span><br><span class="line">        ? &quot;0&quot; + (date.getMonth() + 1)</span><br><span class="line">        : date.getMonth() + 1) + &quot;-&quot;;</span><br><span class="line">    var D = date.getDate() &lt; 10 ? &quot;0&quot; + date.getDate() : date.getDate() + &quot; &quot;;</span><br><span class="line">    var text = &quot; &quot;;</span><br><span class="line">    var hh =</span><br><span class="line">      date.getHours() &lt; 10 ? &quot;0&quot; + date.getHours() : date.getHours() + &quot;:&quot;;</span><br><span class="line">    var mm =</span><br><span class="line">      date.getMinutes() &lt; 10</span><br><span class="line">        ? &quot;0&quot; + date.getMinutes()</span><br><span class="line">        : date.getMinutes() + &quot;:&quot;;</span><br><span class="line">    var ss =</span><br><span class="line">      date.getSeconds() &lt; 10 ? &quot;0&quot; + date.getDate() : date.getSeconds();</span><br><span class="line">    return Y + M + D + text + hh + mm + ss;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/image-20221114205956862.png" alt="image-20221114205956862"> </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">onConfirm(date) &#123;</span><br><span class="line">      var now = new Date();</span><br><span class="line">      var Today = now.getDate();</span><br><span class="line"></span><br><span class="line">      const date2 = date.getDate(); //签到的时间</span><br><span class="line">      if (Today != date2) &#123;</span><br><span class="line">        Toast.fail(&quot;请选择今天日期,签到！&quot;);</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        const date1 = this.timestampToTime(date);</span><br><span class="line">        this.text = ` $&#123;date1&#125; `;</span><br><span class="line">        Toast.success(&quot;签到成功&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>



<h1 id="案例训练"><a href="#案例训练" class="headerlink" title="案例训练"></a>案例训练</h1><h2 id="数据类型-1"><a href="#数据类型-1" class="headerlink" title="数据类型"></a>数据类型</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">    <span class="attr">n</span>: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> b = a;</span><br><span class="line">a.<span class="property">x</span> = a = &#123;</span><br><span class="line">    <span class="attr">n</span>: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="property">x</span>); <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// &#123;n: 1, x: &#123;n: 2&#125;&#125;</span></span><br></pre></td></tr></table></figure>

<p>操作符的优先级：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/liyongquan/p/9359523.html">js运算符优先级 </a></p>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/2022%E5%B9%B49%E6%9C%8824%E6%97%A5.png" alt="堆栈内存图01"></p>
<ul>
<li>成员访问的优先级为18，赋值的优先级为3</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;abc&#x27;</span> + <span class="number">123</span> + <span class="number">456</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&#x27;456&#x27;</span> - <span class="string">&#x27;123&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="number">100</span> + <span class="literal">true</span> + <span class="number">21.2</span> + <span class="literal">null</span> + <span class="literal">undefined</span> + <span class="string">&quot;Tencent&quot;</span> + [] + <span class="literal">null</span> + <span class="number">9</span> + <span class="literal">false</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, c)</span><br></pre></td></tr></table></figure>

<h2 id="判断逻辑"><a href="#判断逻辑" class="headerlink" title="判断逻辑"></a>判断逻辑</h2><h3 id="判断数字正负"><a href="#判断数字正负" class="headerlink" title="判断数字正负"></a>判断数字正负</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myinput = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.myinput&#x27;</span>),</span><br><span class="line">    btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.calc&#x27;</span>),</span><br><span class="line">    res = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.value&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// const inputValue = Number(myinput.value)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> validateNumber = <span class="keyword">function</span> <span class="title function_">validateNumber</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> inputValue = myinput.<span class="property">value</span></span><br><span class="line">        <span class="keyword">if</span>(inputValue === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">            res.<span class="property">innerHTML</span> = <span class="string">&#x27;请输入&#x27;</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">const</span> numberValue = <span class="title class_">Number</span>(inputValue)</span><br><span class="line">        <span class="comment">// if(String(numberValue) === &#x27;NaN&#x27;) &#123;</span></span><br><span class="line">        <span class="comment">//     res.innerHTML = `输入为：$&#123;inputValue&#125;，请输入有效数字`</span></span><br><span class="line">    </span><br><span class="line">        <span class="comment">// &#125; else if(numberValue === 0) &#123;</span></span><br><span class="line">        <span class="comment">//     res.innerHTML = `输入为：$&#123;inputValue&#125;`</span></span><br><span class="line">        <span class="comment">// &#125; else &#123;</span></span><br><span class="line">        <span class="comment">//     res.innerHTML = numberValue &gt; 0 ? `结果为：$&#123;numberValue&#125;，正数` : `结果为：$&#123;numberValue&#125;，负数`</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">isNaN</span>(numberValue)) &#123;</span><br><span class="line">            <span class="keyword">if</span>(numberValue === <span class="number">0</span>) &#123;</span><br><span class="line">                    res.<span class="property">innerHTML</span> = <span class="string">`输入为：<span class="subst">$&#123;inputValue&#125;</span>`</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                res.<span class="property">innerHTML</span> = numberValue &gt; <span class="number">0</span> ? <span class="string">`结果为：<span class="subst">$&#123;numberValue&#125;</span>，正数`</span> : <span class="string">`结果为：<span class="subst">$&#123;numberValue&#125;</span>，负数`</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res.<span class="property">innerHTML</span> = <span class="string">`输入为：<span class="subst">$&#123;inputValue&#125;</span>，请输入有效数字`</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, validateNumber)</span><br><span class="line"></span><br><span class="line">myinput.<span class="title function_">addEventListener</span>(<span class="string">&#x27;keydown&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(event.<span class="property">keyCode</span> === <span class="number">13</span>) &#123;</span><br><span class="line">        <span class="title function_">validateNumber</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>判断数字输入正负<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./style.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>判断数字输入正负<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;myinput&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;calc&quot;</span>&gt;</span>点击计算<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;value&quot;</span>&gt;</span>结果为：<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.myinput</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">99</span>, <span class="number">99</span>, <span class="number">99</span>);</span><br><span class="line">    <span class="attribute">outline</span>: none;</span><br><span class="line">    <span class="attribute">letter-spacing</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-class">.myinput</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">    <span class="attribute">outline</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">71</span>, <span class="number">197</span>, <span class="number">255</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-class">.calc</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid grey;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.value</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">290px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="奇偶判定"><a href="#奇偶判定" class="headerlink" title="奇偶判定"></a>奇偶判定</h3><p>判断输入的数字是偶数还是奇数</p>
<p>偶数条件:能被2整除(或者除以2余数为0 &#x3D;&gt; N%2是取余数)</p>
<h3 id="成绩判定"><a href="#成绩判定" class="headerlink" title="成绩判定"></a>成绩判定</h3><p>根据输入的分数,判定成绩等级</p>
<p>说明: 90分及以上“优秀”80分及以 上”中等”70分及以 上”及格”70分以下”不及格”</p>
<h3 id="年终奖发放判定"><a href="#年终奖发放判定" class="headerlink" title="年终奖发放判定"></a>年终奖发放判定</h3><p>某个公司要给员工发年终奖,为了奖励老员工,所以工作时间越长,发的越多,规则如下:</p>
<p>工作满0年，发月薪的1倍月薪年终奖,如果月薪大于8000 ,那么就是发1.2倍<br>工作满1年，发月薪的1.5倍月薪年终奖,如果月薪大于10000 ,那么就是发1.7倍<br>工作满2年甚至更多，发月薪的3倍月薪年终奖,如果月薪大于12000,那么就是发3.2倍<br>编写JS程序,当用户输入自己的工作年限和薪资后,计算并且输出应得的年终奖~~</p>
<h3 id="加油优惠"><a href="#加油优惠" class="headerlink" title="加油优惠"></a>加油优惠</h3><p>一个加油站为了鼓励车主多加油,所以加的多有优惠。</p>
<p>92号汽油，每升6元;如果大于等于20升,那么每升5.9元.<br>97号汽油，每升7元;如果大于等于30升,那么每升6.95元<br>编写JS程序,用户输入自己的汽油编号,然后输入自己加多少升,计算并且输出应付价格~~</p>
<h3 id="奇偶行变色"><a href="#奇偶行变色" class="headerlink" title="奇偶行变色"></a>奇偶行变色</h3><p>同时，鼠标滑过的时候，实现变色</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ulEle = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.container&#x27;</span>),</span><br><span class="line">    liEle = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.item&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; liEle.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> liItem = liEle[i]</span><br><span class="line">    liItem.<span class="property">style</span>.<span class="property">backgroundColor</span> = i % <span class="number">2</span> === <span class="number">0</span> ? <span class="string">&#x27;#ddd&#x27;</span> : <span class="string">&#x27;#fff&#x27;</span> <span class="comment">// 初始化背景颜色</span></span><br><span class="line">    <span class="comment">// let currentBgc = liItem.style.backgroundColor // 记录初始背景颜色</span></span><br><span class="line">    <span class="comment">// 使用自定义属性，存储背景颜色</span></span><br><span class="line">    <span class="comment">// 自定义属性编程思想：前期把一些值存储到元素的自定义属性上，后期需要用到的时候，直接从属性上获取到这些值即可</span></span><br><span class="line">    liItem.<span class="property">myOriginBg</span> = liItem.<span class="property">style</span>.<span class="property">backgroundColor</span></span><br><span class="line"></span><br><span class="line">    liItem.<span class="property">onmouseover</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="comment">// 鼠标滑过改变背景颜色</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;lightblue&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    liItem.<span class="property">onmouseout</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="comment">// 鼠标移出恢复背景颜色</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="variable language_">this</span>.<span class="property">myOriginBg</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>奇偶行变色<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./style.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>奇偶行变色<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>我是item001<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>我是item002<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>我是item003<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>我是item004<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>我是item005<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid skyblue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-class">.item</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> dashed grey;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-class">.item</span><span class="selector-pseudo">:first</span>-child &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-class">.item</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 真实项目css实现更方便一点，为了练习使用js实现 */</span></span><br><span class="line"><span class="comment">/* li.item:nth-child(2n) &#123;</span></span><br><span class="line"><span class="comment">    background-color: rgb(100, 100, 100);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">li.item:hover &#123;</span></span><br><span class="line"><span class="comment">    background-color: rgb(56, 63, 70);</span></span><br><span class="line"><span class="comment">&#125; */</span></span><br></pre></td></tr></table></figure>



<h2 id="选项卡案例"><a href="#选项卡案例" class="headerlink" title="选项卡案例"></a>选项卡案例</h2><p>拥有active选中样式类的显示</p>
<ul>
<li><p>循环li时，使用var声明i时的解决方案：</p>
<ul>
<li><p>增加自定义属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;navList.<span class="property">length</span>; i++) &#123;</span><br><span class="line">	navList[i].<span class="property">myIndex</span> = i</span><br><span class="line">    navList.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">changeTab</span>(<span class="variable language_">this</span>.<span class="property">myIndex</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用闭包</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;navList.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    navList[i].<span class="property">onclick</span> = (<span class="keyword">function</span>(<span class="params">i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="title function_">changeTab</span>(i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>当然了，可以使用let关键字，有自己的块级作用域</p>
</li>
</ul>
<h2 id="扩展题"><a href="#扩展题" class="headerlink" title="扩展题"></a>扩展题</h2><p>1.浏览器常用的输出方式，除了 <code>console.log</code>还有哪些 ?</p>
<p>2.<code>&lt; script &gt;</code>标签放到页面头部和尾部的区别，以及解决办法?</p>
<hr>
<h2 id="title-js底层核心概念date-2022-10-14-05-58-44cover-falsetags-javascriptcategories-‘javascript’typora-root-url-js底层核心概念"><a href="#title-js底层核心概念date-2022-10-14-05-58-44cover-falsetags-javascriptcategories-‘javascript’typora-root-url-js底层核心概念" class="headerlink" title="title: js底层核心概念date: 2022-10-14 05:58:44cover: falsetags:- javascriptcategories: ‘javascript’typora-root-url: js底层核心概念"></a>title: js底层核心概念<br>date: 2022-10-14 05:58:44<br>cover: false<br>tags:<br>- javascript<br>categories: ‘javascript’<br>typora-root-url: js底层核心概念</h2><h1 id="JS核心概念"><a href="#JS核心概念" class="headerlink" title="JS核心概念"></a>JS核心概念</h1><h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><h3 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h3><p>一种遵从先进后出（LIFO）原则的有序集合；</p>
<p>新添加的或待删除的都保存在栈的末尾，称作栈顶，另一端为栈底。</p>
<p>在栈里，新元素都靠近栈顶，旧元素都接近栈底。</p>
<p>栈知识对原有数据的一次封装而已。</p>
<p>而封装的结果是：并不关心其内部的元素是什么，只是去操作栈顶元素，这样的话，在编码中会更可控一些。</p>
<p>定义一个栈</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### 队列</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">与上相反，一种遵循先进先出（FIFO）原则的一组有序的项；</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">队列在尾部添加新元素，并从头部移除元素。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">最新添加的元素必须排在队列的末尾。例如日常生活中的购物排队。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">与栈类比，栈仅能操作其头部，队列则首尾均能操作，但仅能在头部出尾部进</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">定义一个队列</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br></pre></td></tr></table></figure>

<h3 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h3><p>存储有序的元素集合，但不同于数组，链表中的元素在内存中并不是连续放置的；</p>
<p>每个元素有一个存储本身的节点和一个指向下一个元素的引用（指针&#x2F;链接）组成</p>
<h3 id="集合-1"><a href="#集合-1" class="headerlink" title="集合"></a>集合</h3><p>由一组无序且唯一（即不能重复）的项组成；</p>
<p>这个数据结构使用了与有限集合相同的数学概念，但引用在计算机科学的数据结构中。</p>
<h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><p>以[键，值]对为数据形态的数据结构，其中键名用来查询特定元素，类似于JS中的Object</p>
<h3 id="散列"><a href="#散列" class="headerlink" title="散列"></a>散列</h3><p>根据关键码（Key Value）直接进行访问的数据结构；</p>
<p>它通过把关键码值映射到表中的一个位置来访问记录，以加快查找的速度；</p>
<p>这个映射函数叫做散列函数，存放记录的数组叫做散列表</p>
<h3 id="树"><a href="#树" class="headerlink" title="树"></a>树</h3><p>表示一对多关系</p>
<p>由n（n&gt;&#x3D;1）个有限节点组成一个具有层次关系的集合；</p>
<p>把它叫做“树”是因为它看起来像一颗倒挂的树，基本呈一对多关系，树也可以看做是图的特殊形式</p>
<h3 id="图"><a href="#图" class="headerlink" title="图"></a>图</h3><p>表示多对多关系</p>
<p>图是网络结构的抽象模型；</p>
<p>图是一组由边连接的节点（顶点）</p>
<p>任何二元关系都可以用图来表示，常见的比如：道路图、关系图、呈现多对多关系</p>
<h2 id="堆栈内存"><a href="#堆栈内存" class="headerlink" title="堆栈内存"></a>堆栈内存</h2><p>浏览器想要执行JS代码:</p>
<p>1.从电脑内存中分配出一块内存，用来执行代码(栈内存&#x3D;&gt;Stack)</p>
<ul>
<li>执行代码、存储变量和基本类型值</li>
<li>js中的赋值，是关联引用模式，而不是拷贝模式</li>
</ul>
<p>2.分配一个主线程用来自上而下执行js代码</p>
<h3 id="栈内存"><a href="#栈内存" class="headerlink" title="栈内存"></a>栈内存</h3><p>栈（stack）中主要存放一些基本类型的变量和对象的引用，（包含池，池存放常量）；</p>
<p>其优势是存取速度比堆要快，并且栈内的数据可以共享；</p>
<p>但缺点是存在栈中的数据大小与生存期必须是确定的，缺乏灵活性；</p>
<p>先进后出，后进先出原则，所以push优于unshift</p>
<h3 id="堆内存"><a href="#堆内存" class="headerlink" title="堆内存"></a>堆内存</h3><p>堆（heap）用于复杂数据类型（引用类型）分配空间，例如数组对象、object对象;</p>
<p>它是运行时动态分配内存的，因此存取速度较慢</p>
<h2 id="数据类型内存机制"><a href="#数据类型内存机制" class="headerlink" title="数据类型内存机制"></a>数据类型内存机制</h2><p>js的数据类型主要分为两种：基本类型值和引用类型值</p>
<h3 id="基本数据类型-1"><a href="#基本数据类型-1" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><p>基本类型值有6种：undefined、null、boolean、number、string、symbol。</p>
<p>这六种数据类型是按值访问的，是存放在栈内存中的简单数据段，数据大小确定，内存空间大小可以分配。</p>
<p>基本类型值的复制是值的传递，赋值以后二者再无关联，修改其中一个不会影响另一个。</p>
<h3 id="引用数据类型"><a href="#引用数据类型" class="headerlink" title="引用数据类型"></a>引用数据类型</h3><p>引用类型值：6中基本类型值以外的数据类型，都可以看作是引用类型值；</p>
<p>比如array，object等，是保存在堆内存中对象。</p>
<p>js不允许直接访问堆内存中的位置，也就是说不能直接操作对象的内存空间。</p>
<p>在操作对象时，实际是在操作对象的引用而不是实际的对象，是按地址访问的。</p>
<p>直接传递引用类型值的时候，传递的知识引用，二者指向同一块内存，所以修改其中一个，必然会引起另一个变量的变化。</p>
<p>在日常的使用中，我们把对象赋值给一个变量时，通常希望得到的是一个跟原对象无关的的副本，修改新的变量不影响原对象，因此就有了浅拷贝和深拷贝</p>
<h3 id="内存角度分析变量声明及定义"><a href="#内存角度分析变量声明及定义" class="headerlink" title="内存角度分析变量声明及定义"></a>内存角度分析变量声明及定义</h3><p><code>let a = 12;</code></p>
<ol>
<li><p>创建变量a，放到当前栈内存变量存储区域中</p>
</li>
<li><p>创建一个值12 ,把它存储到当前栈内存值区域中（简单的基本类型值是这样存储的,复杂的引用类型值不是这样做的）</p>
<p>复杂值(引用类型值)的存储,又分成了三个步骤，<code>let obj = &#123;name: &#39;sai&#39;&#125;</code>:	</p>
<ol>
<li>在内存中分配出一块新内存,用来存储引用类型值(堆内存&#x3D;&gt;heap) &#x3D;&gt;内存有一个16进制地址</li>
<li>把对象中的键值对(属性名:属性值)依次存储到堆内存中</li>
<li>把堆内存地址和变量关联起来</li>
</ol>
</li>
<li><p>&#x3D;为赋值，其实赋值是让变量和值相互关联的过程</p>
</li>
</ol>
<h2 id="作用域与作用域链"><a href="#作用域与作用域链" class="headerlink" title="作用域与作用域链"></a>作用域与作用域链</h2><p>对于几乎所有的编程语言来说，最基本的功能之一，就是储存变量当中的值并且能在之后对这个值进行访问和修改。这种能力的引入，是程序的状态存在的基础。</p>
<p>但是，能力的引入需要我们解决几个问题，例如：变量存储在哪里？以何种形式存储？需要读取和修改变量的时候，以什么方式获取到这个变量？</p>
<p>很明显，为了解决这些问题，我们需要一套设计良好的规则来存储变量，并且之后可以方便的找到这些变量。与此同时，整套完整规则的设计就会衍生出额外规则概念。而作用域，就是这套规则下衍生出来的概念。</p>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><p>链接：<a target="_blank" rel="noopener" href="https://juejin.cn/post/7152863269353422855">https://juejin.cn/post/7152863269353422855</a></p>
<p>我们可以把作用域理解为上面讲到的这套规则下的限定范围。作用域的职责是，在这段限定范围中根据这套设计好的规则存储所声明的变量，并且提供修改该变量的支持。在变量的访问权限安全上，作用域还承担着保护当前作用域内的变量不被外部作用域访问的权限保护作用。</p>
<p>通过类比，我们可以把作用域想象成一个气泡。在这个气泡里所声明的变量成员被包含在其中。每个气泡都配备有一位有原则的管家，将所有的成员管理起来，并针对他们声明的位置和要求对它们提供保护。当气泡中代码语句想要访问和修改变量成员时，管家会结合变量成员的要求关联对应访问和修改操作。</p>
<p>随着ECMAScript标准的不断发展和完善，JavaScript目前存在着四种作用域类型：</p>
<ul>
<li>全局作用域（Global Scope）: JavaScript语言环境的最顶级作用域，在语言环境初始化时创建。</li>
<li>模块作用域（Module Scope）: 由ECMAScript模块标准（ES Module）引入，在解析ECMAScript模块时创建。</li>
<li>函数作用域（Function Scope）: 在函数声明<code>function() &#123;&#125;</code>或者<code>() =&gt; &#123;&#125;</code>时创建。<ul>
<li>可人为创建</li>
</ul>
</li>
<li>块级作用域（Block Scope）: 由ECMAScript2015的变量声明标识符<code>let</code>和<code>const</code>引入，在使用这两者进行变量声明时，根据最近的一对花括号<code>&#123;&#125;</code>创建。<ul>
<li>可人为创建</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 全局作用域 start，JavaScript语言环境初始化时就被创建 */</span></span><br><span class="line"><span class="comment">/* 模块作用域 start，作为ES Module解析和执行时被创建 */</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;Wu&#x27;</span>;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">/* 块级作用域 start，const进行变量声明在最近的花括号&#123;&#125;内创建 */</span></span><br><span class="line">  <span class="keyword">const</span> prefix = <span class="title class_">Hardy</span>;</span><br><span class="line">  name = prefix + name;</span><br><span class="line">  <span class="comment">/* 块级作用域 end */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">sayMyName</span>(<span class="params">myName</span>) &#123;</span><br><span class="line">  <span class="comment">/* 函数作用域 start，函数声明时自动创建，初始化默认包含函数的形参变量 */</span></span><br><span class="line">  <span class="keyword">if</span> (!myName) &#123;</span><br><span class="line">    <span class="comment">/* 块级作用域 start */</span></span><br><span class="line">    <span class="keyword">const</span> noNameAnswer = <span class="string">&#x27;Sorry!&#x27;</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(noNameAnswer);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">/* 块级作用域 end */</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> wordPrifix = <span class="string">&#x27;Hi! My Name is &#x27;</span>;</span><br><span class="line">  <span class="keyword">const</span> answer = wordPrifix + myName + <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(answer);</span><br><span class="line">  <span class="comment">/* 函数作用域 end */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 模块作用域 end */</span></span><br><span class="line"><span class="comment">/* 全局作用域 end */</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="作用域的嵌套"><a href="#作用域的嵌套" class="headerlink" title="作用域的嵌套"></a>作用域的嵌套</h3><p>作用域在使用上具有嵌套特征。一个作用域能够在自身内部创建一个新作用域从而形成内部和外部作用域的嵌套关系。</p>
<p>全局作用域作为JavaScript的初始作用域，是所有其他作用域最外层的作用域。另外，每一个ES Module都具有模块自己的顶级作用域（top-level scope），模块中的顶级作用域变量和函数都包含在这个模块顶级作用域中，而模块作用域的外部作用域是全局作用域。而函数作用域和块级作用域则相对比较灵活，可以相互嵌套。</p>
<h3 id="作用域的一些实现细节"><a href="#作用域的一些实现细节" class="headerlink" title="作用域的一些实现细节"></a>作用域的一些实现细节</h3><p>在JavaScript中，每一个函数、代码块<code>&#123;...&#125;</code>以及<code>script</code>脚本被运行前，都会有一个相对应的称为<strong>词法环境（Lexical Environment）</strong> 的内部关联对象被创建。</p>
<p>词法环境由两部分组成：</p>
<ul>
<li><strong>环境记录（Environment Record）</strong>：一个存储所有局部变量作为其属性（包括一些执行上下文信息，例如<code>this</code>的值）的对象。</li>
<li><strong>外部词法环境引用（Outer）</strong>：对外部词法环境的引用，以此关联外部词法环境。</li>
</ul>
<p>代码执行的过程中，每一个局部变量和局部函数的声明，都会作为一个属性字段被添加到环境记录中，后续对变量和函数的读取则通过对应标识符在环境记录中进行查找。	</p>
<p>根据上面的概念，我们可以通过下面的对象结构理解词法环境：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">lexicalEnvironment = &#123;</span><br><span class="line">  <span class="attr">environmentRecord</span>: &#123;</span><br><span class="line">    &lt;identifier&gt;: &lt;value&gt;,</span><br><span class="line">    &lt;identifier&gt;: &lt;value&gt;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">outer</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">Reference</span> <span class="attr">to</span> <span class="attr">the</span> <span class="attr">parent</span> <span class="attr">lexical</span> <span class="attr">environment</span>&gt;</span>,</span></span><br><span class="line"><span class="language-xml">&#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br></pre></td></tr></table></figure>

<p>再来通过下面的代码例子来理解词法环境：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  当前模块运行时，模块的词法环境被创建，  </span></span><br><span class="line"><span class="comment">moduleLexicalEnvironment = &#123;    </span></span><br><span class="line"><span class="comment">	environmentRecord: &#123;      </span></span><br><span class="line"><span class="comment">		name: &lt;uninitialized&gt;,      </span></span><br><span class="line"><span class="comment">		sayName: &lt;reference to function object&gt;,    </span></span><br><span class="line"><span class="comment">	&#125;,    </span></span><br><span class="line"><span class="comment">	outer: &lt;globalLexicalEnvironment&gt;,  </span></span><br><span class="line"><span class="comment">	&#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;Hardy&#x27;</span>;</span><br><span class="line"><span class="comment">/*  变量声明和赋值，修改环境记录的字段属性值，  </span></span><br><span class="line"><span class="comment">moduleLexicalEnvironment = &#123;    </span></span><br><span class="line"><span class="comment">	environmentRecord: &#123;      </span></span><br><span class="line"><span class="comment">        name: &#x27;Hardy&#x27;,      </span></span><br><span class="line"><span class="comment">        sayName: &lt;reference to function object&gt;,    </span></span><br><span class="line"><span class="comment">	&#125;,    </span></span><br><span class="line"><span class="comment">	outer: &lt;globalLexicalEnvironment&gt;,  </span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayName</span>(<span class="params">myName</span>) &#123;</span><br><span class="line">  <span class="comment">/*    执行函数时，函数的词法环境被创建，    </span></span><br><span class="line"><span class="comment">  functionLexicalEnvironment = &#123;      </span></span><br><span class="line"><span class="comment">  	environmentRecord = &#123;        </span></span><br><span class="line"><span class="comment">  		myName: &#x27;Hardy&#x27;,      </span></span><br><span class="line"><span class="comment">    &#125;,      </span></span><br><span class="line"><span class="comment">    outer: &lt;moduleLexicalEnvironment&gt;,    </span></span><br><span class="line"><span class="comment">    &#125;  </span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  <span class="comment">/* 通过读取环境记录的对应标识符字段属性值获取myName的变量值 */</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(myName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">sayName</span>(); <span class="comment">// Hardy</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>我们来分析下上面的代码例子。</p>
<p>根据声明提前的特性，变量<code>name</code>和函数<code>sayName</code>都会在模块的词法环境创建时被添加在环境记录中。但是，由于<code>let</code>的暂时性死区特性，变量<code>name</code>在自身声明和初始化赋值之前处于不可引用和未初始化状态。函数的声明则不同，除了声明提前外还会初始化函数的引用。这就是我们可以在函数执行声明语句前调用函数的原因。另外，函数的词法环境在被创建时，对应函数的参数会被初始化在环境记录中，并且会被赋值上调用函数时的所传值或者函数参数的默认值。</p>
<p>在<code>outer</code>引用方面，模块词法环境<code>moduleLexicalEnvironment</code>的<code>outer</code>引用指向JavaScript最外部的全局词法环境<code>globalLexicalEnvironment</code>，而函数词法环境<code>functionLexicalEnvironment</code>的<code>outer</code>引用指向外部的模块词法环境<code>moduleLexicalEnvironment</code>。</p>
<p>我们可以看出，词法环境是JavaScript对作用域概念的内部技术实现。它是JavaScript引擎创建一个执行上下文时，创建用来存储变量和函数声明的环境。代码执行过程中，通过它访问到存储在其内部的变量和函数。在代码执行完毕后，执行上下文会从堆栈中被销毁回收，而词法环境也会根据情况的被销毁（如果词法环境被其他外部的词法环境所引用，则不会被销毁回收，例如闭包）。</p>
<h3 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h3><p>作用域可以嵌套，嵌套在内部的作用域可以访问外部的作用域所声明的变量和函数。通过上面词法环境的介绍，我们大概清楚，作用域的这种嵌套关系是通过词法环境的外部词法环境引用<code>outer</code>来关联实现的。这种词法环境的外部引用的关联关系，构建了一条单向的词法环境的链条。这就是我们常说的作用域链。</p>
<p>本质上，作用域链是JavaScript引擎给所执行代码维护的一条词法环境链条。代码执行中对外部作用域的变量的引用，通过这一条链条进行变量的查找、读取、修改。</p>
<p>代码执行中对某个变量的访问大致如下：</p>
<ul>
<li>当代码要访问一个变量时，首先会搜索当前内部词法环境。如果搜索成功，就返回对一个变量值或变量引用，结束搜索。如果搜索不到，则通过<code>outer</code>引用继续搜索外部词法环境，以此类推，直到全局词法环境。</li>
<li>如果在任何地方都找不到这个变量，那么在严格模式下就会报错。</li>
</ul>
<p>根据上面的概念，我们来看看下面的例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> phrase = <span class="string">&#x27;Hello&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="comment">/*    函数的作用域链,    functionLexicalEnvironment&#123; name: &#x27;Hardy&#x27; &#125; ==outer==&gt;    moduleLexicalEnvironment&#123; phrase: &#x27;Hello&#x27; &#125; ==outer==&gt;    globalLexicalEnvironment        变量name从当前functionLexicalEnvironment中查找到并获取，    变量phrase沿作用域链查找，从moduleLexicalEnvironment中查找到并获取  */</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;phrase&#125;</span>, <span class="subst">$&#123;name&#125;</span>!`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">sayHello</span>(<span class="string">&#x27;Hardy&#x27;</span>); <span class="comment">// Hello, Hardy!</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>上面例子中，函数<code>sayHello</code>在内部引用了<code>name</code>和<code>phrase</code>两个变量，函数被调用的执行时会创建<code>functionLexicalEnvironment &gt; moduleLexicalEnvironment &gt; globalLexicalEnvironment</code>的作用域链。</p>
<p>其中，变量<code>name</code>作为函数参数属于当前函数作用域的局部变量，变量可以直接从当前函数的词法环境<code>functionLexicalEnvironment</code>中查找到并返回相关信息。而变量<code>phrase</code>属于外部作用域中声明的变量，存储在外部的模块词法环境<code>moduleLexicalEnvironment</code>中。函数<code>sayHello</code>引用变量<code>phrase</code>，会首先从在自身函数词法环境<code>functionLexicalEnvironment</code>中进行查找，查找不到后，会沿外部词法环境引用<code>outer</code>找到模块词法环境<code>moduleLexicalEnvironment</code>，并从中继续进行变量的查找，查找到了并返回变量的相关信息。</p>
<p>值得注意的是<code>console.log()</code>是全局内置对象<code>console</code>上的方法，对该方法的调用需要引用<code>console</code>。这个变量的引用会沿作用域链一直查找到全局词法环境<code>globalLexicalEnvironment</code>中，从中查找到并返回相关变量信息。</p>
<p>变量标识符解析和引用的过程就是沿作用域链迭代查找变量是否在作用域链节点中并返回变量相关信息的过程。</p>
<h3 id="相关优化"><a href="#相关优化" class="headerlink" title="相关优化"></a>相关优化</h3><p>综合上面的标识符的解析过程和作用域以及作用域链的关系，我们可以了解到，变量标识符解析的性能是和变量标识符所处在作用域链中的位置是息息相关的。变量标识符所出的作用域节点越靠近整个作用域链的前端，则需要沿作用域链迭代查找的次数就越少，变量标识符解析的速度就会越快，性能就越好。</p>
<p>这种标识符解析性能的规律，让我们可以得出以下使用变量的优化点：</p>
<ul>
<li>对于频繁引用的外部作用域的变量，可以根据情况在当前作用域内声明赋值为局部变量后使用。</li>
<li>减少作用域增强<code>with</code>语句的使用。</li>
</ul>
<p>外部作用域变量标识符的多次引用，会造成执行过程中的标识符解析沿作用域链查找的频繁执行，这种查找在第一次解析引用时是必须的，但是后续解析引用却是重复的。将外部作用域变量通过在当前作用域内声明赋值为局部变量，可以优化后续查找的需要经过的作用域链节点个数，得到一定的性能提升。</p>
<p><code>with</code>语句可以在当前作用域链前端临时添加一个词法环境，从而在位置构建和使用新的作用域链。但是这方式问题也很显而易见：作用域链被加长了，除了被添加到前端的词法环境中的存储的变量外，其他变量的标识符解析性能都会变差。因此，我们应该减少<code>with</code>语句的使用。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>随着JavaScript语言的发展，语言中的作用域的种类也变得丰富起来，不再局限于函数作用域作为最小变量声明范围来使用，而是可以基于更小范围的跨级作用域来管理我们的变量引用范围。变量的管理变得更加的灵活、安全。</p>
<p>作用域链是作用域链嵌套的结构产物，所有变量标识符的解析和引用会沿着作用域链进行查找。而词法环境，是JavaScript对于作用域的内部技术实现。深入了解词法环境后，也让我们更清楚代码在解析变量标识符时的内部执行过程。也根据这个过程，我们大概总结出了两点关于作用域和变量使用的性能优化点。</p>
<p>作用域的使用作为每一位JavaScript开发人员的必修课，了解得深入才能在使用它的时候不再迷茫。它就像空气，存在于JavaScript的许多地方，值得我们去好好了解。</p>
<h2 id="变量生命周期"><a href="#变量生命周期" class="headerlink" title="变量生命周期"></a>变量生命周期</h2><p>定义一个变量到这个变量被回收发生了什么<br>变量和内存之间的关系，是由三个部分组成：变量名、内存绑定和内存地址</p>
<h2 id="上下文"><a href="#上下文" class="headerlink" title="上下文"></a>上下文</h2><p>执行上下文</p>
<ul>
<li>代码执行时，创建上下文</li>
<li>所有代码执行完成后，销毁上下文	</li>
<li>每一个上下文，都有一个相关联的变量对象（VO：Variable Object）</li>
<li>当前上下文中，定义的变量和对象都存储在VO上</li>
</ul>
<p>全局上下文</p>
<ul>
<li><p>GO(Global Object)，浏览器环境下，就是window对象，GO是特殊的VO</p>
</li>
<li><p>var关键字声明变量，存储在GO上（给GO对象添加属性），即</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">a</span>) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>function关键字声明函数，存储在GO上</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">a</span>)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">aFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">aFunc</span>()	</span><br></pre></td></tr></table></figure>
</li>
<li><p>js代码执行之前，浏览器首先会默认把所有带var和function关键字的变量，进行提前声明或定义(存储在GO上)</p>
</li>
<li><p>关联this到GO(window)</p>
</li>
<li><p>JS线程全局上下文维护着当前一次执行过程（宏任务）中，产生的微任务队列，在宏任务执行完后，会执行所有的微任务，之后GUI渲染线程才会进行渲染</p>
</li>
</ul>
<p>函数上下文</p>
<ul>
<li>见函数底层执行机制 &gt; 函数的执行</li>
</ul>
<h2 id="变量提升，函数提升、浏览器解析变量的机制"><a href="#变量提升，函数提升、浏览器解析变量的机制" class="headerlink" title="变量提升，函数提升、浏览器解析变量的机制"></a>变量提升，函数提升、浏览器解析变量的机制</h2><h2 id="JS预解析"><a href="#JS预解析" class="headerlink" title="JS预解析"></a>JS预解析</h2><p>1.当浏览器加载html页面的时候，浏览器tab页的renderer进程下，开启JS线程，JS线程会先提供一个全局JS代码执行的环境</p>
<ul>
<li>JS线程开启栈空间，栈空间中开辟全局执行上下文（全局上下文开始执行一次宏任务，并维护着微任务队列）</li>
</ul>
<p>2.预解析（变量提升，浏览器的加载机制）</p>
<p>在当前的作用域（上下文）中，js代码执行之前，JS线程首先会默认把所有带var和function关键字的变量，进行提前声明或定义</p>
<ul>
<li><p>对于变量只是进行了变量的提前声明</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// 理解声明和定义</span></span><br><span class="line"><span class="comment">// 声明（declare）： var num ==&gt; 告诉浏览器，在全局作用域中有一个num的变量了（在GO上，新增属性num，默认属性值为undefined），声明：对于变量，就是把变量添加到当前上下文的变量对象上</span></span><br><span class="line"><span class="comment">// 定义（defined）：num = 1; ==&gt;给变量赋值（进行值关联），定义：定于变量，就是把当前上下文的变量对象对应的属性，关联值或者内存地址</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log(number) // Uncaught ReferenceError: number is not defined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num) <span class="comment">// undefined，这里打断点，会看到全局window对象上，已经有num属性了，值为undefined</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>对于函数是提前声明并且定义（将函数代码以字段串的形式存储起来）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fn) <span class="comment">// 打印出函数体，由于函数提升机制，此时GO（window)对象上，已经有fn属性了，值为代码块字符串</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fn) <span class="comment">// 打印出函数体（实际打印的就是window.fn，值为代码块字符串）</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>变量和函数重名时</p>
<ul>
<li>提升阶段：变量只是提前声明了，函数是声明并且定义了</li>
<li>执行阶段：变量开始定义赋值，函数不进行赋值</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(afn) <span class="comment">// afn()&#123;console.log(4)&#125;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">afn</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(afn) <span class="comment">// afn()&#123;console.log(4)&#125;  </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> afn;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(afn) <span class="comment">// afn()&#123;console.log(4)&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> afn = <span class="number">3</span> </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(afn) <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">afn</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(afn) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>函数表达式的调用，必须写到函数表达式的下面</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">fun</span>() <span class="comment">// 声明定义函数之前调用， Uncaught TypeError: fun is not a function</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fun = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">22</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>相当于</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fun;</span><br><span class="line"><span class="title function_">fun</span>(); <span class="comment">// Uncaught TypeError: fun is not a function</span></span><br><span class="line">fun = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">22</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>预解析（变量提升和函数提升）只会发生在当前上下文中。</p>
<p>例如：开始只会对全局上下文中的变量和函数进行预解析，因为一开始就创建了全局上下文；只有函数执行的时候，才会创建函数上下文，才会对函数上下文中的变量和函数进行预解析</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">afn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// undefined</span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">11</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// 11</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">afn</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<p>相当于</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span> <span class="comment">// GO全局对象window上的属性</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> a; <span class="comment">// 私有上下文对象AO上的属性，属性值为undefined</span></span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// undefined</span></span><br><span class="line">	<span class="keyword">var</span> a = <span class="number">11</span></span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// 11</span></span><br><span class="line">&#125; <span class="comment">// 出栈后，私有上下文销毁</span></span><br><span class="line"><span class="title function_">fn</span>() <span class="comment">// 进栈</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="函数底层执行机制"><a href="#函数底层执行机制" class="headerlink" title="函数底层执行机制"></a>函数底层执行机制</h2><blockquote>
<p> 1.函数的创建</p>
</blockquote>
<p>每一个上下文都有一个相关联的<code>VO</code>，当前上下文中，声明的变量和对象存储在<code>VO</code>上</p>
<p>创建对象时，会在堆内存中开辟一块空间来存储对象的值</p>
<p>函数对象被创建时，存储的键值对有</p>
<ul>
<li><code>this</code></li>
<li><code>prototype</code></li>
</ul>
<p>函数对象除了在堆内存中存储键值对，还会存储两部分东西</p>
<ul>
<li><p>创建函数时的声明作用域<code>[[Scopes]]</code>：</p>
<ul>
<li><p>函数在哪个上下文中创建，其<code>[[Scopes]]</code>就关联谁</p>
<ul>
<li><p>函数定义中使用到了哪个变量或对象，[[Scopes]]就会把该变量或者对象所有的<code>VO</code>添加到<code>[[Scopes]]</code>中，这个机制也是let关键字形成块级作用域的根本原因</p>
</li>
<li><p><code>[[Scopes]]</code>中存储的应该是，实际用到的变量所在的上下文对应的变量对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">aFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">aFunc</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">dir</span>(aFunc) <span class="comment">// [[Scopes]]有一个值，指向当前上下文的GO，即window对象</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">1</span>, c =<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">bInnnerFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// return // [[Scopes]]只有一个值，指向window对象</span></span><br><span class="line">        <span class="keyword">return</span> b <span class="comment">// [[Scopes]][0]为bFunc私有上下文的AO对象，&#123;b: 1&#125;，[[Scopes]][1]指向window对象</span></span><br><span class="line">        <span class="comment">// return b + c // [[Scopes]][0]为bFunc私有上下文的AO对象，&#123;b: 1, c: 2&#125;，[[Scopes]][1]指向window对象</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">dir</span>(bInnnerFunc) <span class="comment">// [[Scopes]]有两个值，[[Scopes]][0]指向bFunc执行上下文的VO对象（更准确点，是bFunc私有上下文的AO对象，见下一部分），这是一个闭包;[[Scopes]][1]指向window</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">bFunc</span>()</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li><p>函数字符串：把函数体中的代码，以字符串的形式存储起来</p>
<ul>
<li><p>如果是循环4个标签，for循环是以var声明的i，按照直观上，每次click的回调函数打印的值应该不一样。事实上都是4，代码首先会循环4次，然后每次都讲i加1，for方法体的函数，仅执行了创建的过程，onclick关联的函数，此时是以字符串的形式保存在堆内存中（保存了4份），并且循环结束时，i的值已经变成了4。当我们点击元素时，onclick关联的回调函数，进栈开始执行，沿着[[Scopes]]作用域链找到GO（window）上的i值为4。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myBtn = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.myBtn&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; myBtn.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    myBtn[i].<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将回调函数定义成具名函数，方便查看作用域链（设置断点查看）</span></span><br><span class="line"><span class="keyword">var</span> myBtn = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.myBtn&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> a = <span class="number">0</span>; a &lt; myBtn.<span class="property">length</span>; a++) &#123; <span class="comment">//定义成a，查看是在window属性的第一个</span></span><br><span class="line">    <span class="keyword">let</span> innerFunc = <span class="keyword">function</span> <span class="title function_">innerFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(a, <span class="variable language_">window</span>.<span class="property">a</span>, a === <span class="variable language_">window</span>.<span class="property">a</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">dir</span>(innerFunc)</span><br><span class="line">    &#125;</span><br><span class="line">    myBtn[a].<span class="property">onclick</span> = innerFunc <span class="comment">// 不能加括号，否则就直接执行了</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<blockquote>
<p>函数的执行</p>
</blockquote>
<pre><code>    2.1.创建私有上下文
        - 进栈：函数一旦执行，就会创建一个全新的私有上下文（函数上下文）
            - 函数的每次执行，都是重新形成一个私有的上下文，和之前产生的上下文没有必然的联系
            - 函数的代码都是在私有上下文中执行的
        - 函数进栈执行时，会创建一个全新私有变量对象（AO: Active Object）
            - 这里区分开VO，AO是VO的一个分支
            - 在私有上下文中创建的变量和对象，都会存储在AO中，例如形参、变量提升和函数中定义的变量
            - 私有变量对象不能被外部访问，但可以通过return语句返回
    2.2.完成初始化操作
    函数进栈后，正式开始执行前，会进行5步的初始化操作
        - 初始化作用域链([[Scopes]])
            - 根据函数代码中实际使用到的变量，关联变量所在上下文的变量对象，作为作用域链中的每一个值
        - 初始化this
            - this的基本概念
                在js中，this是一个关键字，它会被自动定义在js所有函数的作用域中，《JS高程》在函数一章中指出：定义一个函数会获得this和prototype两个属性，而this很特殊在于this可以用作声明指向某个对象？？
            this在运行时绑定的，并不是在编写时绑定的，她的上下文取决于函数调用时的各种条件。this的绑定和函数声明的位置没有任何关系，只取决于函数的调用方式
            - this到底是什么 
                当一个函数被调用时，会创建一个活动记录（私有上下文）。这个记录会包含函数在哪里被调用（调用栈）、函数的调用方式、传入的参数等信息。this就是这个记录的一个属性，会在函数执行的过程中用到
            - 函数绑定方式
                this的绑定规则和函数的调用方式有着重大联系
                - 普通函数调用
                <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span> () &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>)</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span></span><br><span class="line"><span class="title function_">foo</span>() <span class="comment">// 2，相当于window.foo()</span></span><br></pre></td></tr></table></figure>
                - new方式调用
                <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">					</span><br></pre></td></tr></table></figure>
            - 箭头函数没有这一步
            js采用的是词法作用域（静态作用域），也就是说函数的作用域（可以访问到的变量），在函数定义的时候就确定了
            与之相反的是动态作用域，即函数的作用域在函数调用时才确定
            下面的例子，很好的说明JS是一个静态作用域的语言，如果函数的作用域是在运行时确定的，运行aFoo函数是，从aFoo函数内部没有找到局部变量value后，会从调用函数的作用域，也就是aBar函数内部查找value变量，那么应该会打印2
            JS引擎底层的实现为：函数在定义时，会把其所属环境（全局环境）的变量生成一个变量对象，放入函数的scope属性中。调用函数时，会生成执行环境（上下文）并创建一个作用域链，即先把函数scope属性中的变量对象放到作用域链中，再利用函数参数和内部变量，生成一个活动对象，并放入作用域链的前端。
            <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aValue = <span class="number">1</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">aFoo</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(aValue)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">aBar</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> aValue = <span class="number">2</span></span><br><span class="line">	<span class="title function_">aFoo</span>()</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"><span class="title function_">aBar</span>() <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
            this关键字是JS中的动态作用域机制，是为了在JS中加入动态作用域而做的努力，因为this指向的对象实在函数调用时绑定的。
            在任何函数中，this的指向都不是静态的。它总是在你调用一个函数，但尚未执行函数内部代码前被指定。即this的指向与函数被调用的方式（语法）有关
            
            <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">	<span class="attr">a</span>: <span class="number">10</span>,</span><br><span class="line">	<span class="attr">b</span>: &#123;</span><br><span class="line">		<span class="attr">fn</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line">o.<span class="property">b</span>.<span class="title function_">fn</span>() <span class="comment">// this指向对象b，&#123;fn: f&#125;</span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">var</span> j = o.<span class="property">b</span>.<span class="property">fn</span></span><br><span class="line"><span class="title function_">j</span>() <span class="comment">// this指向window</span></span><br></pre></td></tr></table></figure>
            可以看到，函数内部的this指向，和其调用方式有关，和函数本身的定义方式无关
            绑定规则
            - 1.构造绑定：通过new关键字调用构造函数。此时会生成一个实例对象，并且this指向这个实例对象。这种方式实际上是new的底层实现修改了this指向
            <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> savedThis;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Constr</span>(<span class="params"></span>) &#123;</span><br><span class="line">	savedThis = <span class="variable language_">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">var</span> inst = <span class="keyword">new</span> <span class="title class_">Constr</span>()</span><br><span class="line">	</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(savedThis === inst) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
            2.显示绑定：apply()、call()、bind()三个方法改变函数的调用对象（this对象）
            3.隐式绑定：某个上下文对象中调用函数。比如使用obj.foo()这样的语法来调用函数，函数foo中的this绑定到obj对象
            <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">	<span class="attr">a</span>: <span class="number">10</span>,</span><br><span class="line">	<span class="attr">b</span>: &#123;</span><br><span class="line">		<span class="attr">fn</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>) <span class="comment">// undefined，this指向b对象</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line">o.<span class="property">b</span>.<span class="title function_">fn</span>()</span><br><span class="line">	</span><br><span class="line"><span class="comment">// 事件处理函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">doPrint</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">doPrint</span>() <span class="comment">// 全局对象 window</span></span><br><span class="line"><span class="keyword">var</span> myBtn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.myBtn&#x27;</span>)</span><br><span class="line">myBtn.<span class="property">onclick</span> = doPrint</span><br><span class="line">myBtn.<span class="title function_">onclick</span>() <span class="comment">// 元素对象button</span></span><br></pre></td></tr></table></figure>
            4.默认绑定：不符合上述三种情况，在一个函数中使用了this，但是没有为this绑定对象。这种情况下，严格模式this绑定到undefined，非严格模式下this绑定到全局对象（GO）（Node环境中的global，浏览器环境的window）
            <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">	<span class="attr">a</span>: <span class="number">10</span>,</span><br><span class="line">	<span class="attr">b</span>: &#123;</span><br><span class="line">		<span class="attr">fn</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>) <span class="comment">// undefined</span></span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">var</span> j = o.<span class="property">b</span>.<span class="property">fn</span></span><br><span class="line"><span class="title function_">j</span>() <span class="comment">// window</span></span><br></pre></td></tr></table></figure>
            对于3、4两点，可以用一个简单的规则去判断：当一个函数被调用时，应该立马看()左边的部分
                - 如果()左边是一个引用，那么函数的this指向这个引用所属的对象（隐式绑定）
                - 否则this指向的就是全局对象或者undefined（默认绑定）
                - 上面的代码中，fn是一个引用，属于b这个对象，所以this指向b；j不是引用，所以this指向window
        - 初始化arguments？？
            - 箭头函数没有这一步
        - 形参赋值
        - 变量提升：var关键字声明的变量会提前声明，function关键字声明的函数会提前
3.代码执行
    将堆内存中存储的代码字符串，从上往下顺序执行
    - 变量按作用域链查找
4.出栈释放或保留
    - 正常情况下，代码执行完成后，私有上下文出栈被回收
    - 特殊情况
        - 如果当前私有上下文执行完成之后的某个东西（变量或对象），被执行上下文以外的东西占用，则当前私有上下文就不会出栈释放，也就是形成了不被销毁的上下文（闭包）
    - 还有一种情况：上下文没被占用，但是要紧接着被用一次，这样没有用完之前是不能释放的，用完再释放。这样就形成了一个临时不被释放的上下文
    - 函数每次执行都是重新形成给全新的私有上下文，正常情况下，函数执行完就会出栈私有上下文被释放，但是如果不能被释放（闭包），就会一直被保存在内存中，当到达栈内存的极限时就会出现栈内存溢出
</code></pre>
<p>理清上述概念的先后顺序</p>
<h2 id="let、const和块级作用域"><a href="#let、const和块级作用域" class="headerlink" title="let、const和块级作用域"></a>let、const和块级作用域</h2><p>块级作用域<br>    - JS中没有块级作用域</p>
<p>let定义变量</p>
<ul>
<li><p>let关键字定义的变量，在代码执行时，会在栈内存再形成一个块级上下文，这个块级上下文也有一个与之关联的VO对象，当代码执行到函数定义时，由于用到了变量a，就会把变量对象{a: 0}，添加到innerFunc的[[Scopes]]</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> amyBtn = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.myBtn&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> a = <span class="number">0</span>; a &lt; amyBtn.<span class="property">length</span>; a++) &#123;</span><br><span class="line">	<span class="keyword">let</span> innerFunc = <span class="keyword">function</span> <span class="title function_">innerFunc</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">dir</span>(innerFunc)</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">	&#125;</span><br><span class="line">	amyBtn[a].<span class="property">onclick</span> = innerFunc <span class="comment">// 不能加括号，否则就直接执行了</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>let关键字声明的变量，在谷歌浏览器断点调试的作用域中，被称为“代码块”<br>const定义常量<br>const关键字声明的变量，在谷歌浏览器断点调试的作用域中，被称为“脚本”<br>const关键字声明的变量，绑定了第一次定义的值的内存地址与该变量的关联关系，当尝试绑定其他内存地址时无法生效<br>对于由若干内存片段组成的非连续内存数据（对象、数组），只有第一处是有变量与内存的强绑定关系，对象内部属性值仍然可以修改<br>Object.freeze()</li>
</ul>
</li>
</ul>
<p>箭头函数</p>
<h2 id="堆栈内存及函数底层处理机制"><a href="#堆栈内存及函数底层处理机制" class="headerlink" title="堆栈内存及函数底层处理机制"></a>堆栈内存及函数底层处理机制</h2><p>链接：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/edb2be5866eb">https://www.jianshu.com/p/edb2be5866eb</a></p>
<h1 id="JS运行机制"><a href="#JS运行机制" class="headerlink" title="JS运行机制"></a>JS运行机制</h1><p>链接：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904050543034376">https://juejin.cn/post/6844904050543034376</a></p>
<p>本文大致分为以下这样的步骤来帮助我们由广入深更加清晰的了解JS运行机制</p>
<ul>
<li>首先我们要了解进程和线程的概念</li>
<li>其次我们要知道浏览器的进程线程常识</li>
<li>再然后通过Event Loop、宏任务(macrotask)微任务(microtask)来看浏览器的几个线程间是怎样配合的</li>
<li>再然后通过例子来印证我们的猜想</li>
<li>最后提下NodeJS的运行机制</li>
</ul>
<h2 id="进程与线程"><a href="#进程与线程" class="headerlink" title="进程与线程"></a>进程与线程</h2><h3 id="什么是进程"><a href="#什么是进程" class="headerlink" title="什么是进程"></a>什么是进程</h3><p>我们都知道，<code>CPU</code>是计算机的核心，承担所有的计算任务</p>
<p>官网说法，<code>进程</code>是<code>CPU</code>资源分配的最小单位</p>
<p>字面意思就是进行中的程序，我将它理解为一个可以独立运行且拥有自己的资源空间的任务程序</p>
<p><code>进程</code>包括运行中的程序和程序所使用到的内存和系统资源</p>
<p><code>CPU</code>可以有很多进程，我们的电脑每打开一个软件就会产生一个或多个<code>进程</code>，为什么电脑运行的软件多就会卡，是因为<code>CPU</code>给每个<code>进程</code>分配资源空间，但是一个<code>CPU</code>一共就那么多资源，分出去越多，越卡，每个<code>进程</code>之间是相互独立的，<code>CPU</code>在运行一个<code>进程</code>时，其他的进程处于非运行状态，<code>CPU</code>使用 <a href="https://link.juejin.cn/?target=">时间片轮转调度算法</a> 来实现同时运行多个<code>进程</code></p>
<h3 id="什么是线程"><a href="#什么是线程" class="headerlink" title="什么是线程"></a>什么是线程</h3><p><code>线程</code>是<code>CPU</code>调度的最小单位</p>
<p><code>线程</code>是建立在<code>进程</code>的基础上的一次程序运行单位，通俗点解释<code>线程</code>就是程序中的一个执行流，一个<code>进程</code>可以有多个<code>线程</code></p>
<p>一个<code>进程</code>中只有一个执行流称作<code>单线程</code>，即程序执行时，所走的程序路径按照连续顺序排下来，前面的必须处理好，后面的才会执行</p>
<p>一个<code>进程</code>中有多个执行流称作<code>多线程</code>，即在一个程序中可以同时运行多个不同的<code>线程</code>来执行不同的任务， 也就是说允许单个程序创建多个并行执行的<code>线程</code>来完成各自的任务</p>
<h3 id="进程和线程的区别"><a href="#进程和线程的区别" class="headerlink" title="进程和线程的区别"></a>进程和线程的区别</h3><p>进程是操作系统分配资源的最小单位，线程是程序执行的最小单位</p>
<p>一个进程由一个或多个线程组成，线程可以理解为是一个进程中代码的不同执行路线</p>
<p>进程之间相互独立，但同一进程下的各个线程间共享程序的内存空间(包括代码段、数据集、堆等)及一些进程级的资源(如打开文件和信号)</p>
<p>调度和切换：线程上下文切换比进程上下文切换要快得多</p>
<h3 id="多进程和多线程"><a href="#多进程和多线程" class="headerlink" title="多进程和多线程"></a>多进程和多线程</h3><p>多进程：多进程指的是在同一个时间里，同一个计算机系统中如果允许两个或两个以上的进程处于运行状态。多进程带来的好处是明显的，比如大家可以在网易云听歌的同时打开编辑器敲代码，编辑器和网易云的进程之间不会相互干扰</p>
<p>多线程：多线程是指程序中包含多个执行流，即在一个程序中可以同时运行多个不同的线程来执行不同的任务，也就是说允许单个程序创建多个并行执行的线程来完成各自的任务</p>
<h2 id="JS为什么是单线程"><a href="#JS为什么是单线程" class="headerlink" title="JS为什么是单线程"></a>JS为什么是单线程</h2><p>JS的单线程，与它的用途有关。作为浏览器脚本语言，JavaScript的主要用途是与用户互动，以及操作DOM。这决定了它只能是单线程，否则会带来很复杂的同步问题。比如，假定JavaScript同时有两个线程，一个线程在某个DOM节点上添加内容，另一个线程删除了这个节点，这时浏览器应该以哪个线程为准？</p>
<p>还有人说js还有Worker线程，对的，为了利用多核CPU的计算能力，HTML5提出Web Worker标准，允许JavaScript脚本创建多个线程，但是子线程是完 全受主线程控制的，而且不得操作DOM</p>
<p>所以，这个标准并没有改变JavaScript是单线程的本质</p>
<p>了解了进程和线程之后，接下来看看浏览器解析，浏览器之间也是有些许差距的，不过大致是差不多的，下文我们皆用市场占有比例最大的Chrome为例</p>
<h2 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h2><h3 id="浏览器是多进程的"><a href="#浏览器是多进程的" class="headerlink" title="浏览器是多进程的"></a>浏览器是多进程的</h3><p>作为前端，免不了和浏览器打交道，浏览器是多进程的，拿Chrome来说，我们每打开一个Tab页就会产生一个进程，我们使用Chrome打开很多标签页不关，电脑会越来越卡，不说其他，首先就很耗CPU</p>
<h3 id="浏览器包含哪些进程"><a href="#浏览器包含哪些进程" class="headerlink" title="浏览器包含哪些进程"></a>浏览器包含哪些进程</h3><ul>
<li>Browser进程<ul>
<li>浏览器的主进程(负责协调、主控)，该进程只有一个</li>
<li>负责浏览器界面显示，与用户交互。如前进，后退等</li>
<li>负责各个页面的管理，创建和销毁其他进程</li>
<li>将渲染(Renderer)进程得到的内存中的Bitmap(位图)，绘制到用户界面上</li>
<li>网络资源的管理，下载等</li>
</ul>
</li>
<li>第三方插件进程<ul>
<li>每种类型的插件对应一个进程，当使用该插件时才创建</li>
</ul>
</li>
<li>GPU进程<ul>
<li>该进程也只有一个，用于3D绘制等等</li>
</ul>
</li>
<li>渲染进程(重)<ul>
<li>即通常所说的浏览器内核(Renderer进程，内部是多线程)</li>
<li>每个Tab页面都有一个渲染进程，互不影响</li>
<li>主要作用为页面渲染，脚本执行，事件处理等</li>
</ul>
</li>
</ul>
<h3 id="为什么浏览器要多进程"><a href="#为什么浏览器要多进程" class="headerlink" title="为什么浏览器要多进程"></a>为什么浏览器要多进程</h3><p>我们假设浏览器是单进程，那么某个Tab页崩溃了，就影响了整个浏览器，体验有多差</p>
<p>同理如果插件崩溃了也会影响整个浏览器</p>
<p>当然多进程还有其它的诸多优势，不过多阐述</p>
<p>浏览器进程有很多，每个进程又有很多线程，都会占用内存</p>
<p>这也意味着内存等资源消耗会很大，有点拿空间换时间的意思</p>
<p>到此可不只是为了让我们理解为何Chrome运行时间长了电脑会卡，哈哈，第一个重点来了</p>
<h3 id="简述渲染进程Renderer-重"><a href="#简述渲染进程Renderer-重" class="headerlink" title="简述渲染进程Renderer(重)"></a>简述渲染进程Renderer(重)</h3><p>页面的渲染，JS的执行，事件的循环，都在渲染进程内执行，所以我们要重点了解渲染进程</p>
<p>渲染进程是多线程的，我们来看渲染进程的一些常用较为主要的线程</p>
<h3 id="渲染进程Renderer的主要线程"><a href="#渲染进程Renderer的主要线程" class="headerlink" title="渲染进程Renderer的主要线程"></a>渲染进程Renderer的主要线程</h3><h4 id="GUI渲染线程"><a href="#GUI渲染线程" class="headerlink" title="GUI渲染线程"></a>GUI渲染线程</h4><ul>
<li>负责渲染浏览器界面，解析HTML，CSS，构建DOM树和RenderObject树，布局和绘制等<ul>
<li>解析html代码(HTML代码本质是字符串)转化为浏览器认识的节点，生成DOM树，也就是DOM Tree</li>
<li>解析css，生成CSSOM(CSS规则树)</li>
<li>把DOM Tree 和CSSOM结合，生成Rendering Tree(渲染树)</li>
</ul>
</li>
<li>当我们修改了一些元素的颜色或者背景色，页面就会重绘(Repaint)</li>
<li>当我们修改元素的尺寸，页面就会回流(Reflow)</li>
<li>当页面需要Repaing和Reflow时GUI线程执行，绘制页面</li>
<li>回流(Reflow)比重绘(Repaint)的成本要高，我们要尽量避免Reflow和Repaint</li>
<li>GUI渲染线程与JS引擎线程是互斥的<ul>
<li>当JS引擎执行时GUI线程会被挂起(相当于被冻结了)</li>
<li>GUI更新会被保存在一个队列中等到JS引擎空闲时立即被执行</li>
</ul>
</li>
</ul>
<h4 id="JS引擎线程"><a href="#JS引擎线程" class="headerlink" title="JS引擎线程"></a>JS引擎线程</h4><ul>
<li>JS引擎线程就是JS内核，负责处理Javascript脚本程序(例如V8引擎)</li>
<li>JS引擎线程负责解析Javascript脚本，运行代码</li>
<li>JS引擎一直等待着任务队列中任务的到来，然后加以处理<ul>
<li>浏览器同时只能有一个JS引擎线程在运行JS程序，所以js是单线程运行的</li>
<li>一个Tab页(renderer进程)中无论什么时候都只有一个JS线程在运行JS程序</li>
</ul>
</li>
<li>GUI渲染线程与JS引擎线程是互斥的，js引擎线程会阻塞GUI渲染线程<ul>
<li>就是我们常遇到的JS执行时间过长，造成页面的渲染不连贯，导致页面渲染加载阻塞(就是加载慢)</li>
<li>例如浏览器渲染的时候遇到<code>&lt;script&gt;</code>标签，就会停止GUI的渲染，然后js引擎线程开始工作，执行里面的js代码，等js执行完毕，js引擎线程停止工作，GUI继续渲染下面的内容。所以如果js执行时间太长就会造成页面卡顿的情况</li>
</ul>
</li>
</ul>
<h4 id="事件触发线程"><a href="#事件触发线程" class="headerlink" title="事件触发线程"></a>事件触发线程</h4><ul>
<li>属于浏览器而不是JS引擎，用来控制事件循环，并且管理着一个事件队列(task queue)</li>
<li>当js执行碰到事件绑定和一些异步操作(如setTimeOut，也可来自浏览器内核的其他线程，如鼠标点击、AJAX异步请求等)，会走事件触发线程将对应的事件添加到对应的线程中(比如定时器操作，便把定时器事件添加到定时器线程)，等异步事件有了结果，便把他们的回调操作添加到事件队列，等待js引擎线程空闲时来处理。</li>
<li>当对应的事件符合触发条件被触发时，该线程会把事件添加到待处理队列的队尾，等待JS引擎的处理</li>
<li>因为JS是单线程，所以这些待处理队列中的事件都得排队等待JS引擎处理</li>
</ul>
<h4 id="定时触发器线程"><a href="#定时触发器线程" class="headerlink" title="定时触发器线程"></a>定时触发器线程</h4><ul>
<li><code>setInterval</code>与<code>setTimeout</code>所在线程</li>
<li>浏览器定时计数器并不是由JavaScript引擎计数的(因为JavaScript引擎是单线程的，如果处于阻塞线程状态就会影响记计时的准确)</li>
<li>通过单独线程来计时并触发定时(计时完毕后，添加到事件触发线程的事件队列中，等待JS引擎空闲后执行)，这个线程就是定时触发器线程，也叫定时器线程</li>
<li>W3C在HTML标准中规定，规定要求<code>setTimeout</code>中低于4ms的时间间隔算为4ms</li>
</ul>
<h4 id="异步http请求线程"><a href="#异步http请求线程" class="headerlink" title="异步http请求线程"></a>异步http请求线程</h4><ul>
<li>在XMLHttpRequest在连接后是通过浏览器新开一个线程请求</li>
<li>将检测到状态变更时，如果设置有回调函数，异步线程就产生状态变更事件，将这个回调再放入事件队列中再由JavaScript引擎执行</li>
<li>简单说就是当执行到一个http异步请求时，就把异步请求事件添加到异步请求线程，等收到响应(准确来说应该是http状态变化)，再把回调函数添加到事件队列，等待js引擎线程来执行</li>
</ul>
<p>了解了上面这些基础后，接下来我们开始进入今天的正题</p>
<h2 id="事件循环-Event-Loop-初探"><a href="#事件循环-Event-Loop-初探" class="headerlink" title="事件循环(Event Loop)初探"></a>事件循环(Event Loop)初探</h2><p>首先要知道，JS分为同步任务和异步任务</p>
<p>同步任务都在主线程(这里的主线程就是JS引擎线程)上执行，会形成一个<code>执行栈</code></p>
<p>主线程之外，事件触发线程管理着一个<code>任务队列</code>，只要异步任务有了运行结果，就在<code>任务队列</code>之中放一个事件回调</p>
<p>一旦<code>执行栈</code>中的所有同步任务执行完毕(也就是JS引擎线程空闲了)，系统就会读取<code>任务队列</code>，将可运行的异步任务(任务队列中的事件回调，只要任务队列中有事件回调，就说明可以执行)添加到执行栈中，开始执行</p>
<p>我们来看一段简单的代码</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> setTimeoutCallBack = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是定时器回调&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> httpCallback = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是http请求回调&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 同步任务</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是同步任务1&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 异步定时任务</span></span><br><span class="line"><span class="built_in">setTimeout</span>(setTimeoutCallBack,<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 异步http请求任务</span></span><br><span class="line">ajax.<span class="title function_">get</span>(<span class="string">&#x27;/info&#x27;</span>,httpCallback);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 同步任务</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是同步任务2&#x27;</span>);</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<p>上述代码执行过程</p>
<p>JS是按照顺序从上往下依次执行的，可以先理解为这段代码时的执行环境就是主线程，也就是也就是当前执行栈</p>
<p>首先，执行<code>console.log(&#39;我是同步任务1&#39;)</code></p>
<p>接着，执行到<code>setTimeout</code>时，会移交给<code>定时器线程</code>，通知<code>定时器线程</code> 1s 后将 <code>setTimeoutCallBack</code> 这个回调交给<code>事件触发线程</code>处理，在 1s 后<code>事件触发线程</code>会收到 <code>setTimeoutCallBack</code> 这个回调并把它加入到<code>事件触发线程</code>所管理的事件队列中等待执行</p>
<p>接着，执行http请求，会移交给<code>异步http请求线程</code>发送网络请求，请求成功后将 <code>httpCallback</code> 这个回调交由事件触发线程处理，<code>事件触发线程</code>收到 <code>httpCallback</code> 这个回调后把它加入到<code>事件触发线程</code>所管理的事件队列中等待执行</p>
<p>再接着执行<code>console.log(&#39;我是同步任务2&#39;)</code></p>
<p>至此主线程执行栈中执行完毕，<code>JS引擎线程</code>已经空闲，开始向<code>事件触发线程</code>发起询问，询问<code>事件触发线程</code>的事件队列中是否有需要执行的回调函数，如果有将事件队列中的回调事件加入执行栈中，开始执行回调，如果事件队列中没有回调，<code>JS引擎线程</code>会一直发起询问，直到有为止</p>
<p>到了这里我们发现，浏览器上的所有线程的工作都很单一且独立，非常符合单一原则</p>
<p>定时触发线程只管理定时器且只关注定时不关心结果，定时结束就把回调扔给事件触发线程</p>
<p>异步http请求线程只管理http请求同样不关心结果，请求结束把回调扔给事件触发线程</p>
<p>事件触发线程只关心异步回调入事件队列</p>
<p>而我们JS引擎线程只会执行执行栈中的事件，执行栈中的代码执行完毕，就会读取事件队列中的事件并添加到执行栈中继续执行，这样反反复复就是我们所谓的<strong>事件循环(Event Loop)</strong></p>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/16fb7acab03b35fatplv-t2oaga2asx-zoom-in-crop-mark4536000.awebp" alt="img"></p>
<p>首先，执行栈开始顺序执行</p>
<p>判断是否为同步，异步则进入异步线程，最终事件回调给事件触发线程的任务队列等待执行，同步继续执行</p>
<p>执行栈空，询问任务队列中是否有事件回调</p>
<p>任务队列中有事件回调则把回调加入执行栈末尾继续从第一步开始执行</p>
<p>任务队列中没有事件回调则不停发起询问</p>
<h2 id="宏任务-macrotask-amp-微任务-microtask"><a href="#宏任务-macrotask-amp-微任务-microtask" class="headerlink" title="宏任务(macrotask) &amp; 微任务(microtask)"></a>宏任务(macrotask) &amp; 微任务(microtask)</h2><h3 id="宏任务-macrotask"><a href="#宏任务-macrotask" class="headerlink" title="宏任务(macrotask)"></a>宏任务(macrotask)</h3><p>在ECMAScript中，<code>macrotask</code>也被称为<code>task</code></p>
<p>我们可以将每次执行栈执行的代码当做是一个宏任务(包括每次从事件队列中获取一个事件回调并放到执行栈中执行)， 每一个宏任务会从头到尾执行完毕，不会执行其他</p>
<p>由于<code>JS引擎线程</code>和<code>GUI渲染线程</code>是互斥的关系，浏览器为了能够使<code>宏任务</code>和<code>DOM任务</code>有序的进行，会在一个<code>宏任务</code>执行结果后，在下一个<code>宏任务</code>执行前，<code>GUI渲染线程</code>开始工作，对页面进行渲染</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">宏任务 -&gt; GUI渲染 -&gt; 宏任务 -&gt; ...</span><br></pre></td></tr></table></figure>

<p>常见的宏任务</p>
<ul>
<li>主代码块</li>
<li>setTimeout</li>
<li>setInterval</li>
<li>setImmediate ()-Node</li>
<li>requestAnimationFrame ()-浏览器</li>
</ul>
<h3 id="微任务-microtask"><a href="#微任务-microtask" class="headerlink" title="微任务(microtask)"></a>微任务(microtask)</h3><p>ES6新引入了Promise标准，同时浏览器实现上多了一个<code>microtask</code>微任务概念，在ECMAScript中，<code>microtask</code>也被称为<code>jobs</code></p>
<p>我们已经知道<code>宏任务</code>结束后，会执行渲染，然后执行下一个<code>宏任务</code>， 而微任务可以理解成在当前<code>宏任务</code>执行后立即执行的任务</p>
<p>当一个<code>宏任务</code>执行完，会在渲染前，将执行期间所产生的所有<code>微任务</code>都执行完</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">宏任务 -&gt; 微任务 -&gt; GUI渲染 -&gt; 宏任务 -&gt; ...</span><br></pre></td></tr></table></figure>

<p>常见微任务</p>
<ul>
<li>process.nextTick ()-Node</li>
<li>Promise.then()</li>
<li>catch</li>
<li>finally</li>
<li>Object.observe</li>
<li>MutationObserver</li>
</ul>
<h3 id="简单区分宏任务与微任务"><a href="#简单区分宏任务与微任务" class="headerlink" title="简单区分宏任务与微任务"></a>简单区分宏任务与微任务</h3><p>看了上述宏任务微任务的解释你可能还不太清楚，没关系，往下看，先记住那些常见的宏微任务即可</p>
<p>我们通过几个例子来看，这几个例子思路来自掘金<code>云中君</code>的文章参考链接【14】，通过渲染背景颜色来区分宏任务和微任务，很直观，我觉得很有意思，所以这里也用这种例子</p>
<p>找一个空白的页面，在console中输入以下代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span> = <span class="string">&#x27;background:black&#x27;</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span> = <span class="string">&#x27;background:red&#x27;</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span> = <span class="string">&#x27;background:blue&#x27;</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span> = <span class="string">&#x27;background:pink&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/16fb7c7576f1e3b1tplv-t2oaga2asx-zoom-in-crop-mark4536000.awebp" alt="img"></p>
<p>我们看到上面动图背景直接渲染了粉红色，根据上文里讲浏览器会先执行完一个宏任务，再执行当前执行栈的所有微任务，然后移交GUI渲染，上面四行代码均属于同一次宏任务，全部执行完才会执行渲染，渲染时<code>GUI线程</code>会将所有UI改动优化合并，所以视觉上，只会看到页面变成粉红色</p>
<p>再接着看</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span> = <span class="string">&#x27;background:blue&#x27;</span>;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span> = <span class="string">&#x27;background:black&#x27;</span></span><br><span class="line">&#125;,<span class="number">200</span>)</span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/16fb7c81efff6db0tplv-t2oaga2asx-zoom-in-crop-mark4536000.awebp" alt="img"></p>
<p>上述代码中，页面会先卡一下蓝色，再变成黑色背景，页面上写的是200毫秒，大家可以把它当成0毫秒，因为0毫秒的话由于浏览器渲染太快，录屏不好捕捉，我又没啥录屏慢放的工具，大家可以自行测试的，结果也是一样，最安全的方法是写一个<code>index.html</code>文件，在这个文件中插入上面的js脚本，然后浏览器打开，谷歌下使用控制台中<code>performance</code>功能查看一帧一帧的加载最为恰当，不过这样录屏不好录所以。。。</p>
<p>回归正题，之所以会卡一下蓝色，是因为以上代码属于两次<code>宏任务</code>，第一次<code>宏任务</code>执行的代码是将背景变成蓝色，然后触发渲染，将页面变成蓝色，再触发第二次宏任务将背景变成黑色</p>
<p>再来看</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span> = <span class="string">&#x27;background:blue&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span> = <span class="string">&#x27;background:pink&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/16fb7c909570edd9tplv-t2oaga2asx-zoom-in-crop-mark4536000.awebp" alt="img"></p>
<p>控制台输出 1 3 2 , 是因为 promise 对象的 then 方法的回调函数是异步执行，所以 2 最后输出</p>
<p>页面的背景色直接变成粉色，没有经过蓝色的阶段，是因为，我们在宏任务中将背景设置为蓝色，但在进行渲染前执行了微任务， 在微任务中将背景变成了粉色，然后才执行的渲染</p>
<h3 id="微任务宏任务注意点"><a href="#微任务宏任务注意点" class="headerlink" title="微任务宏任务注意点"></a>微任务宏任务注意点</h3><ul>
<li>浏览器会先执行一个宏任务，紧接着执行当前执行栈产生的微任务，再进行渲染，然后再执行下一个宏任务</li>
<li>微任务和宏任务不在一个任务队列，不在一个任务队列<ul>
<li>例如<code>setTimeout</code>是一个宏任务，它的事件回调在宏任务队列，<code>Promise.then()</code>是一个微任务，它的事件回调在微任务队列，二者并不是一个任务队列</li>
<li>以Chrome 为例，有关渲染的都是在渲染进程中执行，渲染进程中的任务（DOM树构建，js解析…等等）需要主线程执行的任务都会在主线程中执行，而浏览器维护了一套事件循环机制，主线程上的任务都会放到消息队列中执行，主线程会循环消息队列，并从头部取出任务进行执行，如果执行过程中产生其他任务需要主线程执行的，渲染进程中的其他线程会把该任务塞入到消息队列的尾部，消息队列中的任务都是宏任务</li>
<li>微任务是如何产生的呢？当执行到script脚本的时候，js引擎会为全局创建一个执行上下文，在该执行上下文中维护了一个微任务队列，当遇到微任务，就会把微任务回调放在微队列中，当所有的js代码执行完毕，在退出全局上下文之前引擎会去检查该队列，有回调就执行，没有就退出执行上下文，这也就是为什么微任务要早于宏任务，也是大家常说的，每个宏任务都有一个微任务队列（由于定时器是浏览器的API，所以定时器是宏任务，在js中遇到定时器会也是放入到浏览器的队列中）</li>
</ul>
</li>
</ul>
<p>此时，你可能还很迷惑，没关系，请接着往下看</p>
<h3 id="图解宏任务和微任务"><a href="#图解宏任务和微任务" class="headerlink" title="图解宏任务和微任务"></a>图解宏任务和微任务</h3><p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/16fb7adf5afc036dtplv-t2oaga2asx-zoom-in-crop-mark4536000.awebp" alt="img"></p>
<p>首先执行一个宏任务，执行结束后判断是否存在微任务</p>
<p>有微任务先执行所有的微任务，再渲染，没有微任务则直接渲染</p>
<p>然后再接着执行下一个宏任务</p>
<h2 id="图解完整的Event-Loop"><a href="#图解完整的Event-Loop" class="headerlink" title="图解完整的Event Loop"></a>图解完整的Event Loop</h2><p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/16fb7ae3b678f1eatplv-t2oaga2asx-zoom-in-crop-mark4536000.awebp" alt="img"></p>
<p>首先，整体的script(作为第一个宏任务)开始执行的时候，会把所有代码分为<code>同步任务</code>、<code>异步任务</code>两部分</p>
<p>同步任务会直接进入主线程依次执行</p>
<p>异步任务会再分为宏任务和微任务</p>
<p>宏任务进入到Event Table中，并在里面注册回调函数，每当指定的事件完成时，Event Table会将这个函数移到Event Queue中</p>
<p>微任务也会进入到另一个Event Table中，并在里面注册回调函数，每当指定的事件完成时，Event Table会将这个函数移到Event Queue中</p>
<p>当主线程内的任务执行完毕，主线程为空时，会检查微任务的Event Queue，如果有任务，就全部执行，如果没有就执行下一个宏任务</p>
<p>上述过程会不断重复，这就是Event Loop，比较完整的事件循环</p>
<h2 id="关于Promise"><a href="#关于Promise" class="headerlink" title="关于Promise"></a>关于Promise</h2><p><code>new Promise(() =&gt; &#123;&#125;).then()</code> ，我们来看这样一个Promise代码</p>
<p>前面的 <code>new Promise()</code> 这一部分是一个构造函数，这是一个同步任务</p>
<p>后面的 <code>.then()</code> 才是一个异步微任务，这一点是非常重要的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">  <span class="title function_">resolve</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>上面代码输出<code>1 3 2</code></p>
<h2 id="关于-async-x2F-await-函数"><a href="#关于-async-x2F-await-函数" class="headerlink" title="关于 async&#x2F;await 函数"></a>关于 async&#x2F;await 函数</h2><p>async&#x2F;await本质上还是基于Promise的一些封装，而Promise是属于微任务的一种</p>
<p>所以在使用await关键字与Promise.then效果类似</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">  <span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>()</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>上述代码输出<code>1 2 3 4</code></p>
<p>可以理解为，<code>await</code> 以前的代码，相当于与 <code>new Promise</code> 的同步代码，<code>await</code> 以后的代码相当于 <code>Promise.then</code>的异步</p>
<h2 id="举栗印证"><a href="#举栗印证" class="headerlink" title="举栗印证"></a>举栗印证</h2><p>首先给大家来一个比较直观的动图</p>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/16fb7d0f356a33a4tplv-t2oaga2asx-zoom-in-crop-mark4536000.awebp" alt="img"></p>
<p>之所以放这个动图，就是为了向大家推荐这篇好文，动图录屏自参考链接【1】</p>
<p>极力推荐大家看看这篇帖子，非常nice，分步动画生动且直观，有时间的话可以自己去体验下</p>
<p>不过在看这个帖子之前你要先了解下运行机制会更好读懂些</p>
<p>接下来这个来自网上随意找的一个比较简单的面试题，求输出结果</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123; 	<span class="comment">// timer1</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>();</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123; 		<span class="comment">// timer2</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>)</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123; 	<span class="comment">// timer3</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span>)</span><br><span class="line">  &#125;, <span class="number">100</span>)</span><br><span class="line">  <span class="title function_">resolve</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123; 	<span class="comment">// timer4</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">6</span>)</span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">7</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">8</span>)</span><br></pre></td></tr></table></figure>

<p>结合我们上述的JS运行机制再来看这道题就简单明了的多了</p>
<p>JS是顺序从上而下执行</p>
<p>执行到test()，test方法为同步，直接执行，<code>console.log(1)</code>打印1</p>
<p>test方法中setTimeout为异步宏任务，回调我们把它记做timer1放入宏任务队列</p>
<p>接着执行，test方法下面有一个setTimeout为异步宏任务，回调我们把它记做timer2放入宏任务队列</p>
<p>接着执行promise，new Promise是同步任务，直接执行，打印4</p>
<p>new Promise里面的setTimeout是异步宏任务，回调我们记做timer3放到宏任务队列</p>
<p>Promise.then是微任务，放到微任务队列</p>
<p>console.log(8)是同步任务，直接执行，打印8</p>
<p>主线程任务执行完毕，检查微任务队列中有Promise.then</p>
<p>开始执行微任务，发现有setTimeout是异步宏任务，记做timer4放到宏任务队列</p>
<p>微任务队列中的console.log(7)是同步任务，直接执行，打印7</p>
<p>微任务执行完毕，第一次循环结束</p>
<p>检查宏任务队列，里面有timer1、timer2、timer3、timer4，四个定时器宏任务，按照定时器延迟时间得到可以执行的顺序，即Event Queue：timer2、timer4、timer3、timer1，依次拿出放入执行栈末尾执行 <strong>(插播一条：浏览器 event loop 的 Macrotask queue，就是宏任务队列在每次循环中只会读取一个任务)</strong></p>
<p>执行timer2，console.log(3)为同步任务，直接执行，打印3</p>
<p>检查没有微任务，第二次Event Loop结束</p>
<p>执行timer4，console.log(6)为同步任务，直接执行，打印6</p>
<p>检查没有微任务，第三次Event Loop结束</p>
<p>执行timer3，console.log(5)同步任务，直接执行，打印5</p>
<p>检查没有微任务，第四次Event Loop结束</p>
<p>执行timer1，console.log(2)同步任务，直接执行，打印2</p>
<p>检查没有微任务，也没有宏任务，第五次Event Loop结束</p>
<p>结果：1，4，8，7，3，6，5，2</p>
<h2 id="提一下NodeJS中的运行机制"><a href="#提一下NodeJS中的运行机制" class="headerlink" title="提一下NodeJS中的运行机制"></a>提一下NodeJS中的运行机制</h2><p>上面的一切都是针对于浏览器的EventLoop</p>
<p>虽然NodeJS中的JavaScript运行环境也是V8，也是单线程，但是，还是有一些与浏览器中的表现是不一样的</p>
<p>其实nodejs与浏览器的区别，就是nodejs的宏任务分好几种类型，而这好几种又有不同的任务队列，而不同的任务队列又有顺序区别，而微任务是穿插在每一种宏任务之间的</p>
<p>在node环境下，process.nextTick的优先级高于Promise，可以简单理解为在宏任务结束后会先执行微任务队列中的nextTickQueue部分，然后才会执行微任务中的Promise部分</p>
<p><img src="/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/16fb7aed8db21b8dtplv-t2oaga2asx-zoom-in-crop-mark4536000.awebp" alt="img"></p>
<p>上图来自NodeJS官网</p>
<p>如上图所示，nodejs的宏任务分好几种类型，我们只简单介绍大体内容了解，不详细解释，不然又是啰哩啰嗦一大篇</p>
<p>NodeJS的Event Loop相对比较麻烦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Node会先执行所有类型为 timers 的 MacroTask，然后执行所有的 MicroTask(NextTick例外)</span><br><span class="line"></span><br><span class="line">进入 poll 阶段，执行几乎所有 MacroTask，然后执行所有的 MicroTask</span><br><span class="line"></span><br><span class="line">再执行所有类型为 check 的 MacroTask，然后执行所有的 MicroTask</span><br><span class="line"></span><br><span class="line">再执行所有类型为 close callbacks 的 MacroTask，然后执行所有的 MicroTask</span><br><span class="line"></span><br><span class="line">至此，完成一个 Tick，回到 timers 阶段</span><br><span class="line"></span><br><span class="line">……</span><br><span class="line"></span><br><span class="line">如此反复，无穷无尽……</span><br></pre></td></tr></table></figure>

<p>反观浏览器中Event Loop就比较容易理解</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">先执行一个 MacroTask，然后执行所有的 MicroTask</span><br><span class="line"></span><br><span class="line">再执行一个 MacroTask，然后执行所有的 MicroTask</span><br><span class="line"></span><br><span class="line">……</span><br><span class="line"></span><br><span class="line">如此反复，无穷无尽……</span><br></pre></td></tr></table></figure>

<p>好了，关于Node中各个类型阶段的解析，这里就不过多说明了，自己查阅资料吧，这里就是简单提一下，NodeJS的Event Loop解释起来比浏览器这繁杂，这里就只做个对比</p>
<h1 id="JS工具库"><a href="#JS工具库" class="headerlink" title="JS工具库"></a>JS工具库</h1><h2 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h2><h2 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h2><p>见Vue篇</p>
<h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><p>见React篇</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://github.com/Saiable">Sai</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://mindcons.cn/2022/09/16/md/web/JavaScript/js%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E8%BF%9B%E9%98%B6/">https://mindcons.cn/2022/09/16/md/web/JavaScript/js从基础到进阶/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://mindcons.cn" target="_blank">吕小布の博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/javascript/">javascript</a></div><div class="post_share"><div class="social-share" data-image="https://bu.dusays.com/2023/02/10/63e583843360e.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://bu.dusays.com/2023/02/10/63e580229ee01.webp" target="_blank"><img class="post-qr-code-img" src="https://bu.dusays.com/2023/02/10/63e580229ee01.webp" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://bu.dusays.com/2023/02/09/63e48775d4f42.webp" target="_blank"><img class="post-qr-code-img" src="https://bu.dusays.com/2023/02/09/63e48775d4f42.webp" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/10/08/md/web/%E6%A1%88%E4%BE%8B%E5%AE%9E%E6%88%98/%E9%A1%B5%E9%9D%A2%E6%95%88%E6%9E%9C/"><img class="prev-cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">页面效果</div></div></a></div><div class="next-post pull-right"><a href="/2022/09/03/md/web/%E8%BF%9B%E9%98%B6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"><img class="next-cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">常用数据结构与算法</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/08/08/md/web/JavaScript/Promise/" title="Promise的使用与实现"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-08</div><div class="title">Promise的使用与实现</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://bu.dusays.com/2023/02/10/63e583843360e.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Sai</div><div class="author-info__description">天可补,海可填,南山可移。日月既往,不可复追。</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">181</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">61</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">44</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Saiable"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://bu.dusays.com/2023/02/10/63e57e822f198.webp" target="_blank" title="QQ"><i class="fa-brands fa-qq"></i></a><a class="social-icon" href="https://bu.dusays.com/2023/02/10/63e57f8ac9fae.webp" target="_blank" title="WeChat"><i class="fa-brands fa-weixin"></i></a><a class="social-icon" href="https://github.com/Saiable" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:mindcons@foxmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">日月既往,不可复追。</div></div><div class="xpand" style="height:200px;"><canvas class="illo" width="800" height="800" style="max-width: 200px; max-height: 200px; touch-action: none; width: 640px; height: 640px;"></canvas></div><script src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/twopeople1.js"></script><script src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/zdog.dist.js"></script><script id="rendered-js" src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/twopeople.js"></script><style>.card-widget.card-announcement {
margin: 0;
align-items: center;
justify-content: center;
text-align: center;
}
canvas {
display: block;
margin: 0 auto;
cursor: move;
}</style><div class="card-widget tzy-right-widget" id="card-wechat"><div id="flip-wrapper"><div id="flip-content"><div class="face"></div><div class="back face"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3%E5%89%8D%E7%AB%AF%E4%B8%8E%E5%87%86%E5%A4%87"><span class="toc-number">1.</span> <span class="toc-text">了解前端与准备</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E5%8F%91%E5%B1%95%E5%8F%B2%EF%BC%9A%E5%85%A8%E9%9D%A2%E6%8B%A5%E6%8A%B1%E5%A4%A7%E5%89%8D%E7%AB%AF%E6%97%B6%E4%BB%A3"><span class="toc-number">1.1.</span> <span class="toc-text">前端发展史：全面拥抱大前端时代</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#web1-0%E6%97%B6%E4%BB%A3%EF%BC%9A%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5"><span class="toc-number">1.1.1.</span> <span class="toc-text">web1.0时代：静态网页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#web2-0%E6%97%B6%E4%BB%A3%EF%BC%9A%E5%8A%A8%E6%80%81%E7%BD%91%E9%A1%B5%E7%9A%84%E5%B4%9B%E8%B5%B7"><span class="toc-number">1.1.2.</span> <span class="toc-text">web2.0时代：动态网页的崛起</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">服务端渲染</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AJAX%E6%97%B6%E4%BB%A3"><span class="toc-number">1.1.3.</span> <span class="toc-text">AJAX时代</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%B2%E6%9F%93"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">客户端渲染</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#App"><span class="toc-number">1.1.4.</span> <span class="toc-text">App</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E7%94%9FAPP-Native-App"><span class="toc-number">1.1.4.1.</span> <span class="toc-text">原生APP ( Native App )</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Web-App-H5%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.1.4.2.</span> <span class="toc-text">Web App ( H5页面)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hybrid%E6%B7%B7%E5%90%88APP%E5%BC%80%E5%8F%91%EF%BC%8899-99999-%EF%BC%89"><span class="toc-number">1.1.4.3.</span> <span class="toc-text">Hybrid混合APP开发（99.99999%）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NODE%E5%B4%9B%E8%B5%B7"><span class="toc-number">1.1.4.4.</span> <span class="toc-text">NODE崛起</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E6%9C%AA%E6%9D%A5%E5%8F%91%E5%B1%95%E9%A2%84%E4%BC%B0"><span class="toc-number">1.1.4.5.</span> <span class="toc-text">前端未来发展预估</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%93%E4%B8%8B%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E7%9A%84%E6%8A%80%E6%9C%AF%E4%BD%93%E7%B3%BB"><span class="toc-number">1.1.5.</span> <span class="toc-text">当下前端开发的技术体系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5-HTML-5-CSS-3"><span class="toc-number">1.1.5.1.</span> <span class="toc-text">第一阶段: HTML (5) + CSS (3) </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5-JS%E5%8C%85%E6%8B%ACES6%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86"><span class="toc-number">1.1.5.2.</span> <span class="toc-text">第二阶段: JS包括ES6核心原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5-AJAX%E5%92%8CHTTP"><span class="toc-number">1.1.5.3.</span> <span class="toc-text">第三阶段: AJAX和HTTP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E9%98%B6%E6%AE%B5-%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91"><span class="toc-number">1.1.5.4.</span> <span class="toc-text">第四阶段:框架开发</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E9%98%B6%E6%AE%B5-%E8%BE%85%E5%8A%A9%E6%8A%80%E8%83%BD"><span class="toc-number">1.1.5.5.</span> <span class="toc-text">第五阶段:辅助技能</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90%E7%9A%84%E5%AD%A6%E4%B9%A0%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.</span> <span class="toc-text">推荐的学习方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E9%9C%80%E8%A6%81%E6%8E%8C%E6%8F%A1%E7%9A%84IDE"><span class="toc-number">1.3.</span> <span class="toc-text">前端开发需要掌握的IDE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%94%E8%AE%B0%E5%B7%A5%E5%85%B7"><span class="toc-number">1.4.</span> <span class="toc-text">笔记工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%86%85%E6%A0%B8%E5%92%8C%E6%8E%A7%E5%88%B6%E5%8F%B0"><span class="toc-number">1.5.</span> <span class="toc-text">浏览器内核和控制台</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="toc-number">1.5.1.</span> <span class="toc-text">常用浏览器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E6%8E%A7%E5%88%B6%E5%8F%B0-F12-x2F-Fn-F12"><span class="toc-number">1.6.</span> <span class="toc-text">谷歌浏览器的控制台(F12&#x2F;Fn+F12)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JS%E6%A6%82%E8%A7%88"><span class="toc-number">2.</span> <span class="toc-text">JS概览</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%92%8C%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-number">2.1.</span> <span class="toc-text">变量和命名规范</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">2.1.1.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#var"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">var</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#let"><span class="toc-number">2.1.1.2.</span> <span class="toc-text">let</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9A%82%E6%97%B6%E6%80%A7%E6%AD%BB%E5%8C%BA"><span class="toc-number">2.1.1.2.1.</span> <span class="toc-text">暂时性死区</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%A3%B0%E6%98%8E"><span class="toc-number">2.1.1.2.2.</span> <span class="toc-text">全局声明</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#const"><span class="toc-number">2.1.1.3.</span> <span class="toc-text">const</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-number">2.1.2.</span> <span class="toc-text">命名规范</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.1.</span> <span class="toc-text">基本数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97number"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">数字number</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2string"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">字符串string</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B0%94boolean"><span class="toc-number">2.2.1.3.</span> <span class="toc-text">布尔boolean</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#null-amp-undefined"><span class="toc-number">2.2.1.4.</span> <span class="toc-text">null &amp; undefined</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#symbol-%E5%94%AF%E4%B8%80%E5%80%BC"><span class="toc-number">2.2.1.5.</span> <span class="toc-text">symbol 唯一值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bigint-%E5%A4%A7%E6%95%B0"><span class="toc-number">2.2.1.6.</span> <span class="toc-text">bigint 大数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.2.</span> <span class="toc-text">对象数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.2.2.1.</span> <span class="toc-text">普通对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%90%8D%E5%92%8C%E5%B1%9E%E6%80%A7%E5%90%8D%E5%8C%BA%E5%88%AB"><span class="toc-number">2.2.2.1.1.</span> <span class="toc-text">变量名和属性名区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#for-in-%E5%BE%AA%E7%8E%AF"><span class="toc-number">2.2.2.1.2.</span> <span class="toc-text">for in 循环</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.2.2.2.</span> <span class="toc-text">特殊对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">2.2.2.2.1.</span> <span class="toc-text">数组</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.2.2.3.</span> <span class="toc-text">元素对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7"><span class="toc-number">2.2.2.4.</span> <span class="toc-text">对象的自定义属性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%A0%86%E6%A0%88%E5%BA%95%E5%B1%82%E6%9C%BA%E5%88%B6"><span class="toc-number">2.3.</span> <span class="toc-text">数据类型堆栈底层机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%B5%8B"><span class="toc-number">2.4.</span> <span class="toc-text">数据类型检测</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#typeof"><span class="toc-number">2.4.1.</span> <span class="toc-text">typeof</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#instanceof"><span class="toc-number">2.4.2.</span> <span class="toc-text">instanceof</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#constructor-NaN"><span class="toc-number">2.4.3.</span> <span class="toc-text">constructor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-prototype-toString-call"><span class="toc-number">2.4.4.</span> <span class="toc-text">Object.prototype.toString.call</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">2.5.</span> <span class="toc-text">流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD"><span class="toc-number">2.5.1.</span> <span class="toc-text">判断</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.5.1.1.</span> <span class="toc-text">三元运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#switch-case"><span class="toc-number">2.5.1.2.</span> <span class="toc-text">switch case</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#x3D-x3D-VS-x3D-x3D-x3D"><span class="toc-number">2.5.1.3.</span> <span class="toc-text">&#x3D;&#x3D; VS &#x3D;&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-number">2.5.2.</span> <span class="toc-text">循环</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5"><span class="toc-number">2.6.</span> <span class="toc-text">函数的基础概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">2.6.1.</span> <span class="toc-text">函数的创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">2.6.2.</span> <span class="toc-text">函数参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">2.6.3.</span> <span class="toc-text">函数返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-number">2.6.4.</span> <span class="toc-text">匿名函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%BA%95%E5%B1%82%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6"><span class="toc-number">2.6.5.</span> <span class="toc-text">函数的底层运行机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84arguments"><span class="toc-number">2.6.6.</span> <span class="toc-text">函数的arguments</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">2.6.7.</span> <span class="toc-text">箭头函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">2.7.</span> <span class="toc-text">正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%98%AF%E5%B9%B2%E4%BB%80%E4%B9%88%E7%9A%84"><span class="toc-number">2.7.1.</span> <span class="toc-text">正则表达式是干什么的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E5%86%99%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">2.7.2.</span> <span class="toc-text">编写正则表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E5%AD%97%E7%AC%A6%E5%89%96%E6%9E%90"><span class="toc-number">2.7.3.</span> <span class="toc-text">元字符剖析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E5%92%8C%E7%BB%93%E5%B0%BE"><span class="toc-number">2.7.3.1.</span> <span class="toc-text">^ $ 开始和结尾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E4%B9%89"><span class="toc-number">2.7.3.2.</span> <span class="toc-text">\ 转义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#x-y-%E6%88%96"><span class="toc-number">2.7.3.3.</span> <span class="toc-text">x|y 或</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-number">2.7.3.4.</span> <span class="toc-text">[]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E5%AD%97%E7%AC%A6%E5%8F%8A%E5%85%B6%E5%90%AB%E4%B9%89%E5%AE%8C%E6%95%B4%E5%88%97%E8%A1%A8"><span class="toc-number">2.7.3.5.</span> <span class="toc-text">元字符及其含义完整列表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">2.7.4.</span> <span class="toc-text">常用正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E6%98%AF%E5%90%A6%E4%B8%BA%E6%9C%89%E6%95%88%E6%95%B0%E5%AD%97"><span class="toc-number">2.7.4.1.</span> <span class="toc-text">验证是否为有效数字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E5%AF%86%E7%A0%81"><span class="toc-number">2.7.4.2.</span> <span class="toc-text">验证密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E7%9C%9F%E5%AE%9E%E5%A7%93%E5%90%8D"><span class="toc-number">2.7.4.3.</span> <span class="toc-text">验证真实姓名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E9%82%AE%E7%AE%B1"><span class="toc-number">2.7.4.4.</span> <span class="toc-text">验证邮箱</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E8%BA%AB%E4%BB%BD%E8%AF%81%E5%8F%B7%E7%A0%81"><span class="toc-number">2.7.4.5.</span> <span class="toc-text">验证身份证号码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E5%88%9B%E5%BB%BA%E6%AD%A3%E5%88%99%E6%96%B9%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.7.5.</span> <span class="toc-text">两种创建正则方式的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E6%8D%95%E8%8E%B7"><span class="toc-number">2.7.6.</span> <span class="toc-text">正则捕获</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%AD%A3%E5%88%99%E6%8D%95%E8%8E%B7%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">2.7.6.1.</span> <span class="toc-text">实现正则捕获的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E6%8F%90"><span class="toc-number">2.7.6.2.</span> <span class="toc-text">前提</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#exec%E6%8D%95%E8%8E%B7%E7%BB%93%E6%9E%9C"><span class="toc-number">2.7.6.3.</span> <span class="toc-text">exec捕获结果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#exec%E6%8D%95%E8%8E%B7%E5%8E%9F%E7%90%86%EF%BC%88%E6%87%92%E6%83%B0%E6%80%A7%EF%BC%89"><span class="toc-number">2.7.6.4.</span> <span class="toc-text">exec捕获原理（懒惰性）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#exec%E6%96%B9%E6%B3%95%E5%B0%81%E8%A3%85"><span class="toc-number">2.7.6.5.</span> <span class="toc-text">exec方法封装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E6%8D%95%E8%8E%B7%E5%92%8C%E5%88%86%E7%BB%84%E5%BC%95%E7%94%A8"><span class="toc-number">2.7.6.6.</span> <span class="toc-text">分组捕获和分组引用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">2.7.7.</span> <span class="toc-text">应用场景</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ES6"><span class="toc-number">3.</span> <span class="toc-text">ES6+</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%8F%8A%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">3.1.</span> <span class="toc-text">变量及作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#let%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E%E5%8F%8A%E5%85%B6%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">3.1.1.</span> <span class="toc-text">let变量声明及其作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#const%E5%B8%B8%E9%87%8F%E5%A3%B0%E6%98%8E"><span class="toc-number">3.1.2.</span> <span class="toc-text">const常量声明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">3.2.</span> <span class="toc-text">解构赋值</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E8%A7%A3%E6%9E%84"><span class="toc-number">3.2.1.</span> <span class="toc-text">数组的解构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%A7%A3%E6%9E%84"><span class="toc-number">3.2.2.</span> <span class="toc-text">对象的解构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC%E7%9A%84%E8%BF%9E%E7%BB%AD%E5%86%99%E6%B3%95"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">对象解构赋值的连续写法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.3.</span> <span class="toc-text">模板字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%AE%80%E5%8C%96%E5%86%99%E6%B3%95"><span class="toc-number">3.4.</span> <span class="toc-text">对象的简化写法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0-1"><span class="toc-number">3.5.</span> <span class="toc-text">箭头函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E4%BB%A5%E5%8F%8A%E5%A3%B0%E6%98%8E%E7%89%B9%E7%82%B9"><span class="toc-number">3.5.1.</span> <span class="toc-text">箭头函数以及声明特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9E%E8%B7%B5%E5%92%8C%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">3.5.2.</span> <span class="toc-text">箭头函数的实践和应用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">3.5.3.</span> <span class="toc-text">函数参数的默认值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rest%E5%8F%82%E6%95%B0"><span class="toc-number">3.5.4.</span> <span class="toc-text">rest参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">3.6.</span> <span class="toc-text">扩展运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E8%BF%90%E7%94%A8"><span class="toc-number">3.6.1.</span> <span class="toc-text">扩展运算符的运用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Symbol%E7%9A%84%E4%BB%8B%E7%BB%8D%E4%B8%8E-%E5%BA%94%E7%94%A8"><span class="toc-number">3.7.</span> <span class="toc-text">Symbol的介绍与 应用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%B7%BB%E5%8A%A0Symbol%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%B1%9E%E6%80%A7%C2%B6"><span class="toc-number">3.7.1.</span> <span class="toc-text">对象添加Symbol类型的属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Symbol%E7%9A%84%E5%86%85%E7%BD%AE%E5%B1%9E%E6%80%A7%C2%B6"><span class="toc-number">3.7.2.</span> <span class="toc-text">Symbol的内置属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%BB%8B%E7%BB%8D%C2%B6"><span class="toc-number">3.7.3.</span> <span class="toc-text">迭代器介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BF%AD%E4%BB%A3%E5%99%A8%C2%B6"><span class="toc-number">3.7.4.</span> <span class="toc-text">自定义迭代器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E4%B8%8E%E8%B0%83%E7%94%A8%C2%B6"><span class="toc-number">3.7.5.</span> <span class="toc-text">生成器函数声明与调用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%C2%B6"><span class="toc-number">3.7.6.</span> <span class="toc-text">生成器函数的参数传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0%E5%AE%9E%E4%BE%8B%C2%B6"><span class="toc-number">3.7.7.</span> <span class="toc-text">生成器函数实例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0%E5%AE%9E%E4%BE%8B2%C2%B6"><span class="toc-number">3.7.8.</span> <span class="toc-text">生成器函数实例2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Promise"><span class="toc-number">3.8.</span> <span class="toc-text">Promise</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">3.8.1.</span> <span class="toc-text">Promise介绍与基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise%E5%B0%81%E8%A3%85%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6"><span class="toc-number">3.8.2.</span> <span class="toc-text">Promise封装读取文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Promise%E5%B0%81%E8%A3%85ajax%E8%AF%B7%E6%B1%82"><span class="toc-number">3.8.3.</span> <span class="toc-text">使用Promise封装ajax请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise-prototype-then%E6%96%B9%E6%B3%95"><span class="toc-number">3.8.4.</span> <span class="toc-text">Promise.prototype.then方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise%E5%AE%9E%E8%B7%B5%E7%BB%83%E4%B9%A0"><span class="toc-number">3.8.5.</span> <span class="toc-text">Promise实践练习</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise%E5%AF%B9%E8%B1%A1catch%E6%96%B9%E6%B3%95"><span class="toc-number">3.8.6.</span> <span class="toc-text">Promise对象catch方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#await"><span class="toc-number">3.9.</span> <span class="toc-text">await</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88"><span class="toc-number">3.10.</span> <span class="toc-text">集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E4%BB%8B%E7%BB%8D%E4%B8%8EAPI%C2%B6"><span class="toc-number">3.10.1.</span> <span class="toc-text">集合介绍与API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E5%AE%9E%E8%B7%B5%C2%B6"><span class="toc-number">3.10.2.</span> <span class="toc-text">集合实践</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map%E7%9A%84%E4%BB%8B%E7%BB%8D%E4%B8%8EAPI%C2%B6"><span class="toc-number">3.10.3.</span> <span class="toc-text">Map的介绍与API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#class%E7%B1%BB%C2%B6"><span class="toc-number">3.10.4.</span> <span class="toc-text">class类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#class%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%C2%B6"><span class="toc-number">3.10.5.</span> <span class="toc-text">class静态成员</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6-ES5%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%BB%A7%E6%89%BF%C2%B6"><span class="toc-number">3.10.6.</span> <span class="toc-text">ES6-ES5构造函数继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6-class%E7%9A%84%E7%B1%BB%E7%BB%A7%E6%89%BF%C2%B6"><span class="toc-number">3.10.7.</span> <span class="toc-text">ES6-class的类继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E7%B1%BB%E5%AF%B9%E7%88%B6%E7%B1%BB%E6%96%B9%E6%B3%95%E7%9A%84%E9%87%8D%E5%86%99%C2%B6"><span class="toc-number">3.10.8.</span> <span class="toc-text">子类对父类方法的重写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#class%E4%B8%ADgetter%E5%92%8Csetter%E7%9A%84%E8%AE%BE%E7%BD%AE%C2%B6"><span class="toc-number">3.10.9.</span> <span class="toc-text">class中getter和setter的设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6%E7%9A%84%E6%95%B0%E5%80%BC%E6%89%A9%E5%B1%95%C2%B6"><span class="toc-number">3.10.10.</span> <span class="toc-text">ES6的数值扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95%E6%89%A9%E5%B1%95%C2%B6"><span class="toc-number">3.10.11.</span> <span class="toc-text">ES6的对象方法扩展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96%E4%BB%8B%E7%BB%8D%E3%80%81%E4%BC%98%E5%8A%BF%E5%8F%8A%E4%BA%A7%E5%93%81%C2%B6"><span class="toc-number">3.10.12.</span> <span class="toc-text">模块化介绍、优势及产品</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BD%BF%E7%94%A8ES6%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%95%E5%85%A5%E6%A8%A1%E5%9D%97%C2%B6"><span class="toc-number">3.10.13.</span> <span class="toc-text">浏览器使用ES6模块化引入模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6%E6%A8%A1%E5%9D%97%E6%9A%B4%E9%9C%B2%E6%95%B0%E6%8D%AE%E8%AF%AD%E6%B3%95%E6%B1%87%E6%80%BB%C2%B6"><span class="toc-number">3.10.14.</span> <span class="toc-text">ES6模块暴露数据语法汇总</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6%E5%BC%95%E5%85%A5%E6%A8%A1%E5%9D%97%E6%95%B0%E6%8D%AE%E8%AF%AD%E6%B3%95%E6%B1%87%E6%80%BB%C2%B6"><span class="toc-number">3.10.15.</span> <span class="toc-text">ES6引入模块数据语法汇总</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BD%BF%E7%94%A8ES6%E6%A8%A1%E5%9D%97%E4%BA%8C%C2%B6"><span class="toc-number">3.10.16.</span> <span class="toc-text">浏览器使用ES6模块二</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JS%E5%B8%B8%E7%94%A8API"><span class="toc-number">4.</span> <span class="toc-text">JS常用API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Math%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.</span> <span class="toc-text">Math常用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9D%E5%AF%B9%E5%80%BC%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.1.</span> <span class="toc-text">绝对值方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%88%8D%E5%85%A5%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.2.</span> <span class="toc-text">舍入方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E5%80%BC%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.3.</span> <span class="toc-text">最值方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%95%B0%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.4.</span> <span class="toc-text">随机数方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">4.1.5.</span> <span class="toc-text">其他</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Array%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">4.2.</span> <span class="toc-text">Array常用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%88%E6%96%B9%E6%B3%95"><span class="toc-number">4.2.1.</span> <span class="toc-text">栈方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%9F%E5%88%97%E6%96%B9%E6%B3%95"><span class="toc-number">4.2.2.</span> <span class="toc-text">队列方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#concact-%EF%BC%9A%E5%90%88%E5%B9%B6%E6%95%B0%E7%BB%84"><span class="toc-number">4.2.3.</span> <span class="toc-text">concact()：合并数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95"><span class="toc-number">4.2.4.</span> <span class="toc-text">操作方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#delete"><span class="toc-number">4.2.5.</span> <span class="toc-text">delete</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Object%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">4.3.</span> <span class="toc-text">Object常用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-create"><span class="toc-number">4.3.1.</span> <span class="toc-text">Object.create()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-entries"><span class="toc-number">4.3.2.</span> <span class="toc-text">Object.entries</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-keys"><span class="toc-number">4.3.3.</span> <span class="toc-text">Object.keys()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-values"><span class="toc-number">4.3.4.</span> <span class="toc-text">Object.values</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-assign"><span class="toc-number">4.3.5.</span> <span class="toc-text">Object.assign()</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">4.3.5.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0"><span class="toc-number">4.3.5.2.</span> <span class="toc-text">描述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">4.3.5.3.</span> <span class="toc-text">示例</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E5%AF%B9%E8%B1%A1"><span class="toc-number">4.3.5.3.1.</span> <span class="toc-text">复制对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D%E9%97%AE%E9%A2%98"><span class="toc-number">4.3.5.3.2.</span> <span class="toc-text">深拷贝问题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E5%AF%B9%E8%B1%A1"><span class="toc-number">4.3.5.3.3.</span> <span class="toc-text">合并对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E5%85%B7%E6%9C%89%E7%9B%B8%E5%90%8C%E5%B1%9E%E6%80%A7%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="toc-number">4.3.5.3.4.</span> <span class="toc-text">合并具有相同属性的对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%B7%E8%B4%9D-Symbol-%E7%B1%BB%E5%9E%8B%E5%B1%9E%E6%80%A7"><span class="toc-number">4.3.5.3.5.</span> <span class="toc-text">拷贝 Symbol 类型属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E9%93%BE%E4%B8%8A%E7%9A%84%E5%B1%9E%E6%80%A7%E5%92%8C%E4%B8%8D%E5%8F%AF%E6%9E%9A%E4%B8%BE%E5%B1%9E%E6%80%A7%E4%B8%8D%E8%83%BD%E8%A2%AB%E5%A4%8D%E5%88%B6"><span class="toc-number">4.3.5.3.6.</span> <span class="toc-text">原型链上的属性和不可枚举属性不能被复制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E4%BC%9A%E8%A2%AB%E5%8C%85%E8%A3%85%E4%B8%BA%E5%AF%B9%E8%B1%A1"><span class="toc-number">4.3.5.3.7.</span> <span class="toc-text">基本类型会被包装为对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E4%BC%9A%E6%89%93%E6%96%AD%E5%90%8E%E7%BB%AD%E6%8B%B7%E8%B4%9D%E4%BB%BB%E5%8A%A1"><span class="toc-number">4.3.5.3.8.</span> <span class="toc-text">异常会打断后续拷贝任务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8B%B7%E8%B4%9D%E8%AE%BF%E9%97%AE%E5%99%A8"><span class="toc-number">4.3.5.3.9.</span> <span class="toc-text">拷贝访问器</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E8%A7%81"><span class="toc-number">4.3.5.4.</span> <span class="toc-text">参见</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Date%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">4.4.</span> <span class="toc-text">Date常用方法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E8%AE%AD%E7%BB%83"><span class="toc-number">5.</span> <span class="toc-text">案例训练</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">5.1.</span> <span class="toc-text">数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E9%80%BB%E8%BE%91"><span class="toc-number">5.2.</span> <span class="toc-text">判断逻辑</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%95%B0%E5%AD%97%E6%AD%A3%E8%B4%9F"><span class="toc-number">5.2.1.</span> <span class="toc-text">判断数字正负</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A5%87%E5%81%B6%E5%88%A4%E5%AE%9A"><span class="toc-number">5.2.2.</span> <span class="toc-text">奇偶判定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%90%E7%BB%A9%E5%88%A4%E5%AE%9A"><span class="toc-number">5.2.3.</span> <span class="toc-text">成绩判定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B4%E7%BB%88%E5%A5%96%E5%8F%91%E6%94%BE%E5%88%A4%E5%AE%9A"><span class="toc-number">5.2.4.</span> <span class="toc-text">年终奖发放判定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E6%B2%B9%E4%BC%98%E6%83%A0"><span class="toc-number">5.2.5.</span> <span class="toc-text">加油优惠</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A5%87%E5%81%B6%E8%A1%8C%E5%8F%98%E8%89%B2"><span class="toc-number">5.2.6.</span> <span class="toc-text">奇偶行变色</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E9%A1%B9%E5%8D%A1%E6%A1%88%E4%BE%8B"><span class="toc-number">5.3.</span> <span class="toc-text">选项卡案例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E9%A2%98"><span class="toc-number">5.4.</span> <span class="toc-text">扩展题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#title-js%E5%BA%95%E5%B1%82%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5date-2022-10-14-05-58-44cover-falsetags-javascriptcategories-%E2%80%98javascript%E2%80%99typora-root-url-js%E5%BA%95%E5%B1%82%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">5.5.</span> <span class="toc-text">title: js底层核心概念date: 2022-10-14 05:58:44cover: falsetags:- javascriptcategories: ‘javascript’typora-root-url: js底层核心概念</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JS%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">6.</span> <span class="toc-text">JS核心概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">6.1.</span> <span class="toc-text">数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%88"><span class="toc-number">6.1.1.</span> <span class="toc-text">栈</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%A1%A8"><span class="toc-number">6.1.2.</span> <span class="toc-text">链表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88-1"><span class="toc-number">6.1.3.</span> <span class="toc-text">集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8"><span class="toc-number">6.1.4.</span> <span class="toc-text">字典</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%A3%E5%88%97"><span class="toc-number">6.1.5.</span> <span class="toc-text">散列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%91"><span class="toc-number">6.1.6.</span> <span class="toc-text">树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE"><span class="toc-number">6.1.7.</span> <span class="toc-text">图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A0%86%E6%A0%88%E5%86%85%E5%AD%98"><span class="toc-number">6.2.</span> <span class="toc-text">堆栈内存</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%88%E5%86%85%E5%AD%98"><span class="toc-number">6.2.1.</span> <span class="toc-text">栈内存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A0%86%E5%86%85%E5%AD%98"><span class="toc-number">6.2.2.</span> <span class="toc-text">堆内存</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%86%85%E5%AD%98%E6%9C%BA%E5%88%B6"><span class="toc-number">6.3.</span> <span class="toc-text">数据类型内存机制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">6.3.1.</span> <span class="toc-text">基本数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.3.2.</span> <span class="toc-text">引用数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E8%A7%92%E5%BA%A6%E5%88%86%E6%9E%90%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E%E5%8F%8A%E5%AE%9A%E4%B9%89"><span class="toc-number">6.3.3.</span> <span class="toc-text">内存角度分析变量声明及定义</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE"><span class="toc-number">6.4.</span> <span class="toc-text">作用域与作用域链</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">6.4.1.</span> <span class="toc-text">作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%9A%84%E5%B5%8C%E5%A5%97"><span class="toc-number">6.4.2.</span> <span class="toc-text">作用域的嵌套</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%9A%84%E4%B8%80%E4%BA%9B%E5%AE%9E%E7%8E%B0%E7%BB%86%E8%8A%82"><span class="toc-number">6.4.3.</span> <span class="toc-text">作用域的一些实现细节</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE"><span class="toc-number">6.4.4.</span> <span class="toc-text">作用域链</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E4%BC%98%E5%8C%96"><span class="toc-number">6.4.5.</span> <span class="toc-text">相关优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">6.4.6.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">6.5.</span> <span class="toc-text">变量生命周期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8A%E4%B8%8B%E6%96%87"><span class="toc-number">6.6.</span> <span class="toc-text">上下文</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87%EF%BC%8C%E5%87%BD%E6%95%B0%E6%8F%90%E5%8D%87%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E8%A7%A3%E6%9E%90%E5%8F%98%E9%87%8F%E7%9A%84%E6%9C%BA%E5%88%B6"><span class="toc-number">6.7.</span> <span class="toc-text">变量提升，函数提升、浏览器解析变量的机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS%E9%A2%84%E8%A7%A3%E6%9E%90"><span class="toc-number">6.8.</span> <span class="toc-text">JS预解析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BA%95%E5%B1%82%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6"><span class="toc-number">6.9.</span> <span class="toc-text">函数底层执行机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#let%E3%80%81const%E5%92%8C%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">6.10.</span> <span class="toc-text">let、const和块级作用域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A0%86%E6%A0%88%E5%86%85%E5%AD%98%E5%8F%8A%E5%87%BD%E6%95%B0%E5%BA%95%E5%B1%82%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6"><span class="toc-number">6.11.</span> <span class="toc-text">堆栈内存及函数底层处理机制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JS%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6"><span class="toc-number">7.</span> <span class="toc-text">JS运行机制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B"><span class="toc-number">7.1.</span> <span class="toc-text">进程与线程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%BF%9B%E7%A8%8B"><span class="toc-number">7.1.1.</span> <span class="toc-text">什么是进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%BA%BF%E7%A8%8B"><span class="toc-number">7.1.2.</span> <span class="toc-text">什么是线程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">7.1.3.</span> <span class="toc-text">进程和线程的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%BF%9B%E7%A8%8B%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="toc-number">7.1.4.</span> <span class="toc-text">多进程和多线程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%95%E7%BA%BF%E7%A8%8B"><span class="toc-number">7.2.</span> <span class="toc-text">JS为什么是单线程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="toc-number">7.3.</span> <span class="toc-text">浏览器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%98%AF%E5%A4%9A%E8%BF%9B%E7%A8%8B%E7%9A%84"><span class="toc-number">7.3.1.</span> <span class="toc-text">浏览器是多进程的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8C%85%E5%90%AB%E5%93%AA%E4%BA%9B%E8%BF%9B%E7%A8%8B"><span class="toc-number">7.3.2.</span> <span class="toc-text">浏览器包含哪些进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%B5%8F%E8%A7%88%E5%99%A8%E8%A6%81%E5%A4%9A%E8%BF%9B%E7%A8%8B"><span class="toc-number">7.3.3.</span> <span class="toc-text">为什么浏览器要多进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E8%BF%B0%E6%B8%B2%E6%9F%93%E8%BF%9B%E7%A8%8BRenderer-%E9%87%8D"><span class="toc-number">7.3.4.</span> <span class="toc-text">简述渲染进程Renderer(重)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%B2%E6%9F%93%E8%BF%9B%E7%A8%8BRenderer%E7%9A%84%E4%B8%BB%E8%A6%81%E7%BA%BF%E7%A8%8B"><span class="toc-number">7.3.5.</span> <span class="toc-text">渲染进程Renderer的主要线程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GUI%E6%B8%B2%E6%9F%93%E7%BA%BF%E7%A8%8B"><span class="toc-number">7.3.5.1.</span> <span class="toc-text">GUI渲染线程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JS%E5%BC%95%E6%93%8E%E7%BA%BF%E7%A8%8B"><span class="toc-number">7.3.5.2.</span> <span class="toc-text">JS引擎线程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91%E7%BA%BF%E7%A8%8B"><span class="toc-number">7.3.5.3.</span> <span class="toc-text">事件触发线程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E6%97%B6%E8%A7%A6%E5%8F%91%E5%99%A8%E7%BA%BF%E7%A8%8B"><span class="toc-number">7.3.5.4.</span> <span class="toc-text">定时触发器线程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5http%E8%AF%B7%E6%B1%82%E7%BA%BF%E7%A8%8B"><span class="toc-number">7.3.5.5.</span> <span class="toc-text">异步http请求线程</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF-Event-Loop-%E5%88%9D%E6%8E%A2"><span class="toc-number">7.4.</span> <span class="toc-text">事件循环(Event Loop)初探</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8F%E4%BB%BB%E5%8A%A1-macrotask-amp-%E5%BE%AE%E4%BB%BB%E5%8A%A1-microtask"><span class="toc-number">7.5.</span> <span class="toc-text">宏任务(macrotask) &amp; 微任务(microtask)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8F%E4%BB%BB%E5%8A%A1-macrotask"><span class="toc-number">7.5.1.</span> <span class="toc-text">宏任务(macrotask)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AE%E4%BB%BB%E5%8A%A1-microtask"><span class="toc-number">7.5.2.</span> <span class="toc-text">微任务(microtask)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%8C%BA%E5%88%86%E5%AE%8F%E4%BB%BB%E5%8A%A1%E4%B8%8E%E5%BE%AE%E4%BB%BB%E5%8A%A1"><span class="toc-number">7.5.3.</span> <span class="toc-text">简单区分宏任务与微任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AE%E4%BB%BB%E5%8A%A1%E5%AE%8F%E4%BB%BB%E5%8A%A1%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">7.5.4.</span> <span class="toc-text">微任务宏任务注意点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E8%A7%A3%E5%AE%8F%E4%BB%BB%E5%8A%A1%E5%92%8C%E5%BE%AE%E4%BB%BB%E5%8A%A1"><span class="toc-number">7.5.5.</span> <span class="toc-text">图解宏任务和微任务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E8%A7%A3%E5%AE%8C%E6%95%B4%E7%9A%84Event-Loop"><span class="toc-number">7.6.</span> <span class="toc-text">图解完整的Event Loop</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8EPromise"><span class="toc-number">7.7.</span> <span class="toc-text">关于Promise</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E-async-x2F-await-%E5%87%BD%E6%95%B0"><span class="toc-number">7.8.</span> <span class="toc-text">关于 async&#x2F;await 函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BE%E6%A0%97%E5%8D%B0%E8%AF%81"><span class="toc-number">7.9.</span> <span class="toc-text">举栗印证</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%90%E4%B8%80%E4%B8%8BNodeJS%E4%B8%AD%E7%9A%84%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6"><span class="toc-number">7.10.</span> <span class="toc-text">提一下NodeJS中的运行机制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JS%E5%B7%A5%E5%85%B7%E5%BA%93"><span class="toc-number">8.</span> <span class="toc-text">JS工具库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#jQuery"><span class="toc-number">8.1.</span> <span class="toc-text">jQuery</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue"><span class="toc-number">8.2.</span> <span class="toc-text">Vue</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#React"><span class="toc-number">8.3.</span> <span class="toc-text">React</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/04/05/md/life/%E6%8A%A4%E8%82%A4%E6%B2%BB%E7%97%98%E7%B3%BB%E5%88%97/" title="护肤治痘系列">护肤治痘系列</a><time datetime="2024-04-05T10:48:52.636Z" title="发表于 2024-04-05 18:48:52">2024-04-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/04/05/md/data/%E6%95%B0%E6%8D%AE%E6%A0%87%E6%B3%A8/ppocrlabel%E5%AE%89%E8%A3%85/" title="ppocrlabel安装及使用">ppocrlabel安装及使用</a><time datetime="2024-04-05T10:48:52.340Z" title="发表于 2024-04-05 18:48:52">2024-04-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/12/01/md/data/%E6%95%B0%E6%8D%AE%E6%A0%87%E6%B3%A8/labelStudio%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/" title="labelStudio安装及使用">labelStudio安装及使用</a><time datetime="2023-11-30T22:12:44.739Z" title="发表于 2023-12-01 06:12:44">2023-12-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/12/01/md/data/%E6%95%B0%E6%8D%AE%E6%A0%87%E6%B3%A8/brat%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4/" title="brat安装步骤及注意事项">brat安装步骤及注意事项</a><time datetime="2023-11-30T22:12:44.726Z" title="发表于 2023-12-01 06:12:44">2023-12-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/13/md/linux/%E8%BF%90%E7%BB%B4/Neovim/neovim%E5%AE%9E%E6%93%8D/" title="Neovim 实操">Neovim 实操</a><time datetime="2023-11-12T23:58:07.758Z" title="发表于 2023-11-13 07:58:07">2023-11-13</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://bu.dusays.com/2023/02/10/63e57cef87293.webp')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 <i id="heartbeat" class="fa fas fa-heartbeat"></i> Sai</div><a href="https://icp.gov.moe/?keyword=20230203" target="_blank">萌ICP备20230203号</a><div class="footer_custom_text"><p><a target="_blank" href="https://hexo.io/"><img src="https://bu.dusays.com/2023/02/09/63e488a78b827.webp" title="博客框架为Hexo"></a>&nbsp;<a target="_blank" href="https://butterfly.js.org/"><img src="https://bu.dusays.com/2023/02/10/63e57f321880a.webp" title="主题采用butterfly"></a></p></div></div><link rel="stylesheet" href="/custom/css/heartbeat.min.css" ></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="fa-solid fa-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="fa-solid fa-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="fa-solid fa-arrow-rotate-right"></i></div><div class="rightMenu-item" id="menu-home"><i class="fa-solid fa-house"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" href="/archives/"><i class="fa-solid fa-archive"></i><span>文章归档</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="fa-solid fa-folder-open"></i><span>文章分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="fa-solid fa-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuNormal"><div class="rightMenu-item" id="menu-translate"><i class="fa-solid fa-earth-asia"></i><span>繁简切换</span></div><div class="rightMenu-item" id="menu-darkmode"><i class="fa-solid fa-moon"></i><span>切换模式</span></div><div class="rightMenu-item" id="menu-print"><i class="fa-solid fa-print fa-fw"></i><span>打印页面</span></div></div></div><div id="rightmenu-mask"></div><div id="myscoll"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.mindcons.cn/',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.mindcons.cn/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><canvas id="universe"></canvas><script defer src="/custom/js/universe.js"></script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/custom/js/rightMenu.js"></script><script defer data-pjax src="/custom/js/cat.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script>window.$crisp = [];
window.CRISP_WEBSITE_ID = "717070d8-e449-4d60-b9b6-c1421478f42c";
(function () {
  d = document;
  s = d.createElement("script");
  s.src = "https://client.crisp.chat/l.js";
  s.async = 1;
  d.getElementsByTagName("head")[0].appendChild(s);
})();
$crisp.push(["safe", true])

if (true) {
  $crisp.push(["do", "chat:hide"])
  $crisp.push(["on", "chat:closed", function() {
    $crisp.push(["do", "chat:hide"])
  }])
  var chatBtnFn = () => {
    var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      $crisp.push(["do", "chat:show"])
      $crisp.push(["do", "chat:open"])

    });
  }
  chatBtnFn()
} else {
  if (true) {
    function chatBtnHide () {
      $crisp.push(["do", "chat:hide"])
    }
    function chatBtnShow () {
      $crisp.push(["do", "chat:show"])
    }
  }
}</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>